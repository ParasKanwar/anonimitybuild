{"version":3,"sources":["components/ForgotPass/SettingThePassword/ResetPass.jsx"],"names":["RP","state","loading","status","password","repass","handleChangePass","setState","headers","Headers","append","fetch","url","props","match","params","token","method","then","res","ok","setTimeout","history","push","catch","e","this","console","log","a","json","val","style","display","justifyContent","alignItems","height","background","position","zIndex","left","top","particles","number","value","size","flexDirection","padding","width","borderRadius","transition","boxShadow","className","src","require","color","Fields","onChange","target","name","fullWidth","disabled","length","bottom","variant","onClick","NotValidToken","InternalError","Success","React","PureComponent","marginTop","title","fontFamily","fontWeight","fontSize","marginBottom","placeholder","type"],"mappings":"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","file":"static/js/20.231618ac.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport Particles from \"react-particles-js\";\r\nimport { CircularProgress, TextField, Button } from \"@material-ui/core\";\r\nimport { Image } from \"semantic-ui-react\";\r\nimport \"./style.css\";\r\nimport \"../EnterEmail/style.css\";\r\nimport { Result } from \"antd\";\r\nimport url from \"../../../strings/url\";\r\nclass RP extends React.PureComponent {\r\n  state = { loading: true, status: \"\", password: \"\", repass: \"\" };\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    const headers = new Headers();\r\n    headers.append(\"content-type\", \"application/json\");\r\n    console.log(this.props.match.params.token);\r\n    fetch(`${url}/verify/PassToken/${this.props.match.params.token}`, {\r\n      method: \"GET\",\r\n      headers,\r\n    })\r\n      .then(async (res) => {\r\n        const val = await res.json();\r\n        console.log(val);\r\n        if (res.ok) {\r\n          setTimeout(() => {\r\n            this.setState({ status: \"\", loading: false });\r\n          }, 500);\r\n          return;\r\n        }\r\n        setTimeout(() => {\r\n          this.setState({ status: \"TokenNotValid\", loading: false });\r\n        }, 500);\r\n      })\r\n      .catch((e) => {\r\n        setTimeout(() => {\r\n          this.setState({ status: \"Internal\", loading: false });\r\n        }, 500);\r\n      });\r\n  }\r\n\r\n  handleChangePass = () => {\r\n    this.setState({ loading: false });\r\n    const headers = new Headers();\r\n    headers.append(\"content-type\", \"application/json\");\r\n    fetch(\r\n      `${url}/setPass/${this.props.match.params.token}/${this.state.password}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers,\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          this.setState({ loading: false, status: \"Success\" });\r\n          return setTimeout(() => {\r\n            this.props.history.push(\"/login\");\r\n          }, 500);\r\n        }\r\n        return this.setState({ loading: false, status: \"TokenNotValid\" });\r\n      })\r\n      .catch((e) => {\r\n        return this.setState({ loading: false, status: \"Internal\" });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { loading, status, password, repass } = this.state;\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n\r\n          height: \"100vh\",\r\n          background: \"rgba(0,0,0,0.9)\",\r\n        }}\r\n      >\r\n        <Particles\r\n          style={{ position: \"fixed\", zIndex: 1, left: 0, top: 0 }}\r\n          params={{\r\n            particles: {\r\n              number: {\r\n                value: 10,\r\n              },\r\n              size: { value: 10 },\r\n            },\r\n          }}\r\n        ></Particles>\r\n\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            zIndex: 5,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            flexDirection: \"column\",\r\n            position: \"relative\",\r\n            padding: 10,\r\n            width: loading ? 200 : 300,\r\n            height: loading ? 200 : 500,\r\n            borderRadius: loading ? \"50%\" : \"2%\",\r\n            background: \"black\",\r\n            transition: \"all 0.5s ease-in-out\",\r\n            boxShadow: \"0px 0px 10px rgba(255,255,255,0.2)\",\r\n          }}\r\n          className={loading ? \"rotate\" : \"\"}\r\n        >\r\n          <Image\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 10,\r\n              width: loading ? 40 : 80,\r\n              transition: \"all 0.5s ease-in-out\",\r\n            }}\r\n            src={require(\"../../../images/complainify.png\")}\r\n          ></Image>\r\n          {loading ? (\r\n            <CircularProgress\r\n              style={{ height: 50, width: 50, color: \"white\" }}\r\n            ></CircularProgress>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {status === \"\" && !loading ? (\r\n            <Fields\r\n              onChange={(e) => {\r\n                this.setState({ [e.target.name]: e.target.value });\r\n              }}\r\n              password={password}\r\n              repass={repass}\r\n            ></Fields>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {status === \"\" && !loading ? (\r\n            <Button\r\n              fullWidth\r\n              disabled={\r\n                password.length > 7 &&\r\n                password.length < 128 &&\r\n                password === repass\r\n                  ? false\r\n                  : true\r\n              }\r\n              style={{\r\n                position: \"absolute\",\r\n                background:\r\n                  password.length > 7 &&\r\n                  password.length < 128 &&\r\n                  password === repass\r\n                    ? \"rgba(255,0,0,0.7)\"\r\n                    : \"rgba(255,0,0,0.2)\",\r\n                color: \"white\",\r\n                padding: 10,\r\n                width: 280,\r\n                bottom: 30,\r\n              }}\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                this.handleChangePass();\r\n              }}\r\n            >\r\n              Change Password\r\n            </Button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {status === \"TokenNotValid\" && !loading ? (\r\n            <NotValidToken></NotValidToken>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {status === \"Internal\" && !loading ? (\r\n            <InternalError></InternalError>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {status === \"Success\" && !loading ? <Success></Success> : \"\"}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst NotValidToken = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <Result\r\n        style={{ marginTop: 70 }}\r\n        status=\"403\"\r\n        title=\"Session Has Expired\"\r\n      ></Result>\r\n      <div\r\n        style={{\r\n          color: \"rgba(255,255,255,0.9)\",\r\n          fontFamily: \"poppins\",\r\n          fontWeight: \"bold\",\r\n          fontSize: 14,\r\n          position: \"absolute\",\r\n          bottom: 10,\r\n        }}\r\n      >\r\n        Session Has Expired\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst Fields = ({ onChange, password = \"\", repass = \"\" }) => {\r\n  return (\r\n    <Fragment>\r\n      <input\r\n        name=\"password\"\r\n        className=\"enterEmail\"\r\n        style={{ width: 280, marginBottom: 10 }}\r\n        placeholder=\"New Password\"\r\n        onChange={(e) => {\r\n          onChange(e);\r\n        }}\r\n        type=\"password\"\r\n        value={password}\r\n      ></input>\r\n      <input\r\n        className=\"enterEmail\"\r\n        name=\"repass\"\r\n        style={{ width: 280 }}\r\n        placeholder=\"Re-Enter Password\"\r\n        onChange={(e) => {\r\n          onChange(e);\r\n        }}\r\n        value={repass}\r\n        type=\"password\"\r\n      ></input>\r\n    </Fragment>\r\n  );\r\n};\r\nconst InternalError = () => {\r\n  return (\r\n    <Fragment>\r\n      <Result style={{ marginTop: 60 }} status=\"500\"></Result>\r\n      <div\r\n        style={{\r\n          color: \"rgba(255,255,255,0.9)\",\r\n          fontFamily: \"poppins\",\r\n          fontWeight: \"bold\",\r\n          fontSize: 14,\r\n          position: \"absolute\",\r\n          bottom: 10,\r\n        }}\r\n      >\r\n        Internal Server Error\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst Success = () => {\r\n  return (\r\n    <Fragment>\r\n      <Result style={{ marginTop: 60 }} status=\"success\"></Result>\r\n      <div\r\n        style={{\r\n          color: \"rgba(255,255,255,0.9)\",\r\n          fontFamily: \"poppins\",\r\n          fontWeight: \"bold\",\r\n          fontSize: 14,\r\n          position: \"absolute\",\r\n          bottom: 20,\r\n        }}\r\n      >\r\n        Successfully Changed The Password\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default RP;\r\n"],"sourceRoot":""}