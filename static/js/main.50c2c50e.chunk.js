(this.webpackJsonpanonimity=this.webpackJsonpanonimity||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(41),o=a.n(s),r=(a(51),a(52),a(7)),l=a(8),c=a(10),m=a(9),u=a(11),d=function(e){return i.a.createElement("div",null,i.a.createElement("div",{style:{marginTop:100},className:"spin"}))},g=function(e){return i.a.createElement("div",{className:e.classname},i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement("img",{src:a(53),className:"image is-128x128",alt:"anonymous"})),i.a.createElement("h1",{style:{fontWeight:"bolder",fontSize:30,color:"grey",fontFamily:"arial"}},e.heading))},h=function(e){return i.a.createElement("div",{className:"container is-fluid"},i.a.createElement(g,{heading:"Not Authenticated",classname:"comingFromDown"}),i.a.createElement("button",{className:"button is-primary is-outlined comingFromUp",style:{marginTop:100},onClick:function(t){e.history.push("/login")}},"Go To LogIn Screen"))},f="http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com",p=function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",{style:{margin:100},className:"comingFromUp"},"Hello ",this.props.username,i.a.createElement("br",null),"Sorry For Inconvenience But This is to only Thing Our site has to offer (#indevelopment Stage)"),i.a.createElement("button",{className:"button is-danger comingFromDown"},"Log Out"))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={AuthenticatedStatus:"loading",username:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("content-type","application/json"),t.append("authorization",localStorage.getItem("Anonimity#123Token"));var a=new Request("".concat(f,"/user/isAuth"),{method:"GET",headers:t});fetch(a).then((function(t){200===t.status?(e.setState({AuthenticatedStatus:"Auth"}),t.json().then((function(t){console.log(t.username),e.setState({username:t.username})})).catch((function(e){console.log(e)}))):401===t.status&&e.setState({AuthenticatedStatus:"NotAuth"})})).catch((function(t){e.setState({AuthenticatedStatus:"NotAuth"})}))}},{key:"render",value:function(){return i.a.createElement("div",null,"loading"===this.state.AuthenticatedStatus?i.a.createElement(d,null):null,"NotAuth"===this.state.AuthenticatedStatus?i.a.createElement(h,{history:this.props.history}):null,"Auth"===this.state.AuthenticatedStatus?i.a.createElement(p,{username:this.state.username}):null)}}]),t}(n.Component),E=a(17),y=a(13),v=a.n(y),S=a(18),w=a(3),N=function(e){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(g,{classname:"comingFromRight"})),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:100}},i.a.createElement("form",{onSubmit:e.onSubmit},i.a.createElement("div",{className:"notification ".concat(e.isBack?"comingFromLeft":"comingFromUpP5"),style:{background:"#ffffff"}},i.a.createElement("div",{className:"box ".concat(e.isBack?"comingFromLeft":"comingFromRightP5"),style:{marginLeft:10}},i.a.createElement("div",{className:"input-field comingFromLeft"},i.a.createElement("input",{className:"".concat(e.isValidEmail?null:"is-danger-field"),type:"text",name:"email",value:e.email,onChange:e.onChangeHandler,required:!0}),i.a.createElement("label",null,"Email"),e.isValidEmail?null:i.a.createElement("p",{className:"help is-danger comingFromLeftP5"},"This email is Already Taken"))),i.a.createElement("div",{className:"box ".concat(e.isBack?"comingFromLeft":"comingFromLeftP5"),style:{marginLeft:10}},i.a.createElement("div",{className:"input-field comingFromRight"},i.a.createElement("input",{className:"".concat(e.isPasswordMatch&&e.isPasswordLengthRight?null:"is-danger-field"),type:"password",name:"password",value:e.password,onChange:e.onChangeHandler,required:!0}),i.a.createElement("label",null,"Password"),e.isPasswordLengthRight?null:i.a.createElement("p",{className:"help is-danger comingFromLeftP5"},"Password Length Must Be Greater Than 7"))),i.a.createElement("div",{className:"box ".concat(e.isBack?"comingFromLeft":"comingFromRightP5"),style:{marginLeft:10}},i.a.createElement("div",{className:"input-field comingFromLeft"},i.a.createElement("input",{className:"".concat(e.isPasswordMatch?null:"is-danger-field"),type:"password",name:"confirmpassword",value:e.confirmpassword,onChange:e.onChangeHandler,required:!0}),i.a.createElement("label",null,"Password ( Re-Enter )"),e.isPasswordMatch?null:i.a.createElement("p",{className:"help is-danger comingFromLeftP5"},"Password doesn't Match"))),i.a.createElement("div",{className:"notification",style:{background:"#ffffff",marginLeft:10,display:"flex",justifyContent:"center",flexDirection:"column"}},i.a.createElement("button",{className:"button is-primary ".concat(e.isBack?"comingFromLeft":"comingFromLeftP5"," ").concat(e.isLoading?"is-loading":null),style:{marginLeft:10},type:"submit"},"Next"),i.a.createElement("h1",{style:{marginTop:10,fontWeight:"bolder"}},"------- OR -------"),i.a.createElement("button",{type:"button",className:"button is-info ".concat(e.isBack?"comingFromLeft":"comingFromRight"),style:{marginTop:10,marginLeft:10},onClick:function(t){return e.history.push("/login")}},"Already have Account?"))))))},k=function(e){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(g,{classname:"comingFromRight"})),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:100}},i.a.createElement("form",{onSubmit:e.onSubmit},i.a.createElement("div",{className:"notification",style:{background:"#ffffff"}},i.a.createElement("div",{className:"box ".concat(e.isBack?"comingFromLeftP5":"comingFromRightP5"),style:{marginLeft:10}},i.a.createElement("div",{className:"input-field "},i.a.createElement("input",{className:"comingFromRight",type:"text",name:"username",value:e.username,onChange:e.onChangeHandler,required:!0}),i.a.createElement("label",null,"UserName"),e.isUsernameCorrect?null:i.a.createElement("p",{className:"help is-danger comingFromLeftP5"},"Enter Valid Username"))),i.a.createElement("div",{className:"box ".concat(e.isBack?"comingFromLeftP5":"comingFromRightP5"),style:{marginLeft:10}},i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"input-field ".concat(e.isBack?"comingFromLeftP5":"comingFromRightP5")},i.a.createElement("p",{className:"control has-icons-right"},i.a.createElement("input",{className:"input comingFromLeft ".concat(e.NotValidPhone?"is-danger-field":null),style:{outline:"none",boxShadow:"none",borderRadius:0},type:"tel",name:"phone",value:e.phone,onChange:e.onChangeHandler,required:!0}),i.a.createElement("label",null,"Phone"),i.a.createElement("span",{className:"icon is-small is-right"},i.a.createElement("i",{className:"fas fa-phone",style:{marginBottom:10}})))),e.NotValidPhone?i.a.createElement("p",{className:"help is-danger comingFromLeftP5"},"Enter A Valid Phone"):null)),i.a.createElement("div",{className:"box ".concat(e.isBack?"comingFromLeftP5":"comingFromRightP5"),style:{marginLeft:10}},i.a.createElement("div",{className:"field ".concat(e.isBack?"comingFromLeftP5":"comingFromRightP5")},i.a.createElement("div",{className:"select"},i.a.createElement("select",{placeholder:"Select College",onChange:function(t){e.setState({organization:t.target.value,isCollegeSelected:!0})}},e.isSelected?"":i.a.createElement("option",{value:""},"Select College"),i.a.createElement("option",{value:"SDIET"},"SDIET")))),e.noOrg?i.a.createElement("p",{className:"help is-danger comingFromLeftP5"},"Please Select The College"):null),i.a.createElement("div",{className:"notification",style:{background:"#ffffff",marginLeft:10,display:"flex",justifyContent:"center",flexDirection:"column"}},i.a.createElement("button",{className:"button is-primary comingFromRightP5 ".concat(e.isLoading?"is-loading":null),style:{marginLeft:10},type:"submit"},i.a.createElement("i",{className:"fas fa-arrow-right arrowRight"})),i.a.createElement("button",{type:"button",className:"button is-info comingFromRight",style:{marginTop:10,marginLeft:10},onClick:function(t){return e.onBack()}},i.a.createElement("i",{className:"fas fa-arrow-left arrowLeft"})))))))},L=function(e){var t=Object.keys(e.data).map((function(t){return i.a.createElement("div",{key:t,style:{display:"flex",justifyContent:"center"}},i.a.createElement("label",{style:{marginLeft:10,marginRight:10,fontWeight:"bolder"}},t,i.a.createElement("i",{className:"fas fa-long-arrow-alt-right",style:{marginLeft:10}})),i.a.createElement("h1",null,e.data[t]))}));return i.a.createElement("div",null,i.a.createElement(g,{heading:"Verify Details"}),e.hasSignUp?i.a.createElement("div",{className:"container is Fluid"},i.a.createElement("div",{className:"notification is-primary comingFromLeft"},i.a.createElement("h1",{style:{fontWeight:"bolder"}},"You've Been SuccessFully Registered(Redirecting To LoginScreen in 3 Seconds)"),i.a.createElement("div",{className:"spin",style:{width:50,height:50,marginTop:10}}))):"",e.internalServerError?i.a.createElement("div",{className:"container is Fluid"},i.a.createElement("div",{className:"notification is-danger notificationSlide"},i.a.createElement("h1",{style:{fontWeight:"bolder"}},"Sorry !! We got Some Technical Difficulties"))):"",i.a.createElement("div",{className:"container is-fluid",style:{display:"flex",justifyContent:"center"}},i.a.createElement("div",{className:"notification comingFromDownP5",style:{marginTop:50}},t)),i.a.createElement("div",{className:"container is-fluid",style:{display:"flex",flexDirection:"row",justifyContent:"center"}},i.a.createElement("div",{className:"notification",style:{background:"#ffffff",marginLeft:10,display:"flex",width:500,justifyContent:"center",flexDirection:"column"}},i.a.createElement("button",{className:"button is-primary comingFromDown ".concat(e.isLoading?"is-loading":""),style:{marginTop:30},onClick:e.onSubmit},"SignUp"),i.a.createElement("button",{className:"button is-info comingFromDown",style:{marginTop:10},onClick:function(){e.onBack()}},i.a.createElement("i",{className:"fas fa-arrow-left arrowLeft100"})))))},C=a(42),F=a.n(C),P=a(21),j=a.n(P),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",username:"",password:"",confirmpassword:"",dob:"",organization:"",phone:"",createdAt:F()(),calenderFocused:!1,stage:1,button:{stage1:{isLoading:!1}},isPasswordMatch:!0,isValidEmail:!0,isPasswordLengthRight:!0,isBack1:!1,isBack2:!1,isUserNameLengthRight:!0,NotValidPhone:!1,noOrg:!1,isStage3:!1,internalServerError:!1,hasSignUp:!1},a.onChangeHandler=a.onChangeHandler.bind(Object(w.a)(a)),a.onSubmit1=a.onSubmit1.bind(Object(w.a)(a)),a.onSubmit2=a.onSubmit2.bind(Object(w.a)(a)),a.onSubmit3=a.onSubmit3.bind(Object(w.a)(a)),a.validate1=a.validate1.bind(Object(w.a)(a)),a.validate2=a.validate2.bind(Object(w.a)(a)),a.onBack1=a.onBack1.bind(Object(w.a)(a)),a.onBack2=a.onBack2.bind(Object(w.a)(a)),a.setOrganizationState=a.setOrganizationState.bind(Object(w.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onBack2",value:function(){this.setState({stage:2})}},{key:"validate2",value:function(){return this.state.username.length<3?(this.setState({isUserNameLengthRight:!1}),!1):j.a.isMobilePhone(this.state.phone)?""!==this.state.organization||(this.setState({noOrg:!0}),!1):(this.setState({NotValidPhone:!0}),!1)}},{key:"onSubmit3",value:function(){var e=Object(S.a)(v.a.mark((function e(t){var a,n,i,s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isStage3:!0}),e.prev=1,(a=new Headers).append("content-type","application/json"),n={email:this.state.email,password:this.state.password,organization:this.state.organization,username:this.state.username,phone:this.state.phone},i=new Request("".concat(f,"/user/signup"),{method:"POST",headers:a,body:JSON.stringify(n)}),e.next=8,fetch(i);case 8:if(500!==e.sent.status){e.next=11;break}return e.abrupt("return",this.setState({internalServerError:!0,isStage3:!1}));case 11:this.setState({hasSignUp:!0}),setTimeout((function(){s.props.history.push("/login")}),3e3),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",this.setState({internalServerError:!0,isStage3:!1}));case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit2",value:function(e){this.validate2()&&this.setState({stage:3}),e.preventDefault()}},{key:"validate1",value:function(){var e=Object(S.a)(v.a.mark((function e(){var t,a,n,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.a.isEmail(this.state.email)){e.next=3;break}return e.abrupt("return",this.setState({isValidEmail:!1,button:{stage1:{isLoading:!1}}}));case 3:if(!(this.state.password.length<8)){e.next=5;break}return e.abrupt("return",this.setState({isPasswordLengthRight:!1,button:{stage1:{isLoading:!1}}}));case 5:if(j.a.isEmail(this.state.email)){e.next=7;break}return e.abrupt("return",this.setState({isValidEmail:!1,button:{stage1:{isLoading:!1}}}));case 7:if(t=this.state.password===this.state.confirmpassword){e.next=10;break}return e.abrupt("return",this.setState({isPasswordMatch:!1,button:{stage1:{isLoading:!1}}}));case 10:return(a=new Headers).append("content-type","application/json"),n=new Request("".concat(f,"/user/verifyEmail/").concat(this.state.email),{method:"GET",headers:a}),e.next=15,fetch(n);case 15:return i=e.sent,e.next=18,i.json();case 18:if(s=e.sent,!s.isEmailValid||!t){e.next=22;break}return e.abrupt("return",this.setState({stage:2,button:{stage1:{isLoading:!1}},isPasswordLengthRight:!0,isPasswordMatch:!0,isValidEmail:!0}));case 22:this.setState({isValidEmail:!1,button:{stage1:{isLoading:!1}}}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),this.setState({isValidEmail:!1,button:{stage1:{isLoading:!1}}});case 28:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeHandler",value:function(e){var t;this.setState((t={},Object(E.a)(t,e.target.name,e.target.value),Object(E.a)(t,"internalServerError",!1),t)),"email"===e.target.name&&this.setState({isValidEmail:!0}),"password"!==e.target.name&&"confirmpassword"!==e.target.name||this.setState({isPasswordMatch:!0,isPasswordLengthRight:!0}),"phone"===e.target.name&&this.setState({NotValidPhone:!1}),"username"===e.target.name&&this.setState({isUserNameLengthRight:!0})}},{key:"onBlurChangeHandler",value:function(e){e.name}},{key:"onSubmit1",value:function(e){e.preventDefault(),this.setState({button:{stage1:{isLoading:!0}}}),this.validate1()}},{key:"onBack1",value:function(e){this.setState({stage:1,isBack1:!0})}},{key:"setOrganizationState",value:function(e){var t=e.organization,a=e.isCollegeSelected;this.setState({organization:t,isCollegeSelected:a})}},{key:"render",value:function(){return i.a.createElement("div",null,1===this.state.stage?i.a.createElement(N,{onChangeHandler:this.onChangeHandler,onSubmit:this.onSubmit1,isBack:this.state.isBack1,history:this.props.history,isLoading:this.state.button.stage1.isLoading,isValidEmail:this.state.isValidEmail,isPasswordMatch:this.state.isPasswordMatch,isPasswordLengthRight:this.state.isPasswordLengthRight,email:this.state.email,password:this.state.password,confirmpassword:this.state.confirmpassword}):null,2===this.state.stage?i.a.createElement(k,{onChangeHandler:this.onChangeHandler,username:this.state.username,phone:this.state.phone,isBack:this.state.isBack2,onBack:this.onBack1,isSelected:this.state.isCollegeSelected,setState:this.setOrganizationState,onSubmit:this.onSubmit2,isUsernameCorrect:this.state.isUserNameLengthRight,NotValidPhone:this.state.NotValidPhone,noOrg:this.state.noOrg}):null,3===this.state.stage?i.a.createElement(L,{data:{Username:this.state.username,Email:this.state.email,Phone:this.state.phone,College:this.state.organization},onBack:this.onBack2,onSubmit:this.onSubmit3,isLoading:this.state.isStage3,hasSignUp:this.state.hasSignUp,internalServerError:this.state.internalServerError}):null)}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:"",loginStatus:""},a.onSignUpHandler=a.onSignUpHandler.bind(Object(w.a)(a)),a.onChangeHandler=a.onChangeHandler.bind(Object(w.a)(a)),a.onSubmitHandler=a.onSubmitHandler.bind(Object(w.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChangeHandler",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value)),this.setState({loginStatus:""})}},{key:"onBlurChangeHandler",value:function(e){e.name}},{key:"onSignUpHandler",value:function(e){this.props.history.push("signup")}},{key:"onSubmitHandler",value:function(e){var t=this;this.setState({loginStatus:"loading"});var a=JSON.stringify({email:this.state.email,password:this.state.password}),n=new Headers;n.append("content-type","application/json"),console.log(f);var i=new Request("".concat(f,"/user/login"),{method:"POST",headers:n,body:a});fetch(i).then(function(){var e=Object(S.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==a.status){e.next=9;break}return e.next=3,a.json();case 3:n=e.sent,t.setState({loginStatus:""}),localStorage.setItem("Anonimity#123Token",n.token),t.props.history.push("/home"),e.next=10;break;case 9:t.setState({loginStatus:"invalid"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({loginStatus:"unable"})})),e.preventDefault()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(g,{classname:"comingFromRightP5",heading:"Anonimity(LogIn)"})),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:100}},i.a.createElement("form",{onSubmit:this.onSubmitHandler},"invalid"===this.state.loginStatus?i.a.createElement("div",{className:"notification comingFromLeftP5 is-danger",style:{marginTop:10}},"Invalid Credentials"):null,i.a.createElement("div",{className:"notification comingFromLeft",style:{background:"#ffffff"}},i.a.createElement("div",{className:"box comingFromUp",style:{marginLeft:10}},i.a.createElement("div",{className:"input-field comingFromRight"},i.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.onChangeHandler,required:!0}),i.a.createElement("label",null,"Email"))),i.a.createElement("div",{className:"box comingFromDown",style:{marginLeft:10}},i.a.createElement("div",{className:"input-field comingFromLeft"},i.a.createElement("input",{type:"password",name:"password",value:this.state.password,required:!0,onChange:this.onChangeHandler}),i.a.createElement("label",null,"Password"))),i.a.createElement("div",{className:"notification",style:{background:"#ffffff",marginLeft:10,display:"flex",justifyContent:"center",flexDirection:"column"}},i.a.createElement("button",{className:"button is-primary comingFromDown ".concat("loading"===this.state.loginStatus?"is-loading":null),style:{marginLeft:10},type:"submit"},"Sign In"),i.a.createElement("h1",{className:"comingFromLeft",style:{marginTop:10,fontWeight:"bolder"}},"------- OR -------"),i.a.createElement("button",{type:"button",className:"button is-info comingFromUp",style:{marginTop:10,marginLeft:10},onClick:this.onSignUpHandler},"Sign Up"))))))}}]),t}(n.Component),B=a(43),R=a(12);var H=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(B.a,null,i.a.createElement(R.a,{exact:!0,path:"/signup",component:x}),i.a.createElement(R.a,{exact:!0,path:"/login",component:O}),i.a.createElement(R.a,{exact:!0,path:"/home",component:b}),i.a.createElement(R.a,{exact:!0,path:"/",component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports=a(124)},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/complainify.bc7f0fe6.png"}},[[46,1,2]]]);
//# sourceMappingURL=main.50c2c50e.chunk.js.map