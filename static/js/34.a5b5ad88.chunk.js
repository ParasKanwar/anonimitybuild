(this.webpackJsonpanonimityrecreating=this.webpackJsonpanonimityrecreating||[]).push([[34],{109:function(e,t,n){"use strict";n.r(t);var a=n(31),o=n(178),r=n.n(o),c=n(179),i=n(168),u=n(0),l=n.n(u),p=n(827),s=n(741),d=n(194),m=n(29),f=n(1288),y=n(1290),h=n(72),b=n(563),v=n(132),j=n(536),O=n(477),g=n(633),E=n(73),w=n(36),T=n(35),S=n(1287),k=n(1168),A=n(1289),P=n(1291),z=n(1292),R=n(1293),C=n(41),H=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(26)]).then(n.bind(null,1029))})),q=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(24)]).then(n.bind(null,1042))})),B=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(25)]).then(n.bind(null,1030))})),G=Object(h.a)({palette:{primary:w.a,secondary:{main:"rgba(255,255,255,0.5)"}}}),N=[{type:"none",name:"Show All"},{type:"public",name:"Public"},{type:"anonymous",name:"Anonymous"}],D=[{type:"latest",name:"Latest"},{type:"oldest",name:"Oldest"}],V=[{type:"all",name:"All"},{type:"Technical",name:"Technical"},{type:"Academic",name:"Academic"},{type:"Registration",name:"Registration"},{type:"TP",name:"Placement"},{type:"Others",name:"Others"}];t.default=Object(m.b)((function(e){return{token:e.userReducer.token,id:e.userReducer.id}}))((function(e){var t=Object(u.useState)(!1),n=Object(i.a)(t,2),o=n[0],m=n[1],h=Object(u.useState)(!1),w=Object(i.a)(h,2),I=w[0],x=w[1],F=Object(u.useState)(1),L=Object(i.a)(F,2),U=L[0],J=L[1],M=Object(u.useState)([]),W=Object(i.a)(M,2),_=W[0],$=W[1],K=Object(u.useState)(0),Q=Object(i.a)(K,2),X=Q[0],Y=Q[1],Z=Object(u.useState)(0),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(u.useState)(null),oe=Object(i.a)(ae,2),re=oe[0],ce=oe[1],ie=Object(u.useState)(!1),ue=Object(i.a)(ie,2),le=ue[0],pe=ue[1],se=function(){var t=Object(c.a)(r.a.mark((function t(n,a){var o,c,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,Object(d.getNearByProblems)(e.token,10*(n-1),a);case 4:if(!(o=t.sent).ok){t.next=13;break}return t.next=8,o.json();case 8:return c=t.sent,i=c.problems,u=c.count,i&&($(i),ne(u),x(!1)),t.abrupt("return");case 13:x(!1),m(!0),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),x(!1),m(!0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n){return t.apply(this,arguments)}}(),de=Object(u.useState)(null),me=Object(i.a)(de,2),fe=me[0],ye=me[1],he=Object(u.useState)(!1),be=Object(i.a)(he,2),ve=be[0],je=be[1],Oe=Object(u.useState)("up"),ge=Object(i.a)(Oe,2),Ee=ge[0],we=ge[1],Te=Object(u.useState)({current:"none",prev:"none"}),Se=Object(i.a)(Te,2),ke=Se[0],Ae=Se[1],Pe=Object(u.useState)({current:"latest",prev:"latest"}),ze=Object(i.a)(Pe,2),Re=ze[0],Ce=ze[1],He=Object(u.useState)({current:"all",prev:"all"}),qe=Object(i.a)(He,2),Be=qe[0],Ge=qe[1],Ne=Object(u.useState)(0),De=Object(i.a)(Ne,2);De[0],De[1];return Object(u.useEffect)((function(){e.socket&&!e.socket._callbacks.$complaint&&e.socket.on("complaint",(function(e){"added"===e.action&&pe(!0)})),0===X&&(se(U,{sortBy:Re.current,filter:ke.current,Type:Be.current}),Y(1)),ke.current===ke.prev&&Re.current===Re.prev&&Be.current===Be.prev||(se(1,{sortBy:Re.current,filter:ke.current,Type:Be.current}),J(1),Ae(Object(a.a)({},ke,{prev:ke.current})),Ce(Object(a.a)({},Re,{prev:Re.current})),Ge(Object(a.a)({},Be,{prev:Be.current})))})),l.a.createElement("div",null,l.a.createElement(b.a,{open:le,autoHideDuration:6e3,onClose:function(){pe(!1)},ContentProps:{style:{fontFamily:"poppins",fontSize:16}},transitionDuration:300,message:"There maybe new complaints",anchorOrigin:{vertical:"bottom",horizontal:"center"},action:l.a.createElement(u.Fragment,null,l.a.createElement(v.a,{style:{color:"white"},onClick:function(){se(1,{sortBy:"latest",filter:"none"}),Ae(Object(a.a)({},ke,{prev:ke.current})),Ce(Object(a.a)({},Re,{prev:Re.current})),pe(!1)}},l.a.createElement(S.a,null)),l.a.createElement(v.a,{onClick:function(){pe(!1)},style:{color:T.a[600]}},l.a.createElement(k.a,null)))}),l.a.createElement(j.a,{theme:G},l.a.createElement(p.a,{onUpdate:function(e,t){we(t.calculations.direction)}},l.a.createElement(O.a,{anchorEl:fe,open:Boolean(fe),onClose:function(){ye(null),ce(null)}},"filter"===re&&N.map((function(e){return l.a.createElement(g.a,{key:e.name,style:{width:200},onClick:function(){Ae(Object(a.a)({},ke,{current:e.type})),ye(null),je(!1)}},l.a.createElement(E.a,{checked:ke.current===e.type,color:"primary"}),l.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))})),"sort"===re&&D.map((function(e){return l.a.createElement(g.a,{style:{width:200},key:e.name,onClick:function(){Ce(Object(a.a)({},Re,{current:e.type})),ye(null),je(!1)}},l.a.createElement(E.a,{color:"primary",name:e.type,checked:Re.current===e.type}),l.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))})),"Type"===re&&V.map((function(e){return l.a.createElement(g.a,{style:{width:200},key:e.name,onClick:function(){Ge(Object(a.a)({},Be,{current:e.type})),ye(null),je(!1)}},l.a.createElement(E.a,{color:"primary",name:e.type,checked:Be.current===e.type}),l.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))}))),l.a.createElement("div",{style:{position:"fixed",right:"2%",bottom:"10%",zIndex:100}},l.a.createElement(f.a,{ariaLabel:"filter and sorter",icon:l.a.createElement(A.a,{style:{color:"white"}}),open:ve,color:"secondary",direction:"up",hidden:"up"!==Ee&&!ve,onClose:function(){je(!1)},onOpen:function(){je(!0)}},l.a.createElement(y.a,{icon:l.a.createElement(P.a,null),tooltipTitle:"Filters",tooltipOpen:!0,onClick:function(e){ce("filter"),ye(e.currentTarget)}}),l.a.createElement(y.a,{onClick:function(e){ce("sort"),ye(e.currentTarget)},tooltipOpen:!0,tooltipTitle:"SortBy",icon:l.a.createElement(z.a,null)}),l.a.createElement(y.a,{onClick:function(e){ce("Type"),ye(e.currentTarget)},tooltipOpen:!0,tooltipTitle:"ComplaintType",icon:l.a.createElement(R.a,null)}))),l.a.createElement(s.a,s.a.onlyComputer,l.a.createElement(u.Suspense,{fallback:C.T},l.a.createElement(H,Object.assign({deviceType:"comp",Problems:_,id:e.id,pageNo:U,setPageNo:function(e){se(e,{sortBy:Re.current,filter:ke.current,type:Be.current}),J(e)},problemsCount:te,isError:o,isLoading:I},e)))),l.a.createElement(s.a,s.a.onlyTablet,l.a.createElement(u.Suspense,{fallback:C.T},l.a.createElement(q,Object.assign({},e,{deviceType:"tab",Problems:_,id:e.id,pageNo:U,setPageNo:function(e){se(e,{sortBy:Re.current,filter:ke.current,type:Be.current}),J(e)},problemsCount:te,isError:o,isLoading:I})))),l.a.createElement(s.a,s.a.onlyMobile,l.a.createElement(u.Suspense,{fallback:C.T},l.a.createElement(B,Object.assign({},e,{deviceType:"mob",Problems:_,id:e.id,pageNo:U,setPageNo:function(e){se(e,{sortBy:Re.current,filter:ke.current,type:Be.current}),J(e)},problemsCount:te,isError:o,isLoading:I})))))))}))},167:function(e,t,n){"use strict";n.r(t);t.default="https://anonymity.uno"},194:function(e,t,n){"use strict";n.r(t),n.d(t,"isAuthRequest",(function(){return o})),n.d(t,"getMyProblems",(function(){return r})),n.d(t,"getNearByProblems",(function(){return c})),n.d(t,"postMyPost",(function(){return i})),n.d(t,"UpVote",(function(){return u})),n.d(t,"RemoveUpVote",(function(){return l})),n.d(t,"DownVote",(function(){return p})),n.d(t,"RemoveDownVote",(function(){return s})),n.d(t,"postComment",(function(){return d})),n.d(t,"getComments",(function(){return m})),n.d(t,"getVotesBy",(function(){return f})),n.d(t,"getCommentsCount",(function(){return y})),n.d(t,"findPeople",(function(){return h})),n.d(t,"logout",(function(){return b})),n.d(t,"logoutall",(function(){return v})),n.d(t,"PeopleProfile",(function(){return j})),n.d(t,"getSomeoneProblems",(function(){return O})),n.d(t,"getSensitiveContent",(function(){return g}));var a=n(167),o=function(e){var t=new Headers;t.append("content-type","application/json"),t.append("Authorization",e);var n=new Request("".concat(a.default,"/user/isAuth"),{method:"GET",headers:t});return fetch(n)},r=function(e,t,n,o,r){var c=new Headers;c.append("content-type","application/json"),c.append("Authorization",e);var i=new Request("".concat(a.default,"/user/myProblems/").concat(t,"/").concat(n,"?sortBy=").concat("Latest"!==o?o:"","&ProblemType=").concat(r),{method:"GET",headers:c});return console.log(o),fetch(i)},c=function(e,t,n){var o=new Headers;o.append("sortby",n.sortBy),o.append("filter",n.filter),o.append("type",n.Type),o.append("Authorization",e);var r=new Request("".concat(a.default,"/user/getProblems/").concat(t),{method:"GET",headers:o});return fetch(r)},i=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5?arguments[5]:void 0,i=new Headers,u=JSON.stringify({Description:t,Post_Type:n,Media:o,Anonymous:r,ProblemType:c});i.append("content-type","application/json"),i.append("Authorization",e);var l=new Request("".concat(a.default,"/user/post"),{method:"POST",headers:i,body:u});return fetch(l)},u=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var o=new Request("".concat(a.default,"/user/post/UpVote/").concat(e),{method:"POST",headers:n});return fetch(o)},l=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var o=new Request("".concat(a.default,"/user/post/UpVote/").concat(e),{method:"Delete",headers:n});return fetch(o)},p=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var o=new Request("".concat(a.default,"/user/post/DownVote/").concat(e),{method:"POST",headers:n});return fetch(o)},s=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var o=new Request("".concat(a.default,"/user/post/DownVote/").concat(e),{method:"Delete",headers:n});return fetch(o)},d=function(e,t,n){var o=new Headers,r=JSON.stringify({description:n});o.append("content-type","application/json"),o.append("Authorization",t);var c=new Request("".concat(a.default,"/comments/").concat(e),{method:"Post",headers:o,body:r});return fetch(c)},m=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var o=new Request("".concat(a.default,"/user/comments/").concat(e),{method:"GET",headers:n});return fetch(o)},f=function(e,t,n){var o=new Headers;o.append("content-type","application/json"),o.append("Authorization",e);var r=new Request("".concat(a.default,"/problem/").concat(n,"/").concat(t),{method:"GET",headers:o});return fetch(r)},y=function(e){var t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("content-type","application/json");var n=new Request("".concat(a.default,"/commentsCount/").concat(e),{method:"GET",headers:t});return fetch(n)},h=function(e){var t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("content-type","application/json");var n=new Request("".concat(a.default,"/user/findUser/").concat(e),{method:"GET",headers:t});return fetch(n)},b=function(){var e=new Headers;e.append("Authorization",localStorage.getItem("AnonymityToken#123")),e.append("content-type","application/json");var t=new Request("".concat(a.default,"/user/logout"),{method:"GET",headers:e});return fetch(t)},v=function(){var e=new Headers;e.append("Authorization",localStorage.getItem("AnonymityToken#123")),e.append("content-type","application/json");var t=new Request("".concat(a.default,"/user/logoutall"),{method:"GET",headers:e});return fetch(t)},j=function(e){var t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("content-type","application/json");var n=new Request("".concat(a.default,"/user/profile/").concat(e),{method:"GET",headers:t});return fetch(n)},O=function(e,t){var n=new Headers;n.append("Authorization",localStorage.getItem("AnonymityToken#123")),n.append("content-type","application/json");var o=new Request("".concat(a.default,"/user/SProblems/").concat(e,"/").concat(t),{method:"GET",headers:n});return fetch(o)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{sortBy:-1,filter:null},n=new Headers;n.append("Authorization",localStorage.getItem("AnonymityToken#123")),n.append("content-type","application/json"),n.append("sortBy",!0);var o=JSON.stringify(t);return fetch("".concat(a.default,"/user/post/sensitive/").concat(e),{method:"POST",headers:n,body:o})}}}]);
//# sourceMappingURL=34.a5b5ad88.chunk.js.map