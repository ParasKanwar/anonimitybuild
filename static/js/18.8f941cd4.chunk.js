(this.webpackJsonpanonimityrecreating=this.webpackJsonpanonimityrecreating||[]).push([[18],{729:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(16),o=a.n(r),c=a(33),i=a(9),l=a(0),s=a.n(l),u=a(699),m=a(56),p=a(837),d=a(838),f=a(841),g=a(40),b=a(50),y=a(1214),E=a(1216),h=a(278),v=a(284),j=a(117),O=a(691),C=a(688),k=a(429),P=a(1087),S=a(159),T=a(143),L=a(1213),w=a(1011),x=a(1215),N=a(1217),B=a(1218),F=Object(h.a)({palette:{primary:S.a,secondary:{main:"rgba(255,255,255,0.5)"}}}),z=[{type:"none",name:"Show All"},{type:"public",name:"Public"},{type:"anonymous",name:"Anonymous"}],A=[{type:"latest",name:"Latest"},{type:"oldest",name:"Oldest"}];t.default=Object(b.b)((function(e){return{token:e.userReducer.token,id:e.userReducer.id}}))((function(e){var t=Object(l.useState)(!1),a=Object(i.a)(t,2),r=a[0],b=a[1],h=Object(l.useState)(!1),S=Object(i.a)(h,2),R=S[0],D=S[1],H=Object(l.useState)(1),M=Object(i.a)(H,2),I=M[0],J=M[1],W=Object(l.useState)([]),U=Object(i.a)(W,2),$=U[0],_=U[1],q=Object(l.useState)(0),G=Object(i.a)(q,2),K=G[0],Q=G[1],V=Object(l.useState)(0),X=Object(i.a)(V,2),Y=X[0],Z=X[1],ee=Object(l.useState)(null),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],re=Object(l.useState)(!1),oe=Object(i.a)(re,2),ce=oe[0],ie=oe[1],le=function(){var t=Object(c.a)(o.a.mark((function t(a,n){var r,c,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,D(!0),t.next=4,Object(g.getNearByProblems)(e.token,10*(a-1),n);case 4:if(!(r=t.sent).ok){t.next=13;break}return t.next=8,r.json();case 8:return c=t.sent,i=c.problems,l=c.count,i&&(_(i),Z(l),D(!1)),t.abrupt("return");case 13:D(!1),b(!0),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),D(!1),b(!0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,a){return t.apply(this,arguments)}}(),se=Object(l.useState)(null),ue=Object(i.a)(se,2),me=ue[0],pe=ue[1],de=Object(l.useState)(!1),fe=Object(i.a)(de,2),ge=fe[0],be=fe[1],ye=Object(l.useState)("up"),Ee=Object(i.a)(ye,2),he=Ee[0],ve=Ee[1],je=Object(l.useState)({current:"none",prev:"none"}),Oe=Object(i.a)(je,2),Ce=Oe[0],ke=Oe[1],Pe=Object(l.useState)({current:"latest",prev:"latest"}),Se=Object(i.a)(Pe,2),Te=Se[0],Le=Se[1];return Object(l.useEffect)((function(){e.socket&&!e.socket._callbacks.$complaint&&e.socket.on("complaint",(function(e){"added"===e.action&&ie(!0)})),0===K&&(le(I,{sortBy:Te.current,filter:Ce.current}),Q(1)),Ce.current===Ce.prev&&Te.current===Te.prev||(le(1,{sortBy:Te.current,filter:Ce.current}),J(1),ke(Object(n.a)({},Ce,{prev:Ce.current})),Le(Object(n.a)({},Te,{prev:Te.current})))})),s.a.createElement("div",null,s.a.createElement(v.a,{open:ce,autoHideDuration:6e3,onClose:function(){ie(!1)},ContentProps:{style:{fontFamily:"poppins",fontSize:16}},transitionDuration:300,message:"There maybe new complaints",anchorOrigin:{vertical:"bottom",horizontal:"center"},action:s.a.createElement(l.Fragment,null,s.a.createElement(j.a,{style:{color:"white"},onClick:function(){le(1,{sortBy:"latest",filter:"none"}),ke(Object(n.a)({},Ce,{prev:Ce.current})),Le(Object(n.a)({},Te,{prev:Te.current})),ie(!1)}},s.a.createElement(L.a,null)),s.a.createElement(j.a,{onClick:function(){ie(!1)},style:{color:T.a[600]}},s.a.createElement(w.a,null)))}),s.a.createElement(O.a,{theme:F},s.a.createElement(u.a,{onUpdate:function(e,t){ve(t.calculations.direction)}},s.a.createElement(C.a,{anchorEl:me,open:Boolean(me),onClose:function(){pe(null),ne(null)}},"filter"===ae?z.map((function(e){return s.a.createElement(k.a,{key:e.name,style:{width:200},onClick:function(){ke(Object(n.a)({},Ce,{current:e.type})),pe(null),be(!1)}},s.a.createElement(P.a,{checked:Ce.current===e.type,color:"primary"}),s.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))})):A.map((function(e){return s.a.createElement(k.a,{style:{width:200},key:e.name,onClick:function(){Le(Object(n.a)({},Te,{current:e.type})),pe(null),be(!1)}},s.a.createElement(P.a,{color:"primary",name:e.type,checked:Te.current===e.type}),s.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))}))),s.a.createElement("div",{style:{position:"fixed",right:"2%",bottom:"10%",zIndex:100}},s.a.createElement(y.a,{ariaLabel:"filter and sorter",icon:s.a.createElement(x.a,{style:{color:"white"}}),open:ge,color:"secondary",direction:"up",hidden:"up"!==he&&!ge,onClose:function(){be(!1)},onOpen:function(){be(!0)}},s.a.createElement(E.a,{icon:s.a.createElement(N.a,null),tooltipTitle:"Filters",tooltipOpen:!0,onClick:function(e){ne("filter"),pe(e.currentTarget)}}),s.a.createElement(E.a,{onClick:function(e){ne("sort"),pe(e.currentTarget)},tooltipOpen:!0,tooltipTitle:"SortBy",icon:s.a.createElement(B.a,null)}))),s.a.createElement(m.a,m.a.onlyComputer,s.a.createElement(p.default,Object.assign({deviceType:"comp",Problems:$,id:e.id,pageNo:I,setPageNo:function(e){le(e,{sortBy:Te.current,filter:Ce.current}),J(e)},problemsCount:Y,isError:r,isLoading:R},e))),s.a.createElement(m.a,m.a.onlyTablet,s.a.createElement(d.default,Object.assign({},e,{deviceType:"tab",Problems:$,id:e.id,pageNo:I,setPageNo:function(e){le(e,{sortBy:Te.current,filter:Ce.current}),J(e)},problemsCount:Y,isError:r,isLoading:R}))),s.a.createElement(m.a,m.a.onlyMobile,s.a.createElement(f.default,Object.assign({},e,{deviceType:"mob",Problems:$,id:e.id,pageNo:I,setPageNo:function(e){le(e,{sortBy:Te.current,filter:Ce.current}),J(e)},problemsCount:Y,isError:r,isLoading:R}))))))}))},791:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a(0),r=n.createContext();function o(){return n.useContext(r)}t.a=r},792:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a(791);function o(){return n.useContext(r.a)}},837:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(218),c=a(39),i=a(710),l=a(292),s=a(712),u=a(43);t.default=function(e){var t=e.problemsCount;return r.a.createElement(o.a,{container:!0},r.a.createElement(o.a,{item:!0,sm:3}),r.a.createElement(o.a,{item:!0,sm:6},0===e.Problems.length||e.isLoading?e.isError||e.isLoading?e.isLoading?"":r.a.createElement(s.a,{status:"error",title:"There's Some Error Fetching Data From The Server"}):r.a.createElement(s.a,{status:"info",title:"No Problems Here! Check Again Later..."}):r.a.createElement("div",{style:{marginTop:10,display:"flex",justifyContent:"center"}},r.a.createElement(l.default,e)),t>10&&!e.isLoading?r.a.createElement(u.CenterStuff,{style:{marginTop:100,marginBottom:300}},r.a.createElement(i.a,{count:Math.floor(t/10)+1,page:e.pageNo,onChange:function(t,a){window.scrollTo(0,0),e.setPageNo(a)}})):r.a.createElement("div",{style:{marginBottom:100,marginTop:100}}),e.isLoading?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(c.a,{style:{width:100,height:100,marginTop:200,color:"black"}})):""),r.a.createElement(o.a,{item:!0,sm:3}))}},838:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(218),c=a(39),i=a(292),l=a(1650),s=a(712);a(43);t.default=function(e){var t=e.problemsCount;return r.a.createElement(o.a,{container:!0},r.a.createElement(o.a,{item:!0,sm:1}),r.a.createElement(o.a,{item:!0,sm:10},0===e.Problems.length||e.isLoading?e.isError||e.isLoading?e.isLoading?"":r.a.createElement(s.a,{status:"error",title:"There's Some Error Fetching Data From The Server"}):r.a.createElement(s.a,{status:"info",title:"No Problems Here! Check Again Later..."}):r.a.createElement(i.default,e),t>10&&!e.isLoading?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(l.a,{pointing:!0,secondary:!0,siblingRange:0,onPageChange:function(t,a){var n=a.activePage;window.scrollTo(0,0),e.setPageNo(n)},activePage:e.pageNo,totalPages:Math.floor(t/10)+1,boundaryRange:1})):"",e.isLoading?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}}," ",r.a.createElement(c.a,{style:{width:100,height:100,marginTop:200,color:"black"}})):""))}},841:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),c=a(292),i=a(1650),l=a(712);t.default=function(e){var t=e.problemsCount;return r.a.createElement("div",null,0===e.Problems.length||e.isLoading?e.isError||e.isLoading?e.isLoading?"":r.a.createElement(l.a,{status:"error",title:"There's Some Error Fetching Data From The Server"}):r.a.createElement(l.a,{status:"info",title:"No Problems Here! Check Again Later..."}):r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(c.default,e)),t>10&&!e.isLoading?r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10,marginBottom:100}},r.a.createElement(i.a,{size:"tiny",firstItem:null,lastItem:null,secondary:!0,siblingRange:0,onPageChange:function(t,a){var n=a.activePage;window.scrollTo(0,0),e.setPageNo(n)},activePage:e.pageNo,totalPages:Math.floor(t/10)+1,boundaryRange:1})):"",e.isLoading?r.a.createElement("div",{style:{display:"flex",margin:"20%",justifyContent:"center"}},r.a.createElement(o.a,{style:{width:100,height:100,textAlign:"center",color:"black"}})):"")}}}]);
//# sourceMappingURL=18.8f941cd4.chunk.js.map