(this.webpackJsonpanonimityrecreating=this.webpackJsonpanonimityrecreating||[]).push([[12],{738:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),s=n(14),o=n(33),i=n(27),c=n(29),l=n(9),u=n(15),d=n(0),m=n.n(d),f=n(833),p=n(284),h=n(117),g=n(218),y=n(39),b=n(834),v=n(56),E=n(32),S=Object(E.a)(m.a.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"ReplayOutlined"),x=Object(E.a)(m.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined"),k=n(865),C=n.n(k),O=n(860),j=n(50),N=n(84),I=n.n(N),P=function(e){var t=e.onAddConversation;return m.a.createElement("div",{style:{fontWeight:"bold",fontSize:30,padding:20,fontFamily:"poppins",display:"flex",justifyContent:"center"}},m.a.createElement("div",{style:{flexGrow:1,textAlign:"center"}},"Conversations"),m.a.createElement(h.a,{onClick:function(){t()}},m.a.createElement(x,null)))};t.default=Object(j.b)((function(e){return{token:e.userReducer.token,MyId:e.userReducer.id}}))((function(e){var t=m.a.useState(!0),n=Object(l.a)(t,2),a=n[0],d=n[1],E=m.a.useState(!1),x=Object(l.a)(E,2),k=x[0],j=x[1],N=m.a.useState([]),M=Object(l.a)(N,2),w=M[0],L=M[1],F=m.a.useState(),T=Object(l.a)(F,2),z=T[0],R=T[1],A=m.a.useState(C.a.connect("".concat(u.default,"/chat"))),B=Object(l.a)(A,2),U=B[0],Y=(B[1],m.a.useState(e.token)),D=Object(l.a)(Y,2),H=D[0],W=(D[1],m.a.useState({})),X=Object(l.a)(W,2),G=X[0],_=X[1],q=m.a.useState(!1),V=Object(l.a)(q,2),J=V[0],$=V[1],K=m.a.useState(!1),Q=Object(l.a)(K,2),Z=Q[0],ee=Q[1],te=function(t){L((function(n){var a=n.findIndex((function(e){return e.session===t})),r=Object(i.a)(n);return r[a]=Object(c.a)({},n[a],{UnReadMessageCount:n[a].UnReadMessageCount.map((function(t){return t.forParticipant===e.MyId?{count:0,forParticipant:t.forParticipant}:t}))}),r}))},ne=function(){var e=new Headers;d(!0),L([]),e.append("Authorization",H),e.append("content-type","application/json"),fetch("".concat(u.default,"/getMySessions"),{method:"GET",headers:e}).then(function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.ok){e.next=11;break}return e.next=4,t.json();case 4:for((n=e.sent).sort((function(e,t){return-1*I()(e.lastMessage).diff(t.lastMessage,"seconds")})),d(!1),L(n),a=function(e){var t=n[e].personNextSide.id;_((function(e){return Object(c.a)({},e,Object(s.a)({},t,!0))}))},o=0;o<n.length;o++)a(o);return e.abrupt("return");case 11:d(!1),j(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){d(!1),j(!0)}))};return m.a.useEffect((function(){return ne(),U.emit("Save_Id",{token:H,session:null}),U.on("unreadMessage",(function(t){var n;n=t.session,L((function(t){try{var a=t.findIndex((function(e){return e.session===n}));if(-1===a)return ee(!0),t;var r=Object(i.a)(t);return r[a]=Object(c.a)({},t[a],{UnReadMessageCount:t[a].UnReadMessageCount.map((function(t){return t.forParticipant===e.MyId?{count:t.count+1,forParticipant:t.forParticipant}:t}))}),r}catch(s){console.log(s.message)}}))})),U.on("someOneGetsOnline",(function(e){var t;t=e.id,L((function(e){return e.map((function(e){return e.personNextSide.id===t?Object(c.a)({},e,{personNextSide:Object(c.a)({},e.personNextSide,{Online:{status:"Online",lastSeen:null}})}):e}))}))})),U.on("someOneGetsOffline",(function(e){var t;t=e.id,L((function(e){return e.map((function(e){return e.personNextSide.id===t?Object(c.a)({},e,{personNextSide:Object(c.a)({},e.personNextSide,{Online:{status:"Offline",lastSeen:new Date}})}):e}))}))})),function(){U.disconnect()}}),[]),m.a.createElement(m.a.Fragment,null,m.a.createElement(p.a,{open:Z,autoHideDuration:6e3,onClose:function(){ee(!1)},ContentProps:{style:{fontFamily:"poppins"}},anchorOrigin:{horizontal:"center",vertical:"top"},message:"There Might Be New Conversations",action:m.a.createElement(h.a,{onClick:function(){ee(!1),ne()}},m.a.createElement(S,{style:{color:"white"}}))}),J?m.a.createElement(O.default,{alreadyConnectedUsers:G,onClose:function(){return $(!1)},onSessionCreated:function(){ne()}}):"",m.a.createElement(v.a,v.a.onlyComputer,m.a.createElement(g.a,{container:!0},m.a.createElement(g.a,{item:!0,sm:5},m.a.createElement(P,{onAddConversation:function(){$(!0)}}),a?m.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},m.a.createElement(y.a,{style:{color:"black"}})):"",k?m.a.createElement("div",{style:{textAlign:"center",marginTop:"10%",fontFamily:"poppins",fontWeight:"bold"}},"Error Fetching Conversations!!"):"",m.a.createElement(b.default,{setSession:function(e){R(e),te(e)},sessions:w,session:z,MyId:e.MyId})),m.a.createElement(g.a,{item:!0,sm:6},z?m.a.createElement(f.default,{socket:U,session:z,onBack:function(){R(null)},history:e.history,personNextSide:w.find((function(e){return e.session===z})).personNextSide}):""),m.a.createElement(g.a,{item:!0,sm:1}))),m.a.createElement(v.a,v.a.onlyMobile,z?"":m.a.createElement(P,{onAddConversation:function(){$(!0)}}),a?m.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},m.a.createElement(y.a,{style:{color:"black"}})):"",z?m.a.createElement(f.default,{socket:U,session:z,onBack:function(){R(null)},history:e.history,personNextSide:w.find((function(e){return e.session===z})).personNextSide}):m.a.createElement(b.default,{setSession:function(e){R(e),te(e)},sessions:w,session:z,MyId:e.MyId})),m.a.createElement(v.a,v.a.onlyTablet,m.a.createElement(g.a,{container:!0},m.a.createElement(g.a,{item:!0,sm:5},m.a.createElement(P,{onAddConversation:function(){$(!0)}}),a?m.a.createElement("div",{style:{height:"50vh",display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement(y.a,{style:{color:"black"}})):m.a.createElement(b.default,{setSession:function(e){R(e),te(e)},sessions:w,session:z,MyId:e.MyId})),m.a.createElement(g.a,{item:!0,sm:7},z?m.a.createElement(f.default,{socket:U,session:z,onBack:function(){R(null)},history:e.history,personNextSide:w.find((function(e){return e.session===z})).personNextSide}):""))))}))},783:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(0),s=n.n(r),o=n(809),i=n(766),c=n(117),l=n(981);t.default=function(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),u=n[0],d=n[1];return s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(i.a,{open:Boolean(u),onClose:function(){d(null)},anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},s.a.createElement(o.default,{history:e.history,alreadyConnectedUsers:e.alreadyConnectedUsers,setAnchor:function(e){d(e)},forConversation:e.forConversation,personSelected:function(t){e.personSelected(t)}})),s.a.createElement(c.a,{onClick:function(e){d(e.currentTarget)}},s.a.createElement(l.a,null)))}},803:function(e,t,n){},809:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),s=n(33),o=n(9),i=n(0),c=n.n(i),l=n(50),u=n(278),d=n(691),m=n(282),f=n(116),p=n(100),h=n(63),g=n(980),y=n(146),b=n(62),v=(n(818),n(979)),E=n(159),S=n(115),x=n(40),k=Object(u.a)({palette:{primary:v.a,secondary:E.a}});t.default=Object(l.b)((function(e){return{currentTab:e.navigationReducer.currentTab}}))((function(e){var t=Object(i.useState)(""),n=Object(o.a)(t,2),a=n[0],l=n[1],u=Object(i.useState)([]),v=Object(o.a)(u,2),E=v[0],C=v[1],O=Object(i.useState)(!1),j=Object(o.a)(O,2),N=j[0],I=j[1];return c.a.createElement(d.a,{theme:k},c.a.createElement(m.a,{color:"primary",style:{backgroundColor:S.a[900],width:300,fontFamily:"poppins",color:"lightgrey"},elevation:10},c.a.createElement(f.a,null,c.a.createElement("div",{style:{justifyContent:"center",display:"flex"}},c.a.createElement("input",{value:a,onChange:function(e){I(!0),Object(x.findPeople)(e.target.value).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,C(n),I(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){C([]),I(!1)})),l(e.target.value)},style:{marginTop:10},className:"mySearch",placeholder:"Search People"})),c.a.createElement(p.a,{style:{marginTop:10,marginBottom:10}}),N?c.a.createElement(h.a,null,c.a.createElement(g.a,{style:{width:"100%"},color:"primary"})):"",E.length>0&&!N?E.map((function(t){return c.a.createElement(h.a,{key:t.LastName,button:!0,style:{fontWeight:"lighter"},disabled:!!e.alreadyConnectedUsers&&e.alreadyConnectedUsers[t._id],onClick:function(){e.forConversation||(e.history.push("/anonymity/person/".concat(t._id)),"Person"===e.currentTab&&window.location.reload(!1),e.dispatch({type:"Person"})),e.setAnchor(null),e.forConversation&&e.personSelected(t)}},c.a.createElement(y.a,{style:{marginRight:10},src:t.profilephoto}),t.firstName+" "+t.LastName)})):!N&&a.length>0?c.a.createElement(b.a,{style:{color:"grey",fontSize:16,fontFamily:"poppins"}},"No Results"):"")))}))},818:function(e,t,n){},833:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(16),s=n.n(r),o=n(27),i=n(33),c=n(29),l=n(82),u=n(51),d=n(287),m=n(119),f=n(0),p=n.n(f),h=(n(803),n(15)),g=n(84),y=n.n(g),b=n(79),v=n(146),E=n(117),S=n(39),x=n(712),k=n(50),C=n(984),O=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSendHandler=function(){a.socket.emit("Chat_Message",{message:a.state.chatText,token:a.token,sessionId:a.session}),a.setState((function(e){return{chatText:""}}))},a.state={clicked:!0,id:1,messages:[],chatText:"",seen:!1,myId:null,PersonNextSide:null,chatsLoading:!0,error:!1,session:e.session,comingAnimation:"comingFromRightP5"},a.session=null,a.token=e.token,a.socket=e.socket.emit("Save_Id",{token:a.token,session:e.session}),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("Seen",(function(t){console.log(t),e.setState((function(e){return{messages:e.messages.map((function(e){return Object(c.a)({},e,{seen:!0})}))}}))})),this.socket.on("message",(function(t){e.setState((function(e){return{messages:e.messages.concat([t])}}))}));var t=new Headers;t.append("Authorization",this.props.token),t.append("content-type","application/json"),this.session=this.props.session,fetch("".concat(h.default,"/getSessionChats/").concat(this.props.session),{method:"GET",headers:t}).then(function(){var t=Object(i.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ok){t.next=6;break}return t.next=3,n.json();case 3:return a=t.sent,setTimeout((function(){e.setState((function(e){return{messages:[].concat(Object(o.a)(a.messages),Object(o.a)(e.messages)),PersonNextSide:a.PersonNextSide.participant,myId:a.myId,chatsLoading:!1,error:!1}}))}),200),t.abrupt("return");case 6:e.setState({chatsLoading:!1,error:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({chatsLoading:!1,error:!0})}))}},{key:"componentWillUnmount",value:function(){this.socket.emit("updateSession",{token:this.token,session:null})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.chatsLoading||this.state.error||this.el.scrollIntoView(),this.session!==this.props.session){this.setState({messages:[]}),this.socket.emit("updateSession",{token:this.token,session:this.props.session}),this.setState({chatsLoading:!0});var t=new Headers;t.append("Authorization",this.props.token),t.append("content-type","application/json"),this.session=this.props.session,fetch("".concat(h.default,"/getSessionChats/").concat(this.props.session),{method:"GET",headers:t}).then(function(){var t=Object(i.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ok){t.next=5;break}return t.next=3,n.json();case 3:return a=t.sent,t.abrupt("return",e.setState((function(e){return{messages:[].concat(Object(o.a)(a.messages),Object(o.a)(e.messages)),PersonNextSide:a.PersonNextSide.participant,myId:a.myId,chatsLoading:!1,error:!1}})));case 5:e.setState({chatsLoading:!1,error:!0,messages:[]});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({chatsLoading:!1,error:!0,messages:[]})})),this.session=this.props.session}}},{key:"render",value:function(){var e=this,t=this.state,n=t.chatText,r=t.messages;t.seen;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"parentChatContainer ".concat(this.state.comingAnimation)},p.a.createElement(P,Object.assign(Object(a.a)({history:this.props.history,dispatch:this.props.dispatch,onBack:function(){e.props.onBack()},onBackAnimation:function(){e.setState({comingAnimation:"goBack"})}},"history",this.props.history),this.props.personNextSide)),p.a.createElement("div",{className:"chatFormContainer"},p.a.createElement(j,{chatText:n,onChange:function(t){e.setState({chatText:t})},onSend:this.onSendHandler})),this.state.error&&!this.state.chatsLoading?p.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"}},p.a.createElement(x.a,{status:"success",title:"No Chats"})):"",this.state.chatsLoading?p.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"}},p.a.createElement(S.a,{style:{color:"black"}})):p.a.createElement(N,{setRef:function(t){e.el=t},PersonNextSide:this.state.PersonNextSide,messages:r,myId:this.state.myId,socket:this.socket})))}}]),n}(p.a.PureComponent),j=function(e){var t=e.chatText,n=e.onChange,a=e.onSend;return p.a.createElement("form",{className:"ChattingForm",onSubmit:function(e){e.preventDefault()}},p.a.createElement("input",{value:t,type:"text",onChange:function(e){n(e.target.value)},className:"chatInputField",placeholder:"Type Something..."}),p.a.createElement("button",{className:"sendButton",disabled:0===t.length,onClick:function(){a()}},p.a.createElement("i",{className:"far fa-paper-plane"})))},N=function(e){var t=e.messages,n=e.setRef,a=e.myId,r=e.PersonNextSide;return p.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},p.a.createElement("div",{style:{width:"100%"}},p.a.createElement("div",{id:"chatCont",className:"chatContainer",style:{paddingTop:"100px"}},t.map((function(e,t){return p.a.createElement(I,{key:t,message:e.message,hasSeen:a===e.from,on:e.date,seen:e.seen,PersonNextSideProfilePhoto:r.profilephoto,by:a===e.from?"me":r.firstName+" "+r.LastName})})),p.a.createElement("div",{ref:function(e){n(e)}}))))},I=function(e){var t=e.message,n=e.on,a=e.seen,r=e.hasSeen,s=e.by,o=e.PersonNextSideProfilePhoto;return p.a.createElement("div",{className:"me"!==s?"chatLeftItem comingFromLeftP5":"chatRightItem comingFromUpP5"},p.a.createElement("div",{style:{display:"flex",marginBottom:10,marginTop:10,backgroundColor:"me"!==s?"rgba(0,0,0,0.01)":"",borderRadius:10,padding:10,flexDirection:"column",alignItems:"flex-start",border:"0.5px solid rgba(0,0,0,0.1)"}},p.a.createElement("div",{style:{fontSize:12,display:"flex",alignItems:"center"}},"me"!==s?p.a.createElement(v.a,{style:{marginRight:6,width:20,height:20},src:o}):"","me"===s?"You":s),p.a.createElement("div",null,t),p.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:7}},p.a.createElement("div",{style:{fontWeight:"lighter",fontSize:12}},y()(n).format("MMMM Do YYYY h mm ss a")),r?p.a.createElement("i",{className:"far fa-eye ".concat(a?"seen":""),style:{color:a?b.a[600]:"grey",marginLeft:10}}):"")))},P=function(e){var t=e.firstName,n=e.LastName,a=e.history,r=e.profilephoto,s=e.onBack,o=e.id,i=e.Online,c=e.onBackAnimation,l=e.dispatch;return p.a.createElement("div",{style:{position:"absolute",top:0,height:"60px",width:"100%",background:"white",borderBottom:"0.5px solid rgba(0,0,0,0.2)",zIndex:1e3,display:"flex",alignItems:"center"}},p.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},p.a.createElement(E.a,{onClick:function(){setTimeout((function(){s()}),500),c()}},p.a.createElement(C.a,null))),p.a.createElement("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontFamily:"poppins",fontWeight:"bold",width:"100%",marginLeft:"2%"},className:"topDetails",onClick:function(){a.push("/anonymity/person/".concat(o)),l({type:"Person"})}},p.a.createElement("div",{style:{position:"relative"}},p.a.createElement(v.a,{style:{width:40,height:40},src:r}),p.a.createElement("div",{style:{position:"absolute",bottom:0,height:"1.5vh",width:"1.5vh",borderRadius:"50%",background:"Online"===i.status?"green":"transparent",transition:"1s ease",transform:"Online"!==i.status?"translateX(30px) translateY(-34px)":"translateX(0px) translateY(0px)"}})),p.a.createElement("div",{style:{fontSize:15,marginLeft:"2%"}},t+" "+n,p.a.createElement("div",{style:{fontSize:11}},"Online"===i.status?"Online":i.lastSeen?"Last Seen.."+y()(i.lastSeen).format("MMMM Do YYYY, h:mm a"):""))))};t.default=Object(k.b)((function(e){return{token:e.userReducer.token}}))(O)},834:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(0),s=n.n(r),o=n(146),i=n(215),c=n(79),l=n(84),u=n.n(l),d=(n(803),function(e){var t=e.sessions,n=e.onSelect,a=e.sessionId,r=e.MyId;return s.a.createElement(s.a.Fragment,null,t.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(m,{onClick:function(e){n(e)},TimeDelay:50*t,key:t,firstName:e.personNextSide.firstName,active:e.session===a,id:e.session,profilephoto:e?e.personNextSide.profilephoto:"",LastName:e.personNextSide.LastName,online:"Online"===e.personNextSide.Online.status,lastSeen:e.personNextSide.Online.lastSeen,UnReadMessageCount:e.UnReadMessageCount,MyId:r}))})))}),m=function(e){var t=e.id,n=e.profilephoto,r=e.firstName,l=e.LastName,d=e.onClick,m=e.active,f=e.online,p=e.UnReadMessageCount,h=e.lastSeen,g=e.MyId,y=e.TimeDelay,b=s.a.useState(!1),v=Object(a.a)(b,2),E=v[0],S=v[1];return s.a.useEffect((function(){if(!y)return S(!0);setTimeout((function(){S(!0)}),y)}),[y]),s.a.createElement(s.a.Fragment,null,E?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"animationOnEven1",style:{width:"100%",color:"black",cursor:"pointer",padding:10,height:"100px",background:m?"rgba(0,0,0,0.05)":"rgba(0,0,0,0.0)",display:"flex",transition:"0.5s ease",alignItems:"center"},onClick:function(){return d(t)}},s.a.createElement("div",{style:{position:"relative",marginLeft:"10%",marginRight:10}},s.a.createElement(o.a,{src:n}),s.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,height:10,width:10,borderRadius:"50%",backgroundColor:f?i.a[700]:"transparent",transform:f?"translateY(-40px) translateX(25px)":"translateY(0px) translateX(0px)",transition:"0.5s ease"}})),s.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold"}},s.a.createElement("div",null,r+" "+l),h?s.a.createElement("div",{style:{fontSize:10}},"Last Seen"):"",s.a.createElement("div",{style:{fontWeight:"lighter",fontSize:12}},h?u()(h).format("MMMM Do YYYY, h:mm:ss a"):f?"Online":"")),p.length&&0!==p.find((function(e){return e.forParticipant===g})).count?s.a.createElement("div",{className:p.find((function(e){return e.forParticipant===g})).count%2===0?"animationOnEven":"animationOnOdd",style:{height:30,width:30,background:c.a[700],borderRadius:"50%",color:"white",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"auto",zIndex:100}},s.a.createElement("div",{style:{fontSize:14}},p.find((function(e){return e.forParticipant===g})).count)):""),s.a.createElement("div",{style:{height:.4,width:"100%",background:"rgba(0,0,0,0.1)"}})):"")};t.default=function(e){var t=e.setSession,n=e.sessions,a=e.session,r=e.MyId;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{maxHeight:"70vh",overflow:"auto",overflowX:"hidden"},className:"thinscrollbar comingFromLeftP5"},s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:10,flexDirection:"column",alignItems:"center",overflow:"auto"}},s.a.createElement(d,{MyId:r,sessions:n,sessionId:a,onSelect:function(e){t(e)}}))))}},860:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(51),s=n(52),o=n(287),i=n(119),c=n(0),l=n.n(c),u=n(36),d=n(39),m=n(80),f=n(146),p=n(117),h=n(783),g=n(15),y=n(32),b=Object(y.a)(l.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined"),v=(n(803),n(50)),E=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={selectedPerson:null,message:"",error:!1,loading:!1},r.handleSendMessage=r.handleSendMessage.bind(Object(s.a)(r)),r}return Object(r.a)(n,[{key:"handleSendMessage",value:function(){var e=this,t=new Headers;t.append("Authorization",this.props.token),this.setState({loading:!0}),t.append("content-type","application/json");var n=JSON.stringify({message:this.state.message,messageTo:this.state.selectedPerson._id});fetch("".concat(g.default,"/startConversation"),{method:"POST",headers:t,body:n}).then((function(t){if(t.ok)return e.props.onSessionCreated(),void e.props.onClose();e.setState({loading:!1,error:!0})})).catch((function(t){e.setState({loading:!1,error:!0})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(u.a,{className:"comingFromLeftP5",open:!0,onClose:this.props.onClose,dimmer:"inverted"},l.a.createElement(u.a.Header,{style:{fontFamily:"poppins"}},"Start New Conversations"),l.a.createElement(u.a.Content,null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.selectedPerson?l.a.createElement(S,{firstName:this.state.selectedPerson.firstName,LastName:this.state.selectedPerson.LastName,profilephoto:this.state.selectedPerson.profilephoto,cancelSelected:function(){e.setState({selectedPerson:null,error:!1})}}):l.a.createElement(l.a.Fragment,null,l.a.createElement(h.default,{forConversation:!0,alreadyConnectedUsers:this.props.alreadyConnectedUsers,personSelected:function(t){e.setState({selectedPerson:t})}}),l.a.createElement("div",{style:{fontWeight:"bold",fontFamily:"poppins"}},"Search For People...."))),this.state.selectedPerson?l.a.createElement("div",{className:"comingFromLeftP5",style:{display:"flex",justifyContent:"center",width:"100%",margin:20}},l.a.createElement("input",{value:this.state.message,style:{boxShadow:"none",border:"1px solid black",borderRadius:3},onChange:function(t){e.setState({message:t.target.value,error:!1})},className:"chatInputField",placeholder:"Say hi To ".concat(this.state.selectedPerson.firstName," \ud83d\udc4b")})):"",this.state.loading?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},l.a.createElement(d.a,{style:{color:"black"}})):"",this.state.error?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"20vh",fontWeight:"bold",fontFamily:"poppins",fontSize:20}},"Error Sending Message"):""),this.state.selectedPerson?l.a.createElement(u.a.Actions,null,l.a.createElement(m.a,{style:{marginBottom:10},variant:"outlined",color:"primary",disabled:0===this.state.message.length,onClick:this.handleSendMessage},"Send"),l.a.createElement(m.a,{style:{marginBottom:10},onClick:function(){return e.props.onClose()}},"close")):"")}}]),n}(l.a.Component);function S(e){var t=e.profilephoto,n=e.firstName,a=e.LastName,r=e.cancelSelected;return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"comingFromRightP5",style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(f.a,{src:t,style:{marginRight:10}}),l.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold"}},n+" "+a),l.a.createElement(p.a,{onClick:function(){r()}},l.a.createElement(b,null))))}t.default=Object(v.b)((function(e){return{token:e.userReducer.token}}))(E)},907:function(e,t){},979:function(e,t,n){"use strict";t.a={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"}},980:function(e,t,n){"use strict";var a=n(1),r=n(6),s=n(0),o=(n(2),n(8)),i=n(19),c=n(11),l=n(28),u=n(83),d=s.forwardRef((function(e,t){var n=e.classes,c=e.className,l=e.color,d=void 0===l?"primary":l,m=e.value,f=e.valueBuffer,p=e.variant,h=void 0===p?"indeterminate":p,g=Object(r.a)(e,["classes","className","color","value","valueBuffer","variant"]),y=Object(u.a)(),b={},v={bar1:{},bar2:{}};if("determinate"===h||"buffer"===h)if(void 0!==m){b["aria-valuenow"]=Math.round(m);var E=m-100;"rtl"===y.direction&&(E=-E),v.bar1.transform="translateX(".concat(E,"%)")}else 0;if("buffer"===h)if(void 0!==f){var S=(f||0)-100;"rtl"===y.direction&&(S=-S),v.bar2.transform="translateX(".concat(S,"%)")}else 0;return s.createElement("div",Object(a.a)({className:Object(o.a)(n.root,n["color".concat(Object(i.a)(d))],c,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[h]),role:"progressbar"},b,{ref:t},g),"buffer"===h?s.createElement("div",{className:Object(o.a)(n.dashed,n["dashedColor".concat(Object(i.a)(d))])}):null,s.createElement("div",{className:Object(o.a)(n.bar,n["barColor".concat(Object(i.a)(d))],("indeterminate"===h||"query"===h)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[h]),style:v.bar1}),"determinate"===h?null:s.createElement("div",{className:Object(o.a)(n.bar,("indeterminate"===h||"query"===h)&&n.bar2Indeterminate,"buffer"===h?[n["color".concat(Object(i.a)(d))],n.bar2Buffer]:n["barColor".concat(Object(i.a)(d))]),style:v.bar2}))}));t.a=Object(c.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(l.e)(t,.62):Object(l.a)(t,.5)},n=t(e.palette.primary.main),a=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:a},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(d)},981:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(32);t.a=Object(s.a)(r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search")},984:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(32);t.a=Object(s.a)(r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")}}]);
//# sourceMappingURL=12.704bab1a.chunk.js.map