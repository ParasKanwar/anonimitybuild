(this.webpackJsonpanonimityrecreating=this.webpackJsonpanonimityrecreating||[]).push([[0],{144:function(e,t,n){e.exports=n.p+"static/media/complainify.bc7f0fe6.png"},280:function(e,t,n){},504:function(e,t,n){e.exports=n(861)},509:function(e,t,n){},516:function(e,t,n){},517:function(e,t,n){},518:function(e,t,n){},682:function(e,t){},742:function(e,t,n){},816:function(e,t,n){},857:function(e,t,n){},858:function(e,t,n){},861:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),i=n.n(r),s=(n(509),n(510),n(152)),c=n(27),l={currentTab:"Home"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Home":return Object(c.a)({},e,{currentTab:"Home"});case"About":return{currentTab:"About"};case"Ranking":return{currentTab:"Ranking"};case"Nearby":return{currentTab:"Nearby"};case"Person":return{currentTab:"Person"};case"Messages":return{currentTab:"Messages"};default:return e}},m=n(14),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)({},"Width",1920),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Width":return Object(m.a)({},"Width",t.width);default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Notes":return 2;case"MyProblems":return 0;case"Notices":return 1;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth":return!0;case"notAuth":return!1;default:return e}},g={username:"Unknown",email:"unknown",college:"unknown",profilePhoto:"https://cdn0.iconfinder.com/data/icons/flat-design-business-set-3/24/people-customer-unknown-512.png",backgroundPhoto:"none",token:null,phone:null},f=Object(s.b)({navigationReducer:u,visibility:p,HomeReducer:d,authReducer:h,userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setUser":return Object(c.a)({},e,{},t.user);default:return e}}}),y=n(18),b=n(116),E=n(470),v=n(34),j=n(32),O=n(51),k=n(36),S=function(){return{type:"Home"}},w=function(){return{type:"Ranking"}},C=function(){return{type:"About"}},x=function(){return{type:"Nearby"}},T=function(){return{type:"Person"}},P=function(){return{type:"Messages"}},N=n(5),F=n(862),A=n(1008),R=n(913),L=n(476),I=n(914),B=n(865),z=n(915),H=n(916),M=n(917),U=n(918),W=n(243),D="http://ec2-52-66-207-229.ap-south-1.compute.amazonaws.com",Y=function(e,t,n,a){var o=new Headers;o.append("content-type","application/json"),o.append("Authorization",e);var r=new Request("".concat(D,"/user/myProblems/").concat(t,"/").concat(n,"?sortBy=").concat("Latest"!==a?a:""),{method:"GET",headers:o});return console.log(a),fetch(r)},V=function(e,t,n){var a=new Headers;a.append("sortby",n.sortBy),a.append("filter",n.filter),a.append("Authorization",e);var o=new Request("".concat(D,"/user/getProblems/").concat(t),{method:"GET",headers:a});return fetch(o)},G=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var a=new Request("".concat(D,"/user/post/UpVote/").concat(e),{method:"POST",headers:n});return fetch(a)},q=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var a=new Request("".concat(D,"/user/post/UpVote/").concat(e),{method:"Delete",headers:n});return fetch(a)},_=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var a=new Request("".concat(D,"/user/post/DownVote/").concat(e),{method:"POST",headers:n});return fetch(a)},J=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var a=new Request("".concat(D,"/user/post/DownVote/").concat(e),{method:"Delete",headers:n});return fetch(a)},X=function(e,t,n){var a=new Headers,o=JSON.stringify({description:n});a.append("content-type","application/json"),a.append("Authorization",t);var r=new Request("".concat(D,"/comments/").concat(e),{method:"Post",headers:a,body:o});return fetch(r)},$=function(e,t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var a=new Request("".concat(D,"/user/comments/").concat(e),{method:"GET",headers:n});return fetch(a)},K=function(e,t,n){var a=new Headers;a.append("content-type","application/json"),a.append("Authorization",e);var o=new Request("".concat(D,"/problem/").concat(n,"/").concat(t),{method:"GET",headers:a});return fetch(o)},Q=function(){var e=new Headers;e.append("Authorization",localStorage.getItem("AnonymityToken#123")),e.append("content-type","application/json");var t=new Request("".concat(D,"/user/logoutall"),{method:"GET",headers:e});return fetch(t)},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{sortBy:-1,filter:null},n=new Headers;n.append("Authorization",localStorage.getItem("AnonymityToken#123")),n.append("content-type","application/json"),n.append("sortBy",!0);var a=JSON.stringify(t);return fetch("".concat(D,"/user/post/sensitive/").concat(e),{method:"POST",headers:n,body:a})},ee=Object(y.b)()((function(e){var t=Object(a.useState)(null),n=Object(N.a)(t,2),r=n[0],i=n[1];return o.a.createElement("div",null,o.a.createElement(F.a,{onClick:function(e){i(e.currentTarget)}},o.a.createElement(A.a,{style:{height:40,width:40},src:e.profilePhoto})),o.a.createElement(R.a,{open:Boolean(r),anchorEl:r,onClose:function(){i(null)}},o.a.createElement(L.a,{style:{width:300,background:W.a[900]},elevation:10},o.a.createElement(I.a,null,o.a.createElement(B.a,null,o.a.createElement(A.a,{src:e.profilePhoto,variant:"rounded"}),o.a.createElement("div",{style:{marginLeft:10,fontFamily:"poppins",fontWeight:"bold",fontSize:15,color:"lightgrey"}},e.username)),o.a.createElement(z.a,{style:{marginTop:10,marginBottom:10}}),o.a.createElement(B.a,{button:!0,onClick:function(){e.dispatch({type:"Person"}),e.history.push("/anonymity/person"),i(null)}},o.a.createElement(H.a,{style:{color:"white",width:30,height:30}}),o.a.createElement("div",{style:{marginLeft:10,fontFamily:"poppins",fontWeight:500,fontSize:10,color:"white"}},"My Profile")),o.a.createElement(z.a,null),o.a.createElement(B.a,{button:!0,onClick:function(){(function(){var e=new Headers;e.append("Authorization",localStorage.getItem("AnonymityToken#123")),e.append("content-type","application/json");var t=new Request("".concat(D,"/user/logout"),{method:"GET",headers:e});return fetch(t)})().then((function(t){t.ok&&(e.history.push("/login"),e.dispatch({type:"notAuth"}))}))}},o.a.createElement(M.a,{style:{height:30,width:30,color:"grey"}}),o.a.createElement("div",{style:{marginLeft:10,fontFamily:"poppins",fontWeight:500,fontSize:10,color:"lightgrey"}},"Logout (From This Device)")),o.a.createElement(B.a,{button:!0,onClick:function(){Q().then((function(t){t.ok&&(e.history.push("/login"),e.dispatch({type:"notAuth"}))}))}},o.a.createElement(U.a,{style:{height:30,width:30,color:"grey"}}),o.a.createElement("div",{style:{marginLeft:10,fontFamily:"poppins",fontWeight:500,fontSize:10,color:"lightgrey"}},"Logout (From All Devices)"))))))})),te=n(471),ne=n(920),ae=n(924),oe=n(925),re=n(178),ie=n(926),se=n(13),ce=n.n(se),le=n(21),ue=n(921),me=n(922),pe=(n(516),n(919)),de=n(245),he=Object(te.a)({palette:{primary:pe.a,secondary:de.a}}),ge=Object(y.b)((function(e){return{currentTab:e.navigationReducer.currentTab}}))((function(e){var t=Object(a.useState)(""),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)([]),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)(!1),p=Object(N.a)(m,2),d=p[0],h=p[1];return o.a.createElement(ne.a,{theme:he},o.a.createElement(L.a,{color:"primary",style:{backgroundColor:W.a[900],width:300,fontFamily:"poppins",color:"lightgrey"},elevation:10},o.a.createElement(I.a,null,o.a.createElement("div",{style:{justifyContent:"center",display:"flex"}},o.a.createElement("input",{value:r,onChange:function(e){h(!0),function(e){var t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("content-type","application/json");var n=new Request("".concat(D,"/user/findUser/").concat(e),{method:"GET",headers:t});return fetch(n)}(e.target.value).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,u(n),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u([]),h(!1)})),i(e.target.value)},style:{marginTop:10},className:"mySearch",placeholder:"Search People"})),o.a.createElement(z.a,{style:{marginTop:10,marginBottom:10}}),d?o.a.createElement(B.a,null,o.a.createElement(ue.a,{style:{width:"100%"},color:"primary"})):"",l.length>0&&!d?l.map((function(t){return o.a.createElement(B.a,{key:t.LastName,button:!0,style:{fontWeight:"lighter"},disabled:!!e.alreadyConnectedUsers&&e.alreadyConnectedUsers[t._id],onClick:function(){e.forConversation||(e.history.push("/anonymity/person/".concat(t._id)),"Person"===e.currentTab&&window.location.reload(!1),e.dispatch({type:"Person"})),e.setAnchor(null),e.forConversation&&e.personSelected(t)}},o.a.createElement(A.a,{style:{marginRight:10},src:t.profilephoto}),t.firstName+" "+t.LastName)})):!d&&r.length>0?o.a.createElement(me.a,{style:{color:"grey",fontSize:16,fontFamily:"poppins"}},"No Results"):"")))})),fe=n(923),ye=function(e){var t=Object(a.useState)(null),n=Object(N.a)(t,2),r=n[0],i=n[1];return o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(R.a,{open:Boolean(r),onClose:function(){i(null)},anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},o.a.createElement(ge,{history:e.history,alreadyConnectedUsers:e.alreadyConnectedUsers,setAnchor:function(e){i(e)},forConversation:e.forConversation,personSelected:function(t){e.personSelected(t)}})),o.a.createElement(F.a,{onClick:function(e){i(e.currentTarget)}},o.a.createElement(fe.a,null)))},be=(n(517),n(473)),Ee=(n(518),Object(te.a)({palette:{secondary:{main:"rgba(255,255,255,1)"},primary:{main:W.a[900]}}})),ve=Object(y.b)((function(e){return{currentTab:e.navigationReducer.currentTab,width:e.visibility.Width,username:e.userReducer.username}}),{setAbout:C,setRanking:w,setHome:S,setNearBy:x,setPerson:T,setMessages:P})((function(e){return o.a.createElement(ne.a,{theme:Ee},o.a.createElement("div",{style:{width:"100%",height:80}}),o.a.createElement(ae.a,{color:"secondary",elevation:0,position:"fixed",style:{zIndex:100}},o.a.createElement(oe.a,{style:{marginLeft:"0%",marginRight:"0%"}},o.a.createElement(be.a,{src:n(144),size:"tiny",style:{marginRight:5}}),o.a.createElement(re.a,{style:{color:"rgba(0,0,0,0.6)",float:"left",fontWeight:"bold",marginRight:"5%"},variant:"h6"},"Anonymity"),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement("div",{style:{display:"flex",flexGrow:1}},o.a.createElement(ie.a,{size:"large",onClick:function(){e.setHome(),e.history.push("/anonymity/Home")},style:{marginRight:10,animationDelay:"0.1s",textTransform:"none",transition:"all 0.15s",fontFamily:"poppins",borderBottom:"Home"===e.currentTab?"2px solid black":"2px solid white",borderRadius:"0px",transform:"Home"===e.currentTab?"translateY(-5px)":"translateY(0px)",fontWeight:"Home"===e.currentTab?"bold":""}},o.a.createElement(be.a,{size:"mini",style:{marginRight:1},src:"https://img.icons8.com/color/144/000000/home.png"}),"Home"),o.a.createElement(ie.a,{disableElevation:!0,onClick:function(){e.setNearBy(),e.history.push("/anonymity/Nearby")},size:"large",style:{animationDelay:"0.2s",marginRight:10,textTransform:"none",transition:"all 0.15s",fontFamily:"poppins",borderBottom:"Nearby"===e.currentTab?"2px solid black":"2px solid white",borderRadius:"0px",transform:"Nearby"===e.currentTab?"translateY(-5px)":"translateY(0px)",fontWeight:"Nearby"===e.currentTab?"bold":""}},o.a.createElement(be.a,{size:"mini",style:{marginRight:1},src:"https://img.icons8.com/color/96/000000/gps-device.png"}),"Nearby"),o.a.createElement(ie.a,{disableElevation:!0,onClick:function(){e.setMessages(),e.history.push("/anonymity/Messages")},size:"large",style:{animationDelay:"0.3s",marginRight:10,textTransform:"none",transition:"all 0.15s",fontFamily:"poppins",borderBottom:"Messages"===e.currentTab?"2px solid black":"2px solid white",borderRadius:"0px",transform:"Messages"===e.currentTab?"translateY(-5px)":"translateY(0px)",fontWeight:"Messages"===e.currentTab?"bold":""}},o.a.createElement(be.a,{size:"mini",style:{marginRight:1},src:"https://img.icons8.com/color/48/000000/chat.png"}),"Messages"),o.a.createElement(ie.a,{disableElevation:!0,onClick:function(){e.setPerson(),e.history.push("/anonymity/person")},size:"large",style:{marginRight:10,animationDelay:"0.4s",textTransform:"none",transition:"all 0.15s",fontFamily:"poppins",borderBottom:"Person"===e.currentTab?"2px solid black":"2px solid white",borderRadius:"0px",transform:"Person"===e.currentTab?"translateY(-5px)":"translateY(0px)",fontWeight:"Person"===e.currentTab?"bold":""}},o.a.createElement(be.a,{size:"mini",style:{marginRight:1},src:"https://img.icons8.com/color/48/000000/person-male.png"}),"Person"),o.a.createElement(ie.a,{size:"large",style:{marginRight:10,textTransform:"none",transition:"all 0.15s",fontFamily:"poppins",borderBottom:"Ranking"===e.currentTab?"2px solid black":"2px solid white",borderRadius:"0px",transform:"Ranking"===e.currentTab?"translateY(-5px)":"translateY(0px)",fontWeight:"Ranking"===e.currentTab?"bold":""},onClick:function(){e.setRanking(),e.history.push("/anonymity/Ranking")}},o.a.createElement(be.a,{size:"mini",style:{marginRight:1},src:"https://img.icons8.com/color/48/000000/ratings.png"}),"Ranking"),o.a.createElement(ie.a,{size:"large",onClick:function(){e.setAbout(),e.history.push("/anonymity/About")},style:{marginRight:10,transition:"all 0.15s",textTransform:"none",fontFamily:"poppins",transform:"About"===e.currentTab?"translateY(-5px)":"translateY(0px)",borderBottom:"About"===e.currentTab?"2px solid black":"2px solid white",borderRadius:"0px",fontWeight:"About"===e.currentTab?"bold":""}},o.a.createElement(be.a,{size:"mini",style:{marginRight:1},src:"https://img.icons8.com/color/48/000000/about.png"}),"About")),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement(ye,{history:e.history}),o.a.createElement(ee,e))))})),je=n(866),Oe=n(868),ke=n(477),Se=n(1006),we=n(928),Ce=n(932),xe=n(933),Te=n(934),Pe=n(935),Ne=n(936),Fe=n(927),Ae=n(931),Re=Object(te.a)({palette:{secondary:{main:"rgba(255,255,255,1)"},primary:de.a}}),Le="rgba(255,165,0,1)",Ie="rgba(255,255,255,1)",Be="rgba(0,0,0,0.5)",ze=Object(y.b)((function(e){return{currentTab:e.navigationReducer.currentTab}}),{setAbout:C,setRanking:w,setHome:S,setNearBy:x,setPerson:T,setMessages:P})((function(e){var t=Object(a.useState)(!1),r=Object(N.a)(t,2),i=r[0],s=r[1],c=Object(a.useState)(!1),l=Object(N.a)(c,2),u=l[0],m=l[1];return o.a.createElement(ne.a,{theme:Re},o.a.createElement(Fe.a,{onUpdate:function(e,t){var n=t.calculations;m(!n.topVisible)}},o.a.createElement(je.a,{title:"Menu"},o.a.createElement(Oe.a,{in:u},o.a.createElement(ke.a,{style:{zIndex:100,position:"fixed",right:"2%",color:"white",bottom:"2%"},color:"primary",onClick:function(){s(!0)}},o.a.createElement(we.a,null)))),o.a.createElement(ae.a,{color:"secondary",elevation:0,position:"sticky"},o.a.createElement(oe.a,null,o.a.createElement(F.a,{onClick:function(){return s(!0)}},o.a.createElement(we.a,null)),o.a.createElement(ie.a,{onClick:function(){e.history.push("/anonymity/Home"),e.setHome()},style:{marginLeft:"1%"}},o.a.createElement(be.a,{src:n(144),size:"tiny"}),o.a.createElement(re.a,{variant:"subtitle1",style:{fontWeight:"bold",color:"grey",fontFamily:"poppins"}},"Anonymity")),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement(ye,{history:e.history}),o.a.createElement(ee,e))),o.a.createElement(Se.a,{open:i,onClose:function(){return s(!1)},onOpen:function(){return s(!0)}},o.a.createElement(I.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(be.a,{src:n(144),size:"tiny"})),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}}),o.a.createElement(Ae.a,null),o.a.createElement(B.a,{style:{fontSize:20,width:300,color:"black",textAlign:"center",background:"Home"==e.currentTab?Le:"",marginBottom:20},onClick:function(){e.history.push("/anonymity/Home"),s(!1),e.setHome()},button:!0},o.a.createElement(Ce.a,{style:{color:"Home"==e.currentTab?Ie:Be,marginRight:"30%"}}),o.a.createElement("div",{style:{textAlign:"center"}},"Home")),o.a.createElement(B.a,{style:{fontSize:20,width:300,color:"black",textAlign:"center",background:"Person"==e.currentTab?Le:"",marginBottom:20},onClick:function(){e.history.push("/anonymity/Person"),s(!1),e.setPerson()},button:!0},o.a.createElement(H.a,{style:{color:"Person"==e.currentTab?Ie:Be,marginRight:"30%"}}),o.a.createElement("div",{style:{textAlign:"center"}},"Person")),o.a.createElement(B.a,{button:!0,onClick:function(){e.history.push("/anonymity/Nearby"),s(!1),e.setNearBy()},style:{fontSize:20,marginBottom:20,background:"Nearby"==e.currentTab?Le:""}},o.a.createElement(xe.a,{style:{marginRight:"30%",color:"Nearby"===e.currentTab?Ie:Be}}),"NearBy"),o.a.createElement(B.a,{button:!0,onClick:function(){e.history.push("/anonymity/messages"),s(!1),e.setMessages()},style:{fontSize:20,marginBottom:20,background:"Messages"==e.currentTab?Le:""}},o.a.createElement(Te.a,{style:{marginRight:"30%",color:"Messages"===e.currentTab?Ie:Be}}),"Messages"),o.a.createElement(B.a,{style:{fontSize:20,color:"black",marginBottom:20,textAlign:"center",background:"Ranking"==e.currentTab?Le:""},onClick:function(){e.history.push("/anonymity/Ranking"),s(!1),e.setRanking()},button:!0},o.a.createElement(Pe.a,{style:{color:"Ranking"==e.currentTab?Ie:Be,marginRight:"30%"}}),"Ranking"),o.a.createElement(Ae.a,null),o.a.createElement(B.a,{style:{color:"black",textAlign:"center",marginBottom:20,background:"About"==e.currentTab?Le:"",fontSize:20},onClick:function(){e.history.push("/anonymity/About"),s(!1),e.setAbout()},button:!0},o.a.createElement(Ne.a,{style:{color:"About"==e.currentTab?Ie:Be,marginRight:"30%"}}),"About"))),o.a.createElement(Ae.a,{style:{marginTop:0}})))})),He=n(1010),Me=n(929),Ue=n(937),We=n(938),De=n(1001),Ye=Object(te.a)({palette:{primary:{main:"rgba(0,0,0,0.0)"},secondary:{main:"rgba(0,0,0,0.5)"}}}),Ve=Object(te.a)({palette:{primary:{main:"rgba(0,0,0,1)"}}}),Ge=Object(y.b)((function(e){return{currentTab:e.navigationReducer.currentTab}}))((function(e){var t=o.a.useState(!0),a=Object(N.a)(t,2),r=(a[0],a[1]),i=o.a.useState(!0),s=Object(N.a)(i,2),c=(s[0],s[1]);return o.a.createElement(Fe.a,{onUpdate:function(e,t){var n=t.calculations;c(n.topVisible),r("up"===n.direction)}},o.a.createElement(De.a,{style:{position:"fixed",left:"4%",bottom:"10%"}}),o.a.createElement(ne.a,{theme:Ye},o.a.createElement(Me.a,{in:!0},o.a.createElement(ae.a,{color:"primary",position:"static",elevation:0},o.a.createElement(oe.a,{style:{height:10}},o.a.createElement(ie.a,{style:{textTransform:"none"},onClick:function(){e.dispatch({type:"Home"}),e.history.push("/anonymity/Home")}},o.a.createElement(be.a,{src:n(144),size:"mini"}),o.a.createElement(re.a,{variant:"h6",style:{color:"black",marginLeft:"10%"}},e.currentTab)),o.a.createElement("div",{style:{flexGrow:1}}),"Messages"!==e.currentTab?o.a.createElement("div",{className:"comingFromUpP5",style:{padding:12,cursor:"pointer"},onClick:function(){e.history.push("/anonymity/messages"),e.dispatch({type:"Messages"})}},o.a.createElement("i",{style:{color:"grey"},className:"far fa-paper-plane"})):o.a.createElement("div",{style:{padding:10,cursor:"pointer"},onClick:function(){e.history.push("/anonymity/home"),e.dispatch({type:"Home"})},className:"comingFromDownP5"},o.a.createElement("i",{style:{color:"grey"},className:"fas fa-home"})),o.a.createElement(ye,{history:e.history}),o.a.createElement(ee,e))))),"Messages"!==e.currentTab?o.a.createElement(ne.a,{theme:Ve},o.a.createElement(Ue.a,{value:e.currentTab,onChange:function(t,n){e.dispatch({type:n}),e.history.push("/anonymity/"+n)},style:{position:"fixed",bottom:0,zIndex:100,width:"100%"}},o.a.createElement(We.a,{value:"Home",label:"Home",icon:o.a.createElement(be.a,{size:"mini",style:{width:23,height:23},src:"https://img.icons8.com/color/96/000000/home.png"})}),o.a.createElement(We.a,{value:"Person",label:"Profile",icon:o.a.createElement(be.a,{size:"mini",style:{width:23,height:23},src:"https://img.icons8.com/color/48/000000/person-male.png"})}),o.a.createElement(We.a,{value:"Nearby",label:"NearBy",icon:o.a.createElement(be.a,{size:"mini",style:{width:23,height:23},src:"https://img.icons8.com/color/96/000000/gps-device.png"})}),o.a.createElement(We.a,{value:"Ranking",label:"Ranking",icon:o.a.createElement(be.a,{size:"mini",style:{width:23,height:23},src:"https://img.icons8.com/color/48/000000/prize.png"})}),o.a.createElement(We.a,{value:"About",label:"About",icon:o.a.createElement(be.a,{size:"mini",style:{width:23,height:23},src:"https://img.icons8.com/color/96/000000/about.png"})}))):"")})),qe=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(e){return Object(v.a)(this,n),t.call(this,e)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.location.pathname.toLowerCase().includes("home")&&this.props.setHome(),this.props.location.pathname.toLowerCase().includes("ranking")&&this.props.setRanking(),this.props.location.pathname.toLowerCase().includes("about")&&this.props.setAbout(),this.props.location.pathname.toLowerCase().includes("nearby")&&this.props.setNearBy(),this.props.location.pathname.toLowerCase().includes("person")&&this.props.setPerson(),this.props.location.pathname.toLowerCase().includes("messages")&&this.props.setMessages()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(ve,{username:this.props.username,profilePhoto:this.props.profilePhoto,history:this.props.history})),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(ze,{username:this.props.username,profilePhoto:this.props.profilePhoto,history:this.props.history})),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(Ge,{username:this.props.username,profilePhoto:this.props.profilePhoto,history:this.props.history})))}}]),n}(o.a.Component),_e=Object(y.b)((function(e){return{currentTab:e.navigationReducer.currentTab,width:e.visibility.Width,profilePhoto:e.userReducer.profilePhoto,username:e.userReducer.username}}),{setAbout:C,setRanking:w,setHome:S,setNearBy:x,setPerson:T,setMessages:P})(qe),Je=n(31),Xe=(n(280),n(46)),$e=n.n(Xe),Ke=n(246),Qe=n(939),Ze=n(1002),et=n(940),tt=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).onSendHandler=function(){a.socket.emit("Chat_Message",{message:a.state.chatText,token:a.token,sessionId:a.session}),a.setState((function(e){return{chatText:""}}))},a.state={clicked:!0,id:1,messages:[],chatText:"",seen:!1,myId:null,PersonNextSide:null,chatsLoading:!0,error:!1,session:e.session,comingAnimation:"comingFromRightP5"},a.session=null,a.token=e.token,a.socket=e.socket.emit("Save_Id",{token:a.token,session:e.session}),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("Seen",(function(t){console.log(t),e.setState((function(e){return{messages:e.messages.map((function(e){return Object(c.a)({},e,{seen:!0})}))}}))})),this.socket.on("message",(function(t){e.setState((function(e){return{messages:e.messages.concat([t])}}))}));var t=new Headers;t.append("Authorization",this.props.token),t.append("content-type","application/json"),this.session=this.props.session,fetch("".concat(D,"/getSessionChats/").concat(this.props.session),{method:"GET",headers:t}).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ok){t.next=6;break}return t.next=3,n.json();case 3:return a=t.sent,setTimeout((function(){e.setState((function(e){return{messages:[].concat(Object(Je.a)(a.messages),Object(Je.a)(e.messages)),PersonNextSide:a.PersonNextSide.participant,myId:a.myId,chatsLoading:!1,error:!1}}))}),200),t.abrupt("return");case 6:e.setState({chatsLoading:!1,error:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({chatsLoading:!1,error:!0})}))}},{key:"componentWillUnmount",value:function(){this.socket.emit("updateSession",{token:this.token,session:null})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.chatsLoading||this.state.error||this.el.scrollIntoView(),this.session!==this.props.session){this.setState({messages:[]}),this.socket.emit("updateSession",{token:this.token,session:this.props.session}),this.setState({chatsLoading:!0});var t=new Headers;t.append("Authorization",this.props.token),t.append("content-type","application/json"),this.session=this.props.session,fetch("".concat(D,"/getSessionChats/").concat(this.props.session),{method:"GET",headers:t}).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ok){t.next=5;break}return t.next=3,n.json();case 3:return a=t.sent,t.abrupt("return",e.setState((function(e){return{messages:[].concat(Object(Je.a)(a.messages),Object(Je.a)(e.messages)),PersonNextSide:a.PersonNextSide.participant,myId:a.myId,chatsLoading:!1,error:!1}})));case 5:e.setState({chatsLoading:!1,error:!0,messages:[]});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({chatsLoading:!1,error:!0,messages:[]})})),this.session=this.props.session}}},{key:"render",value:function(){var e=this,t=this.state,n=t.chatText,a=t.messages;t.seen;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"parentChatContainer ".concat(this.state.comingAnimation)},o.a.createElement(rt,Object.assign(Object(m.a)({history:this.props.history,dispatch:this.props.dispatch,onBack:function(){e.props.onBack()},onBackAnimation:function(){e.setState({comingAnimation:"goBack"})}},"history",this.props.history),this.props.personNextSide)),o.a.createElement("div",{className:"chatFormContainer"},o.a.createElement(nt,{chatText:n,onChange:function(t){e.setState({chatText:t})},onSend:this.onSendHandler})),this.state.error&&!this.state.chatsLoading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"}},o.a.createElement(Ze.a,{status:"success",title:"No Chats"})):"",this.state.chatsLoading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"}},o.a.createElement(Qe.a,{style:{color:"black"}})):o.a.createElement(at,{setRef:function(t){e.el=t},PersonNextSide:this.state.PersonNextSide,messages:a,myId:this.state.myId,socket:this.socket})))}}]),n}(o.a.PureComponent),nt=function(e){var t=e.chatText,n=e.onChange,a=e.onSend;return o.a.createElement("form",{className:"ChattingForm",onSubmit:function(e){e.preventDefault()}},o.a.createElement("input",{value:t,type:"text",onChange:function(e){n(e.target.value)},className:"chatInputField",placeholder:"Type Something..."}),o.a.createElement("button",{className:"sendButton",disabled:0===t.length,onClick:function(){a()}},o.a.createElement("i",{className:"far fa-paper-plane"})))},at=function(e){var t=e.messages,n=e.setRef,a=e.myId,r=e.PersonNextSide;return o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{id:"chatCont",className:"chatContainer",style:{paddingTop:"100px"}},t.map((function(e,t){return o.a.createElement(ot,{key:t,message:e.message,hasSeen:a===e.from,on:e.date,seen:e.seen,PersonNextSideProfilePhoto:r.profilephoto,by:a===e.from?"me":r.firstName+" "+r.LastName})})),o.a.createElement("div",{ref:function(e){n(e)}}))))},ot=function(e){var t=e.message,n=e.on,a=e.seen,r=e.hasSeen,i=e.by,s=e.PersonNextSideProfilePhoto;return o.a.createElement("div",{className:"me"!==i?"chatLeftItem comingFromLeftP5":"chatRightItem comingFromUpP5"},o.a.createElement("div",{style:{display:"flex",marginBottom:10,marginTop:10,backgroundColor:"me"!==i?"rgba(0,0,0,0.01)":"",borderRadius:10,padding:10,flexDirection:"column",alignItems:"flex-start",border:"0.5px solid rgba(0,0,0,0.1)"}},o.a.createElement("div",{style:{fontSize:12,display:"flex",alignItems:"center"}},"me"!==i?o.a.createElement(A.a,{style:{marginRight:6,width:20,height:20},src:s}):"","me"===i?"You":i),o.a.createElement("div",null,t),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:7}},o.a.createElement("div",{style:{fontWeight:"lighter",fontSize:12}},$e()(n).format("MMMM Do YYYY h mm ss a")),r?o.a.createElement("i",{className:"far fa-eye ".concat(a?"seen":""),style:{color:a?Ke.a[600]:"grey",marginLeft:10}}):"")))},rt=function(e){var t=e.firstName,n=e.LastName,a=e.history,r=e.profilephoto,i=e.onBack,s=e.id,c=e.Online,l=e.onBackAnimation,u=e.dispatch;return o.a.createElement("div",{style:{position:"absolute",top:0,height:"60px",width:"100%",background:"white",borderBottom:"0.5px solid rgba(0,0,0,0.2)",zIndex:1e3,display:"flex",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(F.a,{onClick:function(){setTimeout((function(){i()}),500),l()}},o.a.createElement(et.a,null))),o.a.createElement("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontFamily:"poppins",fontWeight:"bold",width:"100%",marginLeft:"2%"},className:"topDetails",onClick:function(){a.push("/anonymity/person/".concat(s)),u({type:"Person"})}},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(A.a,{style:{width:40,height:40},src:r}),o.a.createElement("div",{style:{position:"absolute",bottom:0,height:"1.5vh",width:"1.5vh",borderRadius:"50%",background:"Online"===c.status?"green":"transparent",transition:"1s ease",transform:"Online"!==c.status?"translateX(30px) translateY(-34px)":"translateX(0px) translateY(0px)"}})),o.a.createElement("div",{style:{fontSize:15,marginLeft:"2%"}},t+" "+n,o.a.createElement("div",{style:{fontSize:11}},"Online"===c.status?"Online":c.lastSeen?"Last Seen.."+$e()(c.lastSeen).format("MMMM Do YYYY, h:mm a"):""))))},it=Object(y.b)((function(e){return{token:e.userReducer.token}}))(tt),st=n(1011),ct=n(944),lt=n(247),ut=function(e){var t=e.sessions,n=e.onSelect,a=e.sessionId,r=e.MyId;return o.a.createElement(o.a.Fragment,null,t.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(mt,{onClick:function(e){n(e)},TimeDelay:50*t,key:t,firstName:e.personNextSide.firstName,active:e.session===a,id:e.session,profilephoto:e?e.personNextSide.profilephoto:"",LastName:e.personNextSide.LastName,online:"Online"===e.personNextSide.Online.status,lastSeen:e.personNextSide.Online.lastSeen,UnReadMessageCount:e.UnReadMessageCount,MyId:r}))})))},mt=function(e){var t=e.id,n=e.profilephoto,a=e.firstName,r=e.LastName,i=e.onClick,s=e.active,c=e.online,l=e.UnReadMessageCount,u=e.lastSeen,m=e.MyId,p=e.TimeDelay,d=o.a.useState(!1),h=Object(N.a)(d,2),g=h[0],f=h[1];return o.a.useEffect((function(){if(!p)return f(!0);setTimeout((function(){f(!0)}),p)}),[]),o.a.createElement(o.a.Fragment,null,g?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"animationOnEven1",style:{width:"100%",color:"black",cursor:"pointer",padding:10,height:"100px",background:s?"rgba(0,0,0,0.05)":"rgba(0,0,0,0.0)",display:"flex",transition:"0.5s ease",alignItems:"center"},onClick:function(){return i(t)}},o.a.createElement("div",{style:{position:"relative",marginLeft:"10%",marginRight:10}},o.a.createElement(A.a,{src:n}),o.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,height:10,width:10,borderRadius:"50%",backgroundColor:c?lt.a[700]:"transparent",transform:c?"translateY(-40px) translateX(25px)":"translateY(0px) translateX(0px)",transition:"0.5s ease"}})),o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold"}},o.a.createElement("div",null,a+" "+r),u?o.a.createElement("div",{style:{fontSize:10}},"Last Seen"):"",o.a.createElement("div",{style:{fontWeight:"lighter",fontSize:12}},u?$e()(u).format("MMMM Do YYYY, h:mm:ss a"):c?"Online":"")),l.length&&0!==l.find((function(e){return e.forParticipant===m})).count?o.a.createElement("div",{className:l.find((function(e){return e.forParticipant===m})).count%2===0?"animationOnEven":"animationOnOdd",style:{height:30,width:30,background:Ke.a[700],borderRadius:"50%",color:"white",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"auto",zIndex:100}},o.a.createElement("div",{style:{fontSize:14}},l.find((function(e){return e.forParticipant===m})).count)):""),o.a.createElement("div",{style:{height:.4,width:"100%",background:"rgba(0,0,0,0.1)"}})):"")},pt=function(e){var t=e.setSession,n=e.sessions,a=e.session,r=e.MyId;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{maxHeight:"70vh",overflow:"auto",overflowX:"hidden"},className:"thinscrollbar comingFromLeftP5"},o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:10,flexDirection:"column",alignItems:"center",overflow:"auto"}},o.a.createElement(ut,{MyId:r,sessions:n,sessionId:a,onSelect:function(e){t(e)}}))))},dt=n(943),ht=n(945),gt=n(234),ft=n.n(gt),yt=n(37),bt=n(992),Et=n(941),vt=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={selectedPerson:null,message:"",error:!1,loading:!1},a.handleSendMessage=a.handleSendMessage.bind(Object(yt.a)(a)),a}return Object(j.a)(n,[{key:"handleSendMessage",value:function(){var e=this,t=new Headers;t.append("Authorization",this.props.token),this.setState({loading:!0}),t.append("content-type","application/json");var n=JSON.stringify({message:this.state.message,messageTo:this.state.selectedPerson._id});fetch("".concat(D,"/startConversation"),{method:"POST",headers:t,body:n}).then((function(t){if(t.ok)return e.props.onSessionCreated(),void e.props.onClose();e.setState({loading:!1,error:!0})})).catch((function(t){e.setState({loading:!1,error:!0})}))}},{key:"render",value:function(){var e=this;return o.a.createElement(bt.a,{className:"comingFromLeftP5",open:!0,onClose:this.props.onClose,dimmer:"inverted"},o.a.createElement(bt.a.Header,{style:{fontFamily:"poppins"}},"Start New Conversations"),o.a.createElement(bt.a.Content,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.selectedPerson?o.a.createElement(jt,{firstName:this.state.selectedPerson.firstName,LastName:this.state.selectedPerson.LastName,profilephoto:this.state.selectedPerson.profilephoto,cancelSelected:function(){e.setState({selectedPerson:null,error:!1})}}):o.a.createElement(o.a.Fragment,null,o.a.createElement(ye,{forConversation:!0,alreadyConnectedUsers:this.props.alreadyConnectedUsers,personSelected:function(t){e.setState({selectedPerson:t})}}),o.a.createElement("div",{style:{fontWeight:"bold",fontFamily:"poppins"}},"Search For People...."))),this.state.selectedPerson?o.a.createElement("div",{className:"comingFromLeftP5",style:{display:"flex",justifyContent:"center",width:"100%",margin:20}},o.a.createElement("input",{value:this.state.message,style:{boxShadow:"none",border:"1px solid black",borderRadius:3},onChange:function(t){e.setState({message:t.target.value,error:!1})},className:"chatInputField",placeholder:"Say hi To ".concat(this.state.selectedPerson.firstName," \ud83d\udc4b")})):"",this.state.loading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},o.a.createElement(Qe.a,{style:{color:"black"}})):"",this.state.error?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"20vh",fontWeight:"bold",fontFamily:"poppins",fontSize:20}},"Error Sending Message"):""),this.state.selectedPerson?o.a.createElement(bt.a.Actions,null,o.a.createElement(ie.a,{style:{marginBottom:10},variant:"outlined",color:"primary",disabled:0===this.state.message.length,onClick:this.handleSendMessage},"Send"),o.a.createElement(ie.a,{style:{marginBottom:10},onClick:function(){return e.props.onClose()}},"close")):"")}}]),n}(o.a.Component);function jt(e){var t=e.profilephoto,n=e.firstName,r=e.LastName,i=e.cancelSelected;return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"comingFromRightP5",style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(A.a,{src:t,style:{marginRight:10}}),o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold"}},n+" "+r),o.a.createElement(F.a,{onClick:function(){i()}},o.a.createElement(Et.a,null))))}var Ot=Object(y.b)((function(e){return{token:e.userReducer.token}}))(vt),kt=function(e){var t=e.onAddConversation;return o.a.createElement("div",{style:{fontWeight:"bold",fontSize:30,padding:20,fontFamily:"poppins",display:"flex",justifyContent:"center"}},o.a.createElement("div",{style:{flexGrow:1,textAlign:"center"}},"Conversations"),o.a.createElement(F.a,{onClick:function(){t()}},o.a.createElement(ht.a,null)))},St=Object(y.b)((function(e){return{token:e.userReducer.token,MyId:e.userReducer.id}}))((function(e){var t=o.a.useState(!0),n=Object(N.a)(t,2),a=n[0],r=n[1],i=o.a.useState(!1),s=Object(N.a)(i,2),l=s[0],u=s[1],p=o.a.useState([]),d=Object(N.a)(p,2),h=d[0],g=d[1],f=o.a.useState(),y=Object(N.a)(f,2),b=y[0],E=y[1],v=o.a.useState(ft.a.connect("".concat(D,"/chat"))),j=Object(N.a)(v,2),O=j[0],k=(j[1],o.a.useState(e.token)),S=Object(N.a)(k,2),w=S[0],C=(S[1],o.a.useState({})),x=Object(N.a)(C,2),T=x[0],P=x[1],A=o.a.useState(!1),R=Object(N.a)(A,2),L=R[0],I=R[1],B=o.a.useState(!1),z=Object(N.a)(B,2),H=z[0],M=z[1],U=function(t){g((function(n){var a=n.findIndex((function(e){return e.session===t})),o=Object(Je.a)(n);return o[a]=Object(c.a)({},n[a],{UnReadMessageCount:n[a].UnReadMessageCount.map((function(t){return t.forParticipant===e.MyId?{count:0,forParticipant:t.forParticipant}:t}))}),o}))},W=function(){var e=new Headers;r(!0),g([]),e.append("Authorization",w),e.append("content-type","application/json"),fetch("".concat(D,"/getMySessions"),{method:"GET",headers:e}).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.ok){e.next=11;break}return e.next=4,t.json();case 4:for((n=e.sent).sort((function(e,t){return-1*$e()(e.lastMessage).diff(t.lastMessage,"seconds")})),r(!1),g(n),a=function(e){var t=n[e].personNextSide.id;P((function(e){return Object(c.a)({},e,Object(m.a)({},t,!0))}))},o=0;o<n.length;o++)a(o);return e.abrupt("return");case 11:r(!1),u(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r(!1),u(!0)}))};return o.a.useEffect((function(){return W(),O.emit("Save_Id",{token:w,session:null}),O.on("unreadMessage",(function(t){var n;n=t.session,g((function(t){try{var a=t.findIndex((function(e){return e.session===n}));if(-1===a)return M(!0),t;var o=Object(Je.a)(t);return o[a]=Object(c.a)({},t[a],{UnReadMessageCount:t[a].UnReadMessageCount.map((function(t){return t.forParticipant===e.MyId?{count:t.count+1,forParticipant:t.forParticipant}:t}))}),o}catch(r){console.log(r.message)}}))})),O.on("someOneGetsOnline",(function(e){var t;t=e.id,g((function(e){return e.map((function(e){return e.personNextSide.id===t?Object(c.a)({},e,{personNextSide:Object(c.a)({},e.personNextSide,{Online:{status:"Online",lastSeen:null}})}):e}))}))})),O.on("someOneGetsOffline",(function(e){var t;t=e.id,g((function(e){return e.map((function(e){return e.personNextSide.id===t?Object(c.a)({},e,{personNextSide:Object(c.a)({},e.personNextSide,{Online:{status:"Offline",lastSeen:new Date}})}):e}))}))})),function(){O.disconnect()}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{open:H,autoHideDuration:6e3,onClose:function(){M(!1)},ContentProps:{style:{fontFamily:"poppins"}},anchorOrigin:{horizontal:"center",vertical:"top"},message:"There Might Be New Conversations",action:o.a.createElement(F.a,{onClick:function(){M(!1),W()}},o.a.createElement(dt.a,{style:{color:"white"}}))}),L?o.a.createElement(Ot,{alreadyConnectedUsers:T,onClose:function(){return I(!1)},onSessionCreated:function(){W()}}):"",o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(ct.a,{container:!0},o.a.createElement(ct.a,{item:!0,sm:5},o.a.createElement(kt,{onAddConversation:function(){I(!0)}}),a?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},o.a.createElement(Qe.a,{style:{color:"black"}})):"",l?o.a.createElement("div",{style:{textAlign:"center",marginTop:"10%",fontFamily:"poppins",fontWeight:"bold"}},"Error Fetching Conversations!!"):"",o.a.createElement(pt,{setSession:function(e){E(e),U(e)},sessions:h,session:b,MyId:e.MyId})),o.a.createElement(ct.a,{item:!0,sm:6},b?o.a.createElement(it,{socket:O,session:b,onBack:function(){E(null)},history:e.history,personNextSide:h.find((function(e){return e.session===b})).personNextSide}):""),o.a.createElement(ct.a,{item:!0,sm:1}))),o.a.createElement(He.a,He.a.onlyMobile,b?"":o.a.createElement(kt,{onAddConversation:function(){I(!0)}}),a?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},o.a.createElement(Qe.a,{style:{color:"black"}})):"",b?o.a.createElement(it,{socket:O,session:b,onBack:function(){E(null)},history:e.history,personNextSide:h.find((function(e){return e.session===b})).personNextSide}):o.a.createElement(pt,{setSession:function(e){E(e),U(e)},sessions:h,session:b,MyId:e.MyId})),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(ct.a,{container:!0},o.a.createElement(ct.a,{item:!0,sm:5},o.a.createElement(kt,{onAddConversation:function(){I(!0)}}),a?o.a.createElement("div",{style:{height:"50vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(Qe.a,{style:{color:"black"}})):o.a.createElement(pt,{setSession:function(e){E(e),U(e)},sessions:h,session:b,MyId:e.MyId})),o.a.createElement(ct.a,{item:!0,sm:7},b?o.a.createElement(it,{socket:O,session:b,onBack:function(){E(null)},history:e.history,personNextSide:h.find((function(e){return e.session===b})).personNextSide}):""))))})),wt=(n(742),n(115)),Ct=n.n(wt),xt=n(930),Tt=n(946),Pt=n(990),Nt=n(947),Ft=function(e){return o.a.createElement("div",null,o.a.createElement(be.a,{src:n(144),size:"tiny",centered:!0}),e.h2?o.a.createElement("div",null,o.a.createElement("h2",{style:{color:"grey",textAlign:"center",fontFamily:"poppins"}},e.heading),o.a.createElement("h3",{style:{color:"orange",textAlign:"center",textTransform:"uppercase"}},e.username)):o.a.createElement("div",null,o.a.createElement("h1",{style:{color:"grey",textAlign:"center",fontFamily:"poppins",fontWeight:"bold"}},e.heading),o.a.createElement("h2",{style:{color:"orange",textAlign:"center",textTransform:"uppercase"}},e.username)),e.divider?o.a.createElement(Ae.a,null):"")},At=n(244),Rt=Object(y.b)()((function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1];return o.a.createElement("div",null,o.a.createElement(Ft,{heading:"Seems Like You Are Already Logged In...",username:e.username,h2:!0}),o.a.createElement(xt.a,{in:r,open:r,style:{zIndex:1e3}},o.a.createElement(Qe.a,{style:{color:"white",width:100,height:100}})),o.a.createElement(Tt.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100}},o.a.createElement(ie.a,{style:{color:"black",fontFamily:"poppins",fontSize:15},onClick:function(){return e.history.push("/anonymity/home")}},"Go Home")),o.a.createElement(Ae.a,{horizontal:!0},"Or"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(ie.a,{style:{color:At.a[500],fontFamily:"poppins",fontSize:15},onClick:function(){var t=localStorage.getItem("AnonymityToken#123");if(e.dispatch({type:"notAuth"}),localStorage.setItem("AnonymityToken#123",!1),t){var n=new Headers;n.append("content-type","application/json"),n.append("Authorization",t);var a=new Request("".concat(D,"/user/logout"),{method:"GET",headers:n});i(!0),fetch(a).then((function(t){console.log(t.status),200===t.status?e.makeFalse():401===t.status&&i(!1)})).catch((function(e){i(!1)}))}}},"Log Out"))))})),Lt=n(996),It=n(439),Bt=n.n(It),zt=n(440),Ht=n.n(zt),Mt=n(441),Ut=n.n(Mt),Wt=n(442),Dt=n.n(Wt),Yt=Object(te.a)({palette:{primary:{main:de.a[600]},secondary:{main:lt.a[500]}}}),Vt=Object(te.a)({palette:{primary:{main:de.a[300]},secondary:{main:Ke.a[600]}}}),Gt=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",showPass:!1,isEmailRight:"unknown",isFetchingEmail:!1,isPasswordCorrect:"unknown",LoadingAfterSignUp:!1,LogInFailed:!1,isLoggedIn:"unknown",username:""},a.handleChange=a.handleChange.bind(Object(yt.a)(a)),a.showPass=a.showPass.bind(Object(yt.a)(a)),a.onBlur=a.onBlur.bind(Object(yt.a)(a)),a.emptyEmail=a.emptyEmail.bind(Object(yt.a)(a)),a.onSignInHandle=a.onSignInHandle.bind(Object(yt.a)(a)),a.handleSnackClose=a.handleSnackClose.bind(Object(yt.a)(a)),a.makeFalseIsLogin=a.makeFalseIsLogin.bind(Object(yt.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("AnonymityToken#123");if(t){var n=new Headers;n.append("Authorization",t),n.append("content-type","application/json");var a=new Request("".concat(D,"/user/isAuth"),{method:"get",headers:n});fetch(a).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){var a,o;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!=n.status){t.next=8;break}return t.next=3,n.json();case 3:a=t.sent,o=a.username,e.setState({isLoggedIn:!0,username:o}),t.next=9;break;case 8:401==n.status&&e.setState({isLoggedIn:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({isLoggedIn:!1})}))}else this.setState({isLoggedIn:!1})}},{key:"handleChange",value:function(e){this.setState({LogInFailed:!1}),"email"===e.target.name&&this.setState({isEmailRight:"unknown"}),"password"===e.target.name&&(e.target.value.length>0?this.setState({isPasswordCorrect:e.target.value.length>=8}):this.setState({isPasswordCorrect:"unknown"})),this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"showPass",value:function(e){this.setState((function(e){return{showPass:!e.showPass}}))}},{key:"onBlur",value:function(e){var t=this;if("email"===e.target.name)if(Ct.a.default.isEmail(this.state.email)){var n=new Headers;n.append("content-type","application/json");var a=new Request("".concat(D,"/user/verifyEmail/").concat(this.state.email),{method:"GET",headers:n});this.setState({isFetchingEmail:!0}),fetch(a).then(function(){var e=Object(le.a)(ce.a.mark((function e(n){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.json();case 3:a=e.sent,t.setState({isFetchingEmail:!1,isEmailRight:!a.isEmailValid}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.setState({isFetchingEmail:!1});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({isFetchingEmail:!1})}))}else this.state.email&&this.setState({isEmailRight:!1})}},{key:"makeFalseIsLogin",value:function(e){this.setState({isLoggedIn:!1})}},{key:"emptyEmail",value:function(e){this.setState({email:"",isEmailRight:"unknown"})}},{key:"onSignInHandle",value:function(){var e=this,t=new Headers,n={email:this.state.email,password:this.state.password};n=JSON.stringify(n),t.append("content-type","application/json");var a=new Request("".concat(D,"/user/login"),{method:"POST",body:n,headers:t});this.setState({LoadingAfterSignUp:!0}),fetch(a).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){var a,o;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==n.status){t.next=7;break}return t.next=3,n.json();case 3:return a=t.sent,o=a.token,localStorage.setItem("AnonymityToken#123",o),t.abrupt("return",e.props.history.push("/anonymity/home"));case 7:401===n.status&&e.setState({LoadingAfterSignUp:!1,LogInFailed:"Wrong Credentials"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log("Error"),e.setState({LoadingAfterSignUp:!1,LogInFailed:"Connection Error"})}))}},{key:"handleSnackClose",value:function(){this.setState({LogInFailed:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(xt.a,{in:"unknown"==this.state.isLoggedIn,open:"unknown"==this.state.isLoggedIn,style:{zIndex:101}},o.a.createElement(Qe.a,{style:{color:"white",width:150,height:150}})),this.state.isLoggedIn?"":o.a.createElement("div",null,o.a.createElement(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!this.state.LogInFailed,autoHideDuration:6e3,message:this.state.LogInFailed,onClose:this.handleSnackClose},o.a.createElement(Lt.a,{severity:"error"},this.state.LogInFailed)),o.a.createElement("div",{style:{display:"flex",marginTop:"10%",justifyContent:"center",alignContent:"center",justifyItems:"center",flexGrow:1}},o.a.createElement(L.a,{style:{width:400,padding:10,margin:10},elevation:10},o.a.createElement(Tt.a,{maxWidth:"xs"},o.a.createElement(Ft,{heading:"Anonymity Login",divider:!0}),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onSignInHandle(t)}},o.a.createElement(ne.a,{theme:Yt},o.a.createElement(Pt.a,{color:!0===this.state.isEmailRight?"secondary":"primary",error:!this.state.isEmailRight,className:"comingFromLeft",name:"email",label:"Email",variant:"filled",FormHelperTextProps:{className:"comingFromLeft"},helperText:!1===this.state.isEmailRight?"Email Not Valid":"",value:this.state.email,onChange:this.handleChange,onBlur:this.onBlur,InputProps:{style:{backgroundColor:"rgba(0,0,0,0.02)",fontWeight:"bold",color:"grey"},endAdornment:o.a.createElement(Nt.a,null,this.state.isFetchingEmail?o.a.createElement(Qe.a,{style:{width:20,height:20}}):"",!0===this.state.isEmailRight?o.a.createElement(F.a,null,o.a.createElement(Bt.a,{style:{color:lt.a[500]}})):"",!1===this.state.isEmailRight?o.a.createElement(F.a,null,o.a.createElement(Ht.a,{onClick:this.emptyEmail})):"")},size:"medium",style:{width:"100%",fontWeight:"bolder"}}),o.a.createElement(Pt.a,{color:!0===this.state.isPasswordCorrect?"secondary":"primary",error:!this.state.isPasswordCorrect,className:"comingFromRight",name:"password",label:"password",FormHelperTextProps:{className:"comingFromRight"},size:"medium",type:this.state.showPass?"text":"password",variant:"filled",helperText:!1===this.state.isPasswordCorrect?"Password Length Must Be Greater Than 7":"",value:this.state.password,onChange:this.handleChange,style:{width:"100%",fontWeight:"bolder",marginTop:30},InputProps:{endAdornment:o.a.createElement(Nt.a,{position:"end"},o.a.createElement(F.a,{onClick:this.showPass},this.state.showPass?o.a.createElement(Ut.a,null):o.a.createElement(Dt.a,null))),style:{backgroundColor:"rgba(0,0,0,0.02)",fontWeight:"bold",color:"grey"}}})),o.a.createElement(ne.a,{theme:Vt},o.a.createElement(ie.a,{type:"submit",color:"primary",size:"large",style:{width:"100%",marginTop:100},variant:"contained",disabled:!0!==this.state.isEmailRight||!0!==this.state.isPasswordCorrect,disableElevation:!0,className:"comingFromDown"},"Sign In"),o.a.createElement(Ae.a,{horizontal:!0,style:{color:"grey"}},"OR"),o.a.createElement(ie.a,{color:"secondary",type:"adas",size:"large",style:{width:"100%",textTransform:"lowercase",color:"grey"},onClick:function(){return e.props.history.push("/signup")}},"Don't Have a Account ? Sign Up"))),o.a.createElement(xt.a,{open:this.state.LoadingAfterSignUp,style:{zIndex:120}},o.a.createElement(Qe.a,{style:{color:"white"}})))))),1==this.state.isLoggedIn?o.a.createElement(Rt,{makeFalse:this.makeFalseIsLogin,username:this.state.username,history:this.props.history}):"")}}]),n}(o.a.Component),qt=n(952),_t=n(949),Jt=n(948),Xt=Object(te.a)({palette:{secondary:lt.a,primary:de.a}}),$t=function(e){return o.a.createElement(ne.a,{theme:Xt},o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Pt.a,{style:{width:"100%",marginRight:10},name:"firstName",value:e.firstName,label:"First Name",placeholder:"Your First Name",className:"comingFromLeft",InputProps:{style:{color:"rgba(0,0,0,0.8)",fontWeight:400}},margin:"normal",onChange:e.handleChange}),o.a.createElement(Pt.a,{label:"Last Name",fullWidth:!0,onChange:e.handleChange,name:"LastName",value:e.LastName,placeholder:"Your Last Name",className:"comingFromRight",margin:"normal",InputProps:{style:{color:"rgba(0,0,0,0.8)",fontWeight:400}}})),o.a.createElement(Pt.a,{label:"Email",fullWidth:!0,onChange:e.handleChange,name:"email",value:e.email,placeholder:"Your Email Address",className:"comingFromRight",margin:"normal",onBlur:e.onBlur,error:!e.isEmailRight,FormHelperTextProps:{className:"comingFromRight"},helperText:e.isEmailRight?"":"Email Not Valid",InputProps:{style:{color:"rgba(0,0,0,0.8)",fontWeight:400},endAdornment:o.a.createElement(Nt.a,null,e.isFetchingEmail?o.a.createElement(Qe.a,{style:{width:20,height:20}}):"",1==e.isEmailRight?o.a.createElement(Jt.a,null):"")}}),o.a.createElement(Pt.a,{style:{width:"100%",marginRight:10},name:"password",onChange:e.handleChange,value:e.password,label:"New Password",type:"password",placeholder:"Greater Than 8 Character",className:"comingFromLeft",error:e.password.length<8&&""!==e.password,helperText:e.password.length<8&&""!==e.password?"Length Must Be Greater Than 8":"",FormHelperTextProps:{className:"comingFromRight"},InputProps:{style:{color:"rgba(0,0,0,0.8)",fontWeight:400},className:"comingFromRight"},margin:"normal"}),o.a.createElement(Pt.a,{label:"Re-Enter Password",fullWidth:!0,onChange:e.handleChange,name:"repass",type:"password",value:e.repass,error:e.password!==e.repass,placeholder:"You Just Entered",className:"comingFromRight",helperText:e.password!==e.repass?"Password Not Match":"",FormHelperTextProps:{className:"comingFromRight"},margin:"normal",InputProps:{style:{color:"rgba(0,0,0,0.8)",fontWeight:400},className:"comingFromRight"}}),o.a.createElement(Pt.a,{select:!0,label:"gender",className:"comingFromUp",name:"gender",onChange:e.handleChange,value:e.gender,InputProps:{className:"comingFromRight"},margin:"normal",fullWidth:!0},o.a.createElement(_t.a,{key:"male",value:"male"},"Male"),o.a.createElement(_t.a,{key:"female",value:"female"},"Female")))},Kt=n(443),Qt=n(58),Zt=n(988),en=Object(te.a)({palette:{primary:de.a,secondary:lt.a}}),tn=function(e){return o.a.createElement("div",null,o.a.createElement(ne.a,{theme:en},o.a.createElement(Pt.a,{fullWidth:!0,label:"Username",name:"username",error:0==e.isUserNameRight,onChange:e.onChange,onBlur:e.onBlurUser,helperText:0==e.isUserNameRight?"Username is already Taken":"",FormHelperTextProps:{className:"comingFromLeft"},InputProps:{endAdornment:o.a.createElement(Nt.a,null,e.isUserNameLoading?o.a.createElement(Qe.a,{style:{width:20,height:20}}):"",!0===e.isUserNameRight?o.a.createElement(Jt.a,null):"")},value:e.username,className:"comingFromRight",placeholder:"Anything you Like But Make Sure It's Unique"}),o.a.createElement(Qt.a,{utils:Kt.a},o.a.createElement(Zt.a,{label:"Date Of Birth",fullWidth:!0,error:parseInt(e.dob.format("YYYY"))>parseInt((new Date).getFullYear())-17,helperText:parseInt(e.dob.format("YYYY"))>parseInt((new Date).getFullYear())-17?"Must Be Less Than ".concat(parseInt((new Date).getFullYear())-17):"",FormHelperTextProps:{className:"comingFromLeft"},className:"comingFromLeft",style:{marginTop:20},value:e.dob,onChange:e.handleDateChange,format:"MM/DD/YYYY"}),o.a.createElement(Pt.a,{label:"College",placeholder:"You Study In",select:!0,fullWidth:!0,style:{marginTop:10},className:"comingFromLeft",onChange:e.onChange,value:e.college,name:"college"},o.a.createElement(_t.a,{key:"sdiet",value:"Satyug Darshan Institute Of Technology And Management"},"Satyug Darshan Institute Of Technology And Management")),o.a.createElement(Zt.a,{label:"Year Of Joining #College",fullWidth:!0,helperText:"Must Be Greater Than or Equal To ".concat(parseInt((new Date).getFullYear())-4),views:["year"],style:{marginTop:20},className:"comingFromRight",value:e.yearofjoining,onChange:e.handleYearChange}))))},nn=n(950),an=n(951),on=Object(te.a)({palette:{primary:de.a,secondary:lt.a}}),rn=["General","Industry Integrated"],sn=["Computer Science","Mechanical","Electrical","Electronics","Civil"],cn=function(e){return o.a.createElement("div",null,o.a.createElement(ne.a,{theme:on},o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Pt.a,{label:"Phone",type:"phone",style:{marginRight:10},error:10!==e.phone.length&&""!==e.phone||!1===e.phoneValid,fullWidth:!0,helperText:10!==e.phone.length&&""!==e.phone?"Length Must Be 10":!1===e.phoneValid?"Mobile Already Taken":"",FormHelperTextProps:{className:"comingFromLeft"},InputProps:{className:"comingFromUp",endAdornment:o.a.createElement(Nt.a,null,e.isMobileLoading?o.a.createElement(Qe.a,{style:{width:20,height:20}}):o.a.createElement(nn.a,{style:{color:"grey"}}))},value:e.phone,placeholder:"+91",onChange:e.onChange,onBlur:e.onBlurPhone,name:"phone"}),o.a.createElement(Pt.a,{label:"Roll No",fullWidth:!0,InputProps:{className:"comingFromUp",endAdornment:o.a.createElement(Nt.a,null,o.a.createElement(an.a,null))},value:e.rollno,placeholder:"Of Class",onChange:e.onChange,name:"rollno"})),o.a.createElement(Pt.a,{label:"Course",select:!0,style:{marginTop:20},fullWidth:!0,InputProps:{className:"comingFromUp"},value:e.course,onChange:e.onChange,name:"course"},o.a.createElement(_t.a,{key:"b.tech",value:"b.tech"},"Bachelor of technology"),o.a.createElement(_t.a,{key:"bba",value:"bba"},"Bachelor of Business Administration")),o.a.createElement(Pt.a,{label:"Branch",select:!0,disabled:""===e.course,fullWidth:!0,style:{marginTop:20},InputProps:{className:"comingFromUp"},value:e.Branch,onChange:e.onChange,name:"Branch"},"b.tech"==e.course?sn.map((function(e){return o.a.createElement(_t.a,{key:e,value:e},e)})):"","bba"==e.course?rn.map((function(e){return o.a.createElement(_t.a,{key:e,value:e},e)})):"")))},ln=Object(te.a)({palette:{primary:de.a,secondary:{main:Ke.a[600]},third:At.a}}),un=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={isFetchingEmail:!1,email:"",isEmailRight:"unknown",isUserNameRight:"unknown",firstName:"",LastName:"",password:"",repass:"",gender:"",username:"",dob:$e()(new Date("12/30/2005")),yearofjoining:"2017",stage:1,college:"",phone:"",Branch:"",course:"",rollno:"",isLoading:!1,isError:!1,isMobileLoading:!1,phoneValid:"unknown",isUserNameLoading:!1},a.handleChange=a.handleChange.bind(Object(yt.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(yt.a)(a)),a.handleYearChange=a.handleYearChange.bind(Object(yt.a)(a)),a.onBlur=a.onBlur.bind(Object(yt.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(yt.a)(a)),a.onBlurUser=a.onBlurUser.bind(Object(yt.a)(a)),a.onBlurPhone=a.onBlurPhone.bind(Object(yt.a)(a)),a}return Object(j.a)(n,[{key:"handleSubmit",value:function(){var e=this;this.setState({isLoading:!0});var t=new Headers;console.log("hello"),t.append("content-type","application/json");var n=this.state,a=n.email,o=n.firstName,r=n.LastName,i=n.password,s=n.Branch,c=n.course,l=n.phone,u=n.rollno,m=n.college,p=n.yearofjoining,d=n.dob,h=n.username,g=n.gender,f=JSON.stringify({email:a,firstName:o,LastName:r,password:i,Branch:s,course:c,phone:l,rollno:u,college:m,yearofjoining:p,dob:d,username:h,gender:g}),y=new Request("".concat(D,"/user/signup"),{method:"POST",body:f,headers:t});fetch(y).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){var a,o;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(201!==n.status){t.next=9;break}return t.next=3,n.json();case 3:a=t.sent,o=a.token,localStorage.setItem("AnonymityToken#123",o),e.props.history.push("/anonymity/home"),t.next=10;break;case 9:400===n.status&&e.setState({isError:!0,isLoading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({isError:!0,isLoading:!1})}))}},{key:"onBlur",value:function(e){var t=this;if(Ct.a.default.isEmail(this.state.email)){var n=new Headers;n.append("content-type","application/json");var a=new Request("".concat(D,"/user/verifyEmail/").concat(this.state.email),{method:"GET",headers:n});this.setState({isFetchingEmail:!0}),fetch(a).then(function(){var e=Object(le.a)(ce.a.mark((function e(n){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.json();case 3:a=e.sent,t.setState({isFetchingEmail:!1,isEmailRight:a.isEmailValid}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.setState({isFetchingEmail:!1});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({isFetchingEmail:!1})}))}else""!==e.target.value&&this.setState({isEmailRight:!1})}},{key:"onBlurUser",value:function(e){var t=this;if((e.target.name="username")&&""!==e.target.value){var n=new Headers;n.append("content-type","application/json");var a=new Request("".concat(D,"/user/username/").concat(e.target.value),{method:"GET",headers:n});this.setState({isUserNameLoading:!0}),fetch(a).then(function(){var e=Object(le.a)(ce.a.mark((function e(n){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:a=e.sent,t.setState({isUserNameRight:a.isValid,isUserNameLoading:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({isUserNameRight:"unknown",isUserNameLoading:!1})}))}}},{key:"onBlurPhone",value:function(e){var t=this;if(10===e.target.value.length){console.log("hello");var n=new Headers;n.append("content-type","application/json");var a=new Request("".concat(D,"/user/phone/").concat(e.target.value),{method:"GET",headers:n});this.setState({isMobileLoading:!0}),fetch(a).then(function(){var e=Object(le.a)(ce.a.mark((function e(n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n.status),e.next=4,n.json();case 4:if(e.sent,200!==n.status){e.next=7;break}return e.abrupt("return",t.setState({isMobileLoading:!1,phoneValid:!0}));case 7:t.setState({isMobileLoading:!1,phoneValid:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.message),t.setState({isMobileLoading:!1,phoneValid:"unknown"})}))}}},{key:"handleChange",value:function(e){if(this.setState({isUserNameLoading:!1}),"username"==e.target.name)return this.setState({isUserNameRight:"unknown"}),e.target.value.includes(" ")?void 0:this.setState(Object(m.a)({},e.target.name,e.target.value));if("course"==e.target.name)this.setState({Branch:""});else{if("phone"===e.target.name||"rollno"===e.target.name){if("phone"===e.target.name&&this.setState({phoneValid:"unknown"}),!(Ct.a.isNumeric(e.target.value)||""===e.target.value))return;return this.setState(Object(m.a)({},e.target.name,e.target.value))}"email"==e.target.name&&this.setState({isEmailRight:"unknown"})}this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"handleDateChange",value:function(e){this.setState({dob:e})}},{key:"handleYearChange",value:function(e){this.setState({yearofjoining:e.format("YYYY")})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isEmailRight,a=t.password,r=t.repass,i=t.firstName,s=t.LastName,c=t.gender;return o.a.createElement("div",null,o.a.createElement(xt.a,{open:this.state.isLoading,style:{zIndex:100}},o.a.createElement(Qe.a,{style:{color:"white",width:100,height:100}})),o.a.createElement(st.a,{autoHideDuration:3e3,onClose:function(){e.setState({isError:!1})},open:this.state.isError,message:"Error !! Signing Up"}),o.a.createElement(Tt.a,{maxWidth:"sm"},o.a.createElement(Ft,{heading:"Anonymity SignUp"}),1===this.state.stage?o.a.createElement($t,Object.assign({onBlur:this.onBlur,handleChange:this.handleChange},this.state)):"",2===this.state.stage?o.a.createElement(tn,Object.assign({onChange:this.handleChange,handleDateChange:this.handleDateChange,handleYearChange:this.handleYearChange},this.state,{onBlurUser:this.onBlurUser})):"",3===this.state.stage?o.a.createElement(cn,Object.assign({onChange:this.handleChange,onBlurPhone:this.onBlurPhone},this.state)):"",o.a.createElement(ne.a,{theme:ln},3==this.state.stage?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:30}},o.a.createElement(ie.a,{disabled:!(10==this.state.phone.length&&this.state.rollno&&this.state.course&&this.state.Branch),onClick:this.handleSubmit,variant:"outlined",color:"secondary"},"Sign Up")):"",1===this.state.stage?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(F.a,{color:"primary",onClick:function(){e.setState((function(e){return{stage:e.stage+1}}))},disabled:!(!0===n&&r===a&&""!==a&&c&&i&&s),style:{marginTop:10}},o.a.createElement(qt.a,null))):"",2===this.state.stage?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(F.a,{color:"primary",disabled:!(!0===this.state.isUserNameRight&&parseInt(this.state.dob.format("YYYY"))<=parseInt((new Date).getFullYear())-17&&parseInt(this.state.yearofjoining)>parseInt((new Date).getFullYear())-4&&this.state.college),onClick:function(){e.setState((function(e){return{stage:e.stage+1}}))},style:{marginTop:10}},o.a.createElement(qt.a,null))):"",o.a.createElement(Ae.a,{horizontal:!0,style:{color:"grey"}},"Or"),1==this.state.stage?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(ie.a,{style:{marginTop:10,textTransform:"lowercase",fontWeight:400},size:"large",onClick:function(){e.props.history.push("/login")}},"Already Have an account ?")):"",this.state.stage>1?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(F.a,{color:"secondary",style:{marginTop:10},onClick:function(){e.setState((function(e){return{stage:e.stage-1}}))}},o.a.createElement(et.a,null))):"")))}}]),n}(a.Component),mn=n(994),pn=n(953),dn=Object(te.a)({palette:{primary:Ke.a,secondary:de.a}}),hn=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.location.pathname.toLowerCase().includes("notes")?this.props.dispatch({type:"Notes"}):this.props.location.pathname.toLowerCase().includes("myproblems")?this.props.dispatch({type:"MyProblems"}):this.props.location.pathname.toLowerCase().includes("notices")?this.props.dispatch({type:"Notices"}):(this.props.dispatch({type:"MyProblems"}),this.props.history.push("/anonymity/home/MyProblems"))}},{key:"render",value:function(){var e=this;return o.a.createElement(ne.a,{theme:dn},o.a.createElement(L.a,{style:{backgroundColor:"rgba(0,0,0,0.01)"},elevation:0},o.a.createElement(mn.a,{onChange:function(t,n){switch(n){case 2:return e.props.history.push("/anonymity/Home/Notes"),void e.props.dispatch({type:"Notes"});case 0:return e.props.history.push("/anonymity/Home/MyProblems"),void e.props.dispatch({type:"MyProblems"});case 1:return e.props.history.push("/anonymity/Home/Notices"),void e.props.dispatch({type:"Notices"})}},TabIndicatorProps:{style:{height:2,backgroundColor:"black"}},centered:!0,value:this.props.currentHomeTab},o.a.createElement(pn.a,{color:"primary",textColor:"primary",icon:o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/crying.png",style:{width:30,height:30}}),label:"Complaints",disableRipple:!0}),o.a.createElement(pn.a,{icon:o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/noticeboard.png",style:{width:30,height:30}}),label:"Notices",disableRipple:!0}),o.a.createElement(pn.a,{icon:o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/note.png",style:{width:30,height:30}}),label:"Notes",disableRipple:!0}))))}}]),n}(o.a.Component),gn=Object(y.b)((function(e){return{currentHomeTab:e.HomeReducer}}))(hn),fn=Object(y.b)()((function(e){return o.a.createElement(Ze.a,{status:"404",title:"404",subTitle:"Sorry The Page You Visited Does Not Exist",extra:o.a.createElement(ie.a,{style:{color:"green"},onClick:function(){e.history.push("/anonymity/home"),e.dispatch({type:"Home"})}},"Go To Home")})})),yn=(n(816),{fontFamily:"poppins",fontWeight:"bold",color:"grey"}),bn=function(e,t){var n=new Headers;return n.append("Authorization",e),n.append("content-type","application/json"),fetch("".concat(D,"/user/sentotp/").concat(t),{method:"GET",headers:n})},En=function(e,t,n){var a=new Headers;return a.append("Authorization",e),a.append("content-type","application/json"),fetch("".concat(D,"/user/verifyotp/").concat(t,"/").concat(n),{method:"GET",headers:a})},vn=function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(e.email||""),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)(""),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(!1),j=Object(N.a)(v,2),O=j[0],k=j[1],S=Object(a.useState)(!1),w=Object(N.a)(S,2),C=w[0],x=w[1],T=Object(a.useState)(10),P=Object(N.a)(T,2),F=P[0],A=P[1],R=Object(a.useState)(!1),L=Object(N.a)(R,2),I=L[0],B=L[1];return o.a.createElement(a.Fragment,null,o.a.createElement(st.a,{onClose:function(){k(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,open:O,ContentProps:{style:{fontFamily:"poppins",fontWeight:"bold"}},message:O}),o.a.createElement(bt.a,{open:e.open,dimmer:"inverted"},o.a.createElement(bt.a.Header,{style:Object(c.a)({},yn)},"Verify Email..."),r?o.a.createElement(a.Fragment,null,o.a.createElement(bt.a.Content,{style:Object(c.a)({},yn)},o.a.createElement("div",{style:{margin:10}},(C?"Otp Has Already Been Generated For Email ----- ":"Otp Generated for ----- ")+h),o.a.createElement("input",{className:"mobField comingFromRightP5",placeholder:"Enter 6-Digit OTP",value:b,onChange:function(e){(Ct.a.isNumeric(e.target.value)&&e.target.value.length<7||""===e.target.value)&&E(e.target.value)}})),o.a.createElement(bt.a.Content,null,o.a.createElement(ie.a,{className:"comingFromRightP5",variant:"contained",color:"secondary",style:{width:200,color:"white",height:35},onClick:function(){!function(e,t,n){B(!0),En(e,t,n).then((function(e){return e.ok?window.location.reload(!1):500===e.status?(k("Internal Server Error"),void B(!1)):(B(!1),k("Wrong OTP or OTP Expired"))})).catch((function(e){k("Internal Server Error")}))}(localStorage.getItem("AnonymityToken#123"),h,b)},disabled:6!==b.length},I?o.a.createElement(Qe.a,{style:{color:"white",width:10,height:10}}):"Verify Email"),o.a.createElement("div",{style:Object(c.a)({},yn,{padding:20,cursor:"pointer",textAlign:"center",color:"grey"})},"To Resend OTP or Change Email Try Again After ",F," ","minutes..."))):o.a.createElement(a.Fragment,null,o.a.createElement(bt.a.Content,{style:Object(c.a)({},yn)},o.a.createElement("input",{placeholder:"Email",type:"text",className:"mobField comingFromLeftP5",value:h,disabled:u,style:{border:"invalid Email"===O?"0.5px solid red":"none",marginRight:"invalid Email"===O?10:0,transition:"0.5s",borderRadius:"invalid Email"===O?0:10},onChange:function(e){g(e.target.value)}}),"invalid Email"===O?"Invalid Email":""),o.a.createElement(bt.a.Content,null,o.a.createElement(ie.a,{variant:"outlined",className:"comingFromLeftP5",style:{width:200,color:"black",height:35},disabled:u||"invalid Email"===O,onClick:function(){if(!Ct.a.isEmail(h))return k("invalid Email");!function(e,t){m(!0),bn(e,t).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=3;break}return m(!1),e.abrupt("return",i(!0));case 3:if(403!==t.status){e.next=6;break}return k("Email Already Taken"),e.abrupt("return",m(!1));case 6:if(m(!1),409!==t.status){e.next=16;break}return i(!0),x(!0),e.next=12,t.json();case 12:n=e.sent,g(n.email),a=10-$e()(new Date).diff(n.generatedAt,"minutes"),A(a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){m(!1),k("Error Sending OTP")}))}(localStorage.getItem("AnonymityToken#123"),h)}},u?o.a.createElement(Qe.a,{style:{color:"black",width:10,height:10,marginLeft:10}}):"Sent Otp"))),o.a.createElement(bt.a.Actions,null,o.a.createElement(ie.a,{color:"secondary",onClick:function(){e.history.push("/"),Q(),localStorage.setItem("AnonymityToken#123",null),e.dispatch({type:"notAuth"})}},"Log Out"))))},jn=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={isLoading:!0},a.socket=void 0,a}return Object(j.a)(n,[{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"componentDidMount",value:function(){var e=this;if(this.socket=ft.a.connect("".concat(D)),this.socket.emit("message",{option:"hello world"}),this.props.isAuth)return this.setState({isLoading:!1});var t=localStorage.getItem("AnonymityToken#123");"false"!==t?function(e){var t=new Headers;t.append("content-type","application/json"),t.append("Authorization",e);var n=new Request("".concat(D,"/user/isAuth"),{method:"GET",headers:t});return fetch(n)}(t).then(function(){var n=Object(le.a)(ce.a.mark((function n(a){var o;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(200!==a.status){n.next=9;break}return n.next=3,a.json();case 3:return o=n.sent,o=Object(c.a)({},o,{token:t}),e.props.dispatch({type:"setUser",user:o}),e.props.dispatch({type:"auth"}),e.setState({isLoading:!1}),n.abrupt("return");case 9:e.setState({isLoading:!1});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){e.setState({isLoading:!1})})):this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this;return console.log(this.props.phone),o.a.createElement("div",null,o.a.createElement(xt.a,{style:{zIndex:1e3},open:this.state.isLoading},o.a.createElement(Qe.a,{style:{color:"black",width:100,height:100,zIndex:100}})),this.props.isAuth?this.props.verified?o.a.createElement(this.props.Component,Object.assign({socket:this.socket},this.props)):o.a.createElement(vn,{history:this.props.history,open:!0,email:this.props.email,dispatch:this.props.dispatch}):this.state.isLoading?"":o.a.createElement(Ze.a,{status:"403",title:"403",subTitle:"Sorry Not Authorize Please LogIn First",history:this.props.history,extra:o.a.createElement(ie.a,{onClick:function(){e.props.history.push("/login")}},"Go To Log In Screen")}))}}]),n}(a.Component),On=Object(y.b)((function(e){return{isAuth:e.authReducer,email:e.userReducer.email,verified:e.userReducer.verified}}))(jn),kn=n(967),Sn=n(1004),wn=n(995),Cn=n(1007),xn=n(954),Tn=n(956),Pn=n(960),Nn=n(474),Fn=n(871),An=n(309),Rn=n(993),Ln=n(955),In=n(957),Bn=n(958),zn=n(959),Hn=n(961),Mn=n(962),Un=n(997),Wn=n(1003),Dn=n(444),Yn=n(963),Vn=Object(y.b)((function(e){return{profilePhoto1:e.userReducer.profilePhoto,currentTab:e.navigationReducer.currentTab}}))((function(e){var t=Object(a.useState)(e.UpVotes),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(e.DownVotes),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(e.UpVotedByMe),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)(e.DownVotedByMe),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(!1),j=Object(N.a)(v,2),O=j[0],k=j[1],S=Object(a.useState)(""),w=Object(N.a)(S,2),C=w[0],x=w[1],T=Object(a.useState)(!1),P=Object(N.a)(T,2),R=P[0],L=P[1],I=Object(a.useState)(!1),B=Object(N.a)(I,2),z=B[0],H=B[1],M=Object(a.useState)([]),U=Object(N.a)(M,2),W=U[0],Y=U[1],V=Object(a.useState)(!1),Q=Object(N.a)(V,2),Z=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=Object(N.a)(te,2),ae=ne[0],oe=ne[1],re=Object(a.useState)(!1),se=Object(N.a)(re,2),ue=se[0],me=se[1],pe=Object(a.useState)([]),de=Object(N.a)(pe,2),he=de[0],ge=de[1],fe=Object(a.useState)(void 0),ye=Object(N.a)(fe,2),Ee=ye[0],ve=ye[1],Oe=Object(a.useState)(!1),ke=Object(N.a)(Oe,2),Se=ke[0],we=ke[1],Ce=Object(a.useState)(0),xe=Object(N.a)(Ce,2),Te=xe[0],Pe=xe[1];Se||function(e){var t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("content-type","application/json");var n=new Request("".concat(D,"/commentsCount/").concat(e),{method:"GET",headers:t});return fetch(n)}(e.id).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=9;break}return e.t0=Pe,e.next=4,t.json();case 4:e.t1=e.sent.count,(0,e.t0)(e.t1),we(!0),e.next=10;break;case 9:we(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){we(!0)}));var Ne=function(){var t=Object(le.a)(ce.a.mark((function t(n){var a,o;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(localStorage.getItem("AnonymityToken#123"),e.id,n);case 3:if(!(a=t.sent).ok){t.next=10;break}return t.next=7,a.json();case 7:o=t.sent,ge(o),me(!1);case 10:t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),ge([]),me(!1),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),Fe=function(){var t=Object(le.a)(ce.a.mark((function t(){var n,a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,H(!0),t.next=4,$(e.id,localStorage.getItem("AnonymityToken#123"));case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,Y(a),H(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0.message),H(!1);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),Re=function(){var t=Object(le.a)(ce.a.mark((function t(){var n,a,o;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Headers,a=localStorage.getItem("AnonymityToken#123"),n.append("Authorization",a),n.append("content-type","application/json"),o=new Request("".concat(D,"/user/post/").concat(e.id),{method:"DELETE",headers:n}),t.prev=5,t.next=8,fetch(o);case 8:200===t.sent.status&&window.location.reload(!0),We(!0),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),We(!0);case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(){return t.apply(this,arguments)}}(),Le=Object(a.useState)(!0),Ie=Object(N.a)(Le,2),Be=Ie[0],ze=Ie[1],He=Object(a.useState)(!1),Me=Object(N.a)(He,2),Ue=Me[0],We=Me[1],De=Object(a.useState)(!1),Ye=Object(N.a)(De,2),Ve=Ye[0],Ge=Ye[1],qe=Object(a.useState)(!1),_e=Object(N.a)(qe,2),Xe=_e[0],et=_e[1];return o.a.createElement(Tt.a,null,o.a.createElement(Ae.a,{hidden:!0}),o.a.createElement(Un.a,{className:e.className,style:Object(c.a)({},e.style,{},"comp"===e.deviceType?{width:600}:"mob"===e.deviceType?{width:325}:"tab"===e.deviceType?{width:500}:e.deviceType?void 0:{width:"100%"},{border:"none",display:"flex",justifyContent:"center",marginBottom:10,boxShadow:"1px 0px 20px rgba(0,0,0,0.2)",borderRadius:5})},o.a.createElement(Un.a.Content,null,o.a.createElement(Un.a.Header,{style:{color:"grey",fontFamily:"poppins",cursor:"pointer"},onClick:function(){Boolean(e.anonymous)||(e.history.push("/anonymity/person/".concat(e.UserId)),e.dispatch({type:"Person"}))}},o.a.createElement(A.a,{sizes:"large",src:e.profilePhoto}),e.username,e.anonymous&&e.isHome?o.a.createElement(je.a,{title:"this post is anonymous"},o.a.createElement(A.a,{style:{float:"right"},src:"https://img.icons8.com/doodle/48/000000/fraud.png"})):""),o.a.createElement(Un.a.Meta,{style:{color:"grey",fontFamily:"poppins"}},"Posted "+$e()(e.createdAt).fromNow()+" \nOn "+$e()(e.createdAt).format("LL"))),Be?o.a.createElement(Wn.a,null,o.a.createElement(Dn.a,{rectangular:!0})):"",o.a.createElement("div",{onClick:function(){Ge(!0)}},o.a.createElement(be.a,{src:e.image,style:Be||Ue?{width:0,height:0}:{width:"100%"},onLoad:function(){ze(!1)},onError:function(){ze(!1),We(!0)}})),o.a.createElement(Un.a.Content,null,o.a.createElement(Un.a.Content,null,o.a.createElement("div",{style:{fontFamily:"poppins",fontSize:12,fontWeight:"bolder",color:"black"}},"Complaint Statement")),o.a.createElement(Un.a.Content,null,o.a.createElement(Un.a.Description,{style:{fontWeight:"500",fontFamily:"poppins",wordWrap:"break-word",hyphens:"auto",marginTop:10}},e.description))),o.a.createElement(Cn.a,{TransitionProps:{unmountOnExit:!0},expanded:Z,onChange:function(e,t){ee(t)},elevation:0},o.a.createElement(xn.a,{expandIcon:o.a.createElement(je.a,{title:"Expand"},o.a.createElement(Ln.a,null))},o.a.createElement(Tn.a,{"aria-label":"acknowledge",onClick:function(e){return e.stopPropagation()},onFocus:function(e){e.stopPropagation()}},r,o.a.createElement(je.a,{title:"UpVote"},o.a.createElement(F.a,{size:"medium",style:{marginLeft:"0.5%",marginRight:"1%",color:h?Ke.a[700]:"grey"},onClick:function(){b?(E(!1),m((function(e){return e-1})),i((function(e){return e+1})),g((function(e){return!0})),G(e.id,localStorage.getItem("AnonymityToken#123")).then((function(t){J(e.id,localStorage.getItem("AnonymityToken#123"))}))):h?h&&(i((function(e){return e-1})),g((function(e){return!1})),q(e.id,localStorage.getItem("AnonymityToken#123"))):(i((function(e){return e+1})),g((function(e){return!0})),G(e.id,localStorage.getItem("AnonymityToken#123")))}},o.a.createElement(In.a,{className:h?"fadeUpToBlue":"fadeUp"}))),u,o.a.createElement(je.a,{title:"DownVote"},o.a.createElement(F.a,{size:"medium",style:{marginLeft:"1%",color:b?At.a[500]:"grey"},onClick:function(){h?(g(!1),i((function(e){return e-1})),m((function(e){return e+1})),E(!0),_(e.id,localStorage.getItem("AnonymityToken#123")).then((function(t){return q(e.id,localStorage.getItem("AnonymityToken#123"))}))):b?b&&(m((function(e){return e-1})),E(!1),J(e.id,localStorage.getItem("AnonymityToken#123"))):(m((function(e){return e+1})),E(!0),_(e.id,localStorage.getItem("AnonymityToken#123")))}},o.a.createElement(Bn.a,{className:b?"fadeUpToRed":"fadeUp"}))),o.a.createElement(je.a,{title:"Comments"},o.a.createElement(F.a,{onClick:function(){Fe(),k(!0),e.socket.on("comment",(function(e){Y((function(t){return[].concat(Object(Je.a)(t),[e.data.comment])})),Pe((function(e){return e+1}))}))}},o.a.createElement(zn.a,null))),W.length||Te)),o.a.createElement(Pn.a,null,o.a.createElement("code",null,"Status..."),o.a.createElement(Hn.a,null)),o.a.createElement(Tn.a,null,r>0?o.a.createElement(ie.a,{onClick:function(e){oe(e.currentTarget),me(!0),ve("UpVotes"),Ne("upVotedBy")}},"UpVoted By"):"",u>0?o.a.createElement(ie.a,{onClick:function(e){oe(e.currentTarget),me(!0),ve("DownVotes"),Ne("downVotedBy")}},"DownVoted By"):"",e.hasDeleteButton?o.a.createElement(ie.a,{variant:"outlined",onClick:function(){et(!0)}},o.a.createElement(Mn.a,{style:{color:At.a[500]}})," Delete"):"")),o.a.createElement(Nn.a,{anchorEl:ae,open:Boolean(ae),onClose:function(){oe(null),ve(void 0),ge([])},style:{maxHeight:300}},ue?o.a.createElement("div",null,o.a.createElement(_t.a,null,o.a.createElement(Yn.a,{variant:"circle",width:40,height:40}),o.a.createElement(Yn.a,{variant:"text",width:230,height:40}))):he.length>0?he.map((function(t){var n=t.user;return o.a.createElement(_t.a,{key:n._id,button:!0,onClick:function(){e.dispatch({type:"Person"}),e.history.push("/anonymity/person/".concat(n._id)),"Person"===e.currentTab&&window.location.reload(!1)}},o.a.createElement(A.a,{src:n.profilephoto}),o.a.createElement("div",{style:{marginLeft:10,width:200,fontWeight:"bold",fontFamily:"poppins"}},n.firstName+" "+n.LastName))})):o.a.createElement("div",{style:{margin:10,fontWeight:"bold",fontFamily:"poppins",width:200}},"No ".concat(Ee))),o.a.createElement(Un.a.Content,null,R?o.a.createElement(Qe.a,{style:{width:20,height:20,color:"black"}}):o.a.createElement("input",{placeholder:"Comment...",value:C,onChange:function(e){x(e.target.value)},style:{width:"80%",border:"none",fontSize:14,fontFamily:"poppins",padding:4,outline:"none"}}),o.a.createElement(je.a,{title:"Post Comment"},o.a.createElement("button",{disabled:!(C.length>0),onClick:Object(le.a)(ce.a.mark((function t(){var n,a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("AnonymityToken#123"),L(!0),t.next=5,X(e.id,n,C);case 5:return a=t.sent,t.next=8,a.json();case 8:t.sent,200===a.status&&x(""),L(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),L(!1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),style:{padding:4,color:0==C.length?Ke.a[100]:Ke.a[500],float:"right",background:"transparent",fontSize:15,fontFamily:"poppins",border:"none",outline:"none",cursor:"pointer",marginRight:10}},"Post")))),o.a.createElement(Ae.a,{hidden:!0}),o.a.createElement(bt.a,{open:Ve,basic:!0,onClose:function(){Ge(!1)},closeIcon:!0},o.a.createElement(be.a,{onContentMenu:"return false;",src:e.image,centered:!0})),e.hasDeleteButton?o.a.createElement(bt.a,{basic:!0,open:Xe},o.a.createElement(bt.a.Header,null,"Delete Your Problem"),o.a.createElement(bt.a.Content,null,o.a.createElement("p",null,"Are you sure you want to delete This Post ??")),o.a.createElement(bt.a.Actions,null,o.a.createElement(Fn.a,{onClick:function(){et(!1)},color:"red",inverted:!0},"No"),o.a.createElement(Fn.a,{positive:!0,onClick:function(){Re()},color:"green",inverted:!0},"Yes"))):"",O?o.a.createElement(bt.a,{open:O,size:"tiny",onClose:function(){k(!1),e.socket._callbacks.$comment=[]}},o.a.createElement(An.a,{style:{fontFamily:"poppins",backgroundColor:"rgba(0,0,0,1)",fontSize:15}},o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",color:"rgba(255,255,255,0.5)"}},"Comments on"," ","Anonymous"==e.username?"Someone's":e.username+"'s"," ","Problem")),o.a.createElement(bt.a.Content,{className:"thinScroll",scrolling:!0},o.a.createElement(Rn.a.Group,null,W.length>0&&!z?W.map((function(t,n){return o.a.createElement(a.Fragment,null,o.a.createElement(Rn.a,{key:t+n,className:"comingFromUpP5"},o.a.createElement(Rn.a.Avatar,{src:t.By.profilephoto}),o.a.createElement(Rn.a.Content,null,o.a.createElement(Rn.a.Author,{as:"a",onClick:function(){e.dispatch({type:"Person"}),e.history.push("/anonymity/person/".concat(t.By._id))},style:{fontFamily:"poppins"}},t.By.firstName+" "+t.By.LastName),o.a.createElement(Rn.a.Metadata,null,t.createdAt?$e()(t.createdAt).fromNow():""),o.a.createElement(Rn.a.Text,{style:{fontFamily:"poppins"}},t.description))),o.a.createElement(Ae.a,{className:"comingFromDownP5"}))})):z?o.a.createElement(Wn.a,null,o.a.createElement(Wn.a.Header,{image:!0},o.a.createElement(Wn.a.Line,null),o.a.createElement(Wn.a.Line,null)),o.a.createElement(Wn.a.Header,{image:!0},o.a.createElement(Wn.a.Line,null),o.a.createElement(Wn.a.Line,null)),o.a.createElement(Wn.a.Header,{image:!0},o.a.createElement(Wn.a.Line,null),o.a.createElement(Wn.a.Line,null))):o.a.createElement(Ze.a,{status:"404",title:"No Comments !!!",subTitle:"Wanna Put Some???"}))),o.a.createElement(Ae.a,{style:{marginBottom:0,marginTop:0}}),o.a.createElement(bt.a.Content,null,R?o.a.createElement(Qe.a,{style:{width:20,height:20,color:"black"}}):o.a.createElement("input",{placeholder:"Comment...",value:C,onChange:function(e){x(e.target.value)},style:{width:"80%",border:"none",fontSize:14,fontFamily:"poppins",padding:4,outline:"none"}}),o.a.createElement("button",{disabled:!(C.length>0),onClick:Object(le.a)(ce.a.mark((function t(){var n,a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("AnonymityToken#123"),L(!0),t.next=5,X(e.id,n,C);case 5:return a=t.sent,t.next=8,a.json();case 8:t.sent,200===a.status&&x(""),L(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),L(!1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),style:{padding:4,color:0==C.length?Ke.a[100]:Ke.a[500],float:"right",background:"transparent",fontSize:15,fontFamily:"poppins",border:"none",outline:"none",cursor:"pointer",marginRight:20}},"Post"))):"")})),Gn=Object(y.b)((function(e){return{profilePhoto:e.userReducer.profilePhoto,username:e.userReducer.username,id:e.userReducer.id}}))((function(e){return o.a.createElement("div",null,0===e.problems.length||e.isLoading?e.isLoading?"":o.a.createElement(Ze.a,{status:"success",title:"Hurray !! No Problems that I Am Facing"}):e.problems.map((function(t){var n=t.UpVoted_By.find((function(t){return t.user===e.id})),a=t.DownVoted_By.find((function(t){return t.user===e.id}));return o.a.createElement(Vn,{key:t._id,anonymous:t.Anonymous,isHome:!0,UserId:t.Author,UpVotedByMe:!!n,deviceType:e.deviceType,DownVotedByMe:!!a,socket:e.socket,id:t._id,profilePhoto:e.profilePhoto,username:e.username,header:"College Problems",image:t.Media?t.Media.imageUrl:"",description:t.Description,createdAt:t.createdAt,UpVotes:t.UpVotes,DownVotes:t.DownVotes,hasDeleteButton:!0,history:e.history})})))})),qn=n(964),_n=n(991),Jn=n(965),Xn=n(966),$n=n(987),Kn=localStorage.getItem("AnonymityToken#123"),Qn=function(e){var t=Object(a.useState)(!1),r=Object(N.a)(t,2),i=r[0],s=r[1],c=Object(a.useState)("unknown"),l=Object(N.a)(c,2),u=l[0],m=l[1],p=Object(a.useState)(""),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)(!1),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(null),j=Object(N.a)(v,2),O=j[0],k=j[1],S=Object(a.useState)(!1),w=Object(N.a)(S,2),C=w[0],x=w[1];return o.a.createElement("div",null,"error"===u?o.a.createElement(st.a,{open:"unknown"!==u,message:"Error Posting",autoHideDuration:3e3,onClose:function(){return m("unknown")}}):"","success"===u?o.a.createElement(st.a,{open:"unknown"!==u,message:"SuccessFul",autoHideDuration:3e3,onClose:function(){return m("unknown")}}):"",o.a.createElement(bt.a,{dimmer:"inverted",open:e.open,onClose:e.onClose},o.a.createElement(bt.a.Header,null,o.a.createElement(be.a,{src:e.profilePhoto||n(144),size:"mini",circular:!0}),o.a.createElement("div",{style:{marginTop:10,fontWeight:"500",fontSize:14,fontFamily:"poppins"}},o.a.createElement("b",null,e.UserName+" "||!1),"Have a Problem ",o.a.createElement(Ae.a,null),o.a.createElement("div",null,o.a.createElement(Pt.a,{label:"Problem Should Be Listed as",select:!0,variant:"filled",color:"secondary",SelectProps:{style:{backgroundColor:"rgba(0,0,0,0.01)"}},fullWidth:!0,value:C,onChange:function(e,t){x(t.props.value)},name:"course"},o.a.createElement(_t.a,{key:"Public",value:!1},"Public"),o.a.createElement(_t.a,{key:"Anonymous",value:!0},"Anonymous"))))),o.a.createElement(bt.a.Content,null,o.a.createElement(_n.a,{loading:i},o.a.createElement(Jn.a,{style:{height:100,fontSize:15,borderRadius:"0px"},value:h,onChange:function(e){g(e.target.value)},placeholder:"Describe Your Problem"}))),e.hasUpload?o.a.createElement(bt.a.Content,null,o.a.createElement($n.a,{method:"PUT",accept:"image/*",headers:{Authorization:localStorage.getItem("AnonymityToken#123"),contentType:"application/json"},name:"image",action:"".concat(D,"/user/post/photo"),onChange:function(e){"done"===e.file.status?(E(!0),s(!1),k(e.file.response)):"removed"===e.file.status?(s(!1),E(!1)):"uploading"===e.file.status?s(!0):e.file.error&&s(!1)},onRemove:function(){console.log("on Remove called");var e=new Headers;e.append("Authorization",Kn),e.append("content-type","application/json");var t=new Request("".concat(D,"/post/photo/").concat(O.key),{method:"DELETE",headers:e});fetch(t).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)})),k(null)},disabled:b},o.a.createElement(ie.a,{style:{fontFamily:"poppins",fontWeight:"bold",textTransform:"none"},disabled:b},o.a.createElement("div",{style:{marginRight:10}},"Upload Photo"),o.a.createElement(Xn.a,{style:{color:"rgba(44,130,201,1)"}})))):"",o.a.createElement(bt.a.Actions,null,o.a.createElement(Fn.a,{color:"blue",size:"medium",style:{marginBottom:10,marginRight:10,textTransform:"none",fontFamily:"poppins"},disabled:h.length<1||i,onClick:function(){s(!0),function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=new Headers,i=JSON.stringify({Description:t,Post_Type:n,Media:a,Anonymous:o});r.append("content-type","application/json"),r.append("Authorization",e);var s=new Request("".concat(D,"/user/post"),{method:"POST",headers:r,body:i});return fetch(s)}(localStorage.getItem("AnonymityToken#123"),h,"problem",O,C).then((function(t){if(200===t.status)return window.location.reload(!1),m("success"),void e.onClose();s(!1),m("error"),e.onClose()})).catch((function(e){s(!1),m("error")})),k(null)},variant:"outlined"},"Post Problem"),o.a.createElement(Fn.a,{size:"medium",style:{marginBottom:10,textTransform:"none",fontFamily:"poppins"},onClick:function(){if(s(!1),e.onClose(),O){var t=new Headers;t.append("Authorization",Kn),t.append("content-type","application/json");var n=new Request("".concat(D,"/post/photo/").concat(O.key),{method:"DELETE",headers:t});fetch(n).then((function(e){console.log(e.status),k(null)})).catch((function(e){k(null),console.log(e)}))}E(!1)}},"Close"))))},Zn=Object(te.a)({palette:{primary:{main:de.a[500]},secondary:{main:Ke.a[500]}}}),ea={display:"flex",justifyContent:"center"},ta=[{key:"Latest",value:"Latest",text:"Latest"},{key:"oldest",value:"oldest",text:"Oldest"}],na=Object(y.b)((function(e){return{username:e.userReducer.username,profilePhoto:e.userReducer.profilePhoto}}))((function(e){var t=Object(a.useState)(!0),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)([]),d=Object(N.a)(p,2),h=d[0],g=d[1],f=localStorage.getItem("AnonymityToken#123"),y=Object(a.useState)(!1),b=Object(N.a)(y,2),E=b[0],v=b[1],j=Object(a.useState)(10),O=Object(N.a)(j,2),k=O[0],S=(O[1],Object(a.useState)(0)),w=Object(N.a)(S,2),C=w[0],x=w[1],T=Object(a.useState)(1),P=Object(N.a)(T,2),F=P[0],A=P[1],R=Object(a.useState)(0),L=Object(N.a)(R,2),I=L[0],B=(L[1],Object(a.useState)("Latest")),H=Object(N.a)(B,2),M=H[0],U=H[1],W=Object(a.useState)(!1),D=Object(N.a)(W,2),V=D[0],G=D[1],q=function(e,t,n,a){g([]),Y(e,t,n,a).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=10;break}return e.next=3,t.json();case 3:return n=e.sent,a=n.problems,o=n.count,g(Object(Je.a)(a)),x(o),setTimeout((function(){return i(!1)}),0),e.abrupt("return");case 10:m(!0),setTimeout((function(){return i(!1)}),0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){m(!0),setTimeout((function(){return i(!1)}),0)})),v(!0)};return E||q(f,I,k),o.a.createElement(ne.a,{theme:Zn},o.a.createElement(Qn,{open:V,UserName:e.username,profilePhoto:e.profilePhoto,onClose:function(){G(!1)},hasUpload:!0}),o.a.createElement(st.a,{open:u,onClose:function(){m(!1)},autoHideDuration:6e3,message:"Error Loading New Problems"}),o.a.createElement(ct.a,{container:!0,style:{marginTop:10}},o.a.createElement(ct.a,{item:!0,xs:3},o.a.createElement(Sn.a,{offsetTop:10},o.a.createElement("div",{style:ea},o.a.createElement(ke.a,{color:"secondary",style:{textTransform:"none",fontFamily:"poppins",color:"white",borderRadius:10,zIndex:100,fontWeight:"bold"},variant:"extended",onClick:function(){G(!0)}},o.a.createElement(kn.a,null),"Add Complaint")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:20,fontWeight:"bold",fontSize:15,fontFamily:"poppins"}},"SortBy"),o.a.createElement("div",{style:Object(c.a)({},ea,{marginTop:5})},o.a.createElement(qn.a,{placeholder:"Sort Problem By ?",options:ta,value:M,onChange:function(e,t){var n=t.value;U(n),i(!0),A(1),q(f,0,k,n)}})))),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0}),o.a.createElement(ct.a,{item:!0,xs:6,style:ea},o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Gn,Object.assign({isLoading:r,problems:h},e))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100,marginBottom:100}},r?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100,marginBottom:100}},o.a.createElement(Qe.a,{style:{width:50,height:50,color:"black"}})):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:50,marginBottom:50}},C>10?o.a.createElement(wn.a,{color:"secondary",page:F,onChange:function(e,t){i(!0),q(f,(t-1)*k,k,M),window.scrollTo(0,0),A(t)},count:parseInt(C/k)+1}):"")))),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0})))})),aa=Object(te.a)({palette:{primary:{main:de.a[500]},secondary:{main:Ke.a[500]}}}),oa={display:"flex",justifyContent:"center"},ra=[{key:"Latest",value:"Latest",text:"Latest"},{key:"oldest",value:"oldest",text:"Oldest"}],ia=Object(y.b)((function(e){return{username:e.userReducer.username,profilePhoto:e.userReducer.profilePhoto}}))((function(e){var t=Object(a.useState)(!0),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)([]),d=Object(N.a)(p,2),h=d[0],g=d[1],f=localStorage.getItem("AnonymityToken#123"),y=Object(a.useState)(!1),b=Object(N.a)(y,2),E=b[0],v=b[1],j=Object(a.useState)(10),O=Object(N.a)(j,2),k=O[0],S=(O[1],Object(a.useState)(0)),w=Object(N.a)(S,2),C=w[0],x=w[1],T=Object(a.useState)(1),P=Object(N.a)(T,2),F=P[0],A=P[1],R=Object(a.useState)(0),L=Object(N.a)(R,2),I=L[0],B=(L[1],Object(a.useState)("Latest")),H=Object(N.a)(B,2),M=H[0],U=H[1],W=Object(a.useState)(!1),D=Object(N.a)(W,2),V=D[0],G=D[1],q=function(e,t,n,a){g([]),Y(e,t,n,a).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=10;break}return e.next=3,t.json();case 3:return n=e.sent,a=n.problems,o=n.count,g(Object(Je.a)(a)),x(o),setTimeout((function(){return i(!1)}),0),e.abrupt("return");case 10:m(!0),setTimeout((function(){return i(!1)}),0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){m(!0),setTimeout((function(){return i(!1)}),0)})),v(!0)};return E||q(f,I,k),o.a.createElement(ne.a,{theme:aa},o.a.createElement(Qn,{open:V,UserName:e.username||"Hello",profilePhoto:e.profilePhoto,onClose:function(){G(!1)},hasUpload:!0}),o.a.createElement(st.a,{open:u,onClose:function(){m(!1)},autoHideDuration:6e3,message:"Error Loading New Problems"}),o.a.createElement(ct.a,{container:!0,style:{marginTop:10}},o.a.createElement(ct.a,{item:!0,xs:4},o.a.createElement(Sn.a,{offsetTop:10},o.a.createElement("div",{style:oa},o.a.createElement(ke.a,{color:"primary",style:{textTransform:"none",fontFamily:"poppins",color:"white",zIndex:100},onClick:function(){G(!0)}},o.a.createElement(kn.a,null))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:20,fontWeight:"bold",fontSize:15,fontFamily:"poppins"}},"SortBy"),o.a.createElement("div",{style:Object(c.a)({},oa,{marginTop:5})},o.a.createElement(qn.a,{placeholder:"Sort Problem By ?",options:ra,value:M,onChange:function(e,t){var n=t.value;U(n),i(!0),A(1),q(f,0,k,n)}})))),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0}),o.a.createElement(ct.a,{item:!0,xs:7,style:oa},o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Gn,Object.assign({isLoading:r,problems:h},e))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100,marginBottom:100}},r?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100,marginBottom:100}},o.a.createElement(Qe.a,{style:{width:50,height:50,color:"black"}})):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:50,marginBottom:50}},C>10?o.a.createElement(wn.a,{color:"secondary",page:F,onChange:function(e,t){i(!0),q(f,(t-1)*k,k,M),window.scrollTo(0,0),A(t)},count:parseInt(C/k)+1}):"")))),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0})))})),sa=Object(te.a)({palette:{primary:{main:de.a[500]},secondary:{main:Ke.a[500]}}}),ca={display:"flex",justifyContent:"center"},la=[{key:"Latest",value:"Latest",text:"Latest"},{key:"oldest",value:"oldest",text:"Oldest"}],ua=Object(y.b)((function(e){return{username:e.userReducer.username,profilePhoto:e.userReducer.profilePhoto}}))((function(e){var t=Object(a.useState)(!0),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)([]),p=Object(N.a)(m,2),d=p[0],h=p[1],g=localStorage.getItem("AnonymityToken#123"),f=Object(a.useState)(!1),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(10),j=Object(N.a)(v,2),O=j[0],k=(j[1],Object(a.useState)(0)),S=Object(N.a)(k,2),w=S[0],C=S[1],x=Object(a.useState)(1),T=Object(N.a)(x,2),P=T[0],F=T[1],A=Object(a.useState)(0),R=Object(N.a)(A,2),L=R[0],I=(R[1],Object(a.useState)("Latest")),B=Object(N.a)(I,2),z=B[0],H=B[1],M=Object(a.useState)(!1),U=Object(N.a)(M,2),W=U[0],D=U[1],V=function(e,t,n,a){h([]),Y(e,t,n,a).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=10;break}return e.next=3,t.json();case 3:return n=e.sent,a=n.problems,o=n.count,h(Object(Je.a)(a)),C(o),setTimeout((function(){return i(!1)}),0),e.abrupt("return");case 10:u(!0),setTimeout((function(){return i(!1)}),0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u(!0),setTimeout((function(){return i(!1)}),0)})),E(!0)};return b||V(g,L,O),o.a.createElement(ne.a,{theme:sa},o.a.createElement(Qn,{open:W,onClose:function(){D(!1)},hasUpload:!0,UserName:e.username,profilePhoto:e.profilePhoto}),o.a.createElement(st.a,{open:l,onClose:function(){u(!1)},autoHideDuration:6e3,message:"Error Loading New Problems"}),o.a.createElement(ct.a,{container:!0,style:{marginTop:10}},o.a.createElement(ct.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",fontSize:15,fontWeight:"bold",fontFamily:"poppins",marginRight:10,justifyContent:"center"}},"Sort By"),o.a.createElement("div",{style:ca},o.a.createElement(qn.a,{placeholder:"Sort Problem By ?",options:la,value:z,style:{marginBottom:10},onChange:function(e,t){var n=t.value;H(n),i(!0),F(1),V(g,0,O,n)}})),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Gn,Object.assign({isLoading:r,problems:d},e))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100,marginBottom:100}},r?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100,marginBottom:100}},o.a.createElement(Qe.a,{style:{width:50,height:50,color:"black"}})):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:50,marginBottom:50}},w>10?o.a.createElement(wn.a,{color:"secondary",page:P,onChange:function(e,t){i(!0),V(g,(t-1)*O,O,z),window.scrollTo(0,0),F(t)},count:parseInt(w/O)+1}):""))))),o.a.createElement(ke.a,{color:"secondary",style:{textTransform:"none",fontFamily:"poppins",color:"white",position:"fixed",left:"2%",bottom:"10%",zIndex:100},onClick:function(){D(!0)}},o.a.createElement(kn.a,null)))})),ma=Object(y.b)()((function(e){return o.a.createElement("div",null,o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(na,Object.assign({deviceType:"comp"},e))),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(ia,Object.assign({deviceType:"tab"},e))),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(ua,Object.assign({deviceType:"mob"},e))))})),pa=function(e){return o.a.createElement("div",null,e.Problems?e.Problems.map((function(t,n){var a=t.UpVoted_By.find((function(t){return t.user===e.id})),r=t.DownVoted_By.find((function(t){return t.user===e.id}));return o.a.createElement(Vn,{deviceType:e.deviceType,socket:e.socket,className:"comingFromLeftP5",style:{animationDelay:.1*n+"s"},key:t._id,UpVotedByMe:!!a,DownVotedByMe:!!r,UserId:t.Author._id,id:t._id,profilePhoto:t.Anonymous?"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Anonymous.svg/433px-Anonymous.svg.png":t.Author.profilephoto,username:t.Anonymous?"Anonymous":t.Author.username,anonymous:t.Anonymous,header:"College Problems",image:t.Media?t.Media.imageUrl:"",description:t.Description,createdAt:t.createdAt,UpVotes:t.UpVotes,DownVotes:t.DownVotes,hasDeleteButton:!1,history:e.history})})):"")},da=n(465),ha=n.n(da),ga=(n(847),n(311)),fa=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={src:null,crop:{unit:"%",width:100,aspect:e.props.pp?1:16/9},loading:!1,error:!1},e.onSelectFile=function(t){if(t.target.files&&t.target.files.length>0){var n=new FileReader;n.addEventListener("load",(function(){e.setState({src:n.result})})),n.re\u0325adAsDataURL(t.target.files[0])}},e.onImageLoaded=function(t){e.imageRef=t},e.onCropComplete=function(t){e.makeClientCrop(t)},e.onCropChange=function(t,n){e.setState({crop:t})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setState({crop:{unit:"%",width:100,aspect:this.props.pp?1:16/9}})}},{key:"makeClientCrop",value:function(){var e=Object(le.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:n=e.sent,this.setState({croppedImage:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,n){var a=document.createElement("canvas"),o=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e,t.x*o,t.y*r,t.width*o,t.height*r,0,0,t.width,t.height),new Promise((function(e,t){a.toBlob((function(a){a?(a.name=n,e(a)):t(new Error("Canvas is empty"))}),"image/jpeg")}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.crop,r=t.croppedImage;return o.a.createElement(a.Fragment,null,o.a.createElement(st.a,{open:this.state.error,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:6e3,onClose:function(){e.setState({error:!1})},message:"Error Uploading Image"}),o.a.createElement(bt.a,{open:Boolean(this.props.src),basic:!0,onClose:function(){e.props.onClose()},closeIcon:!0},o.a.createElement(ba,null,o.a.createElement(ha.a,{src:this.props.src,crop:Object(c.a)({},n,{aspect:this.props.pp?1:16/9}),ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange})),o.a.createElement(ga.a,null,o.a.createElement(ne.a,{theme:Object(te.a)({palette:{primary:de.a}})},this.state.loading?o.a.createElement(Qe.a,null):o.a.createElement(ie.a,{variant:"contained",disableElevation:!0,color:"primary",onClick:function(){e.setState({loading:!0});var t=new FormData,n=new Headers;n.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("image",r,"whatever"),fetch("".concat(D,"/user/upload/photo"),{method:"PUT",body:t,headers:n}).then(function(){var t=Object(le.a)(ce.a.mark((function t(a){var o,r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=10;break}return t.next=3,a.json();case 3:o=t.sent,console.log(o),r=JSON.stringify({photo:o.imageUrl}),n.append("content-type","application/json"),fetch("".concat(D,"/user/update/").concat(e.props.pp?"profilePhoto":"backgroundPhoto"),{method:"PATCH",body:r,headers:n}).then((function(t){if(200===t.status)return window.location.reload();e.setState({error:!0,loading:!1})})).catch((function(t){e.setState({error:!0,loading:!1})})),t.next=11;break;case 10:e.setState({error:!0,loading:!1});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({error:!0,loading:!1})}))}},"Upload")))))}}]),n}(a.PureComponent),ya=n(872),ba=function(e){return o.a.createElement("div",{style:Object(c.a)({display:"flex",justifyContent:"center"},e.style)},e.children)},Ea=function(e){var t=e.complaints,n=e.isLoading,a=e.deviceType,r=e.history;return t=t.map((function(t){return Object(c.a)({},t,{Author:{username:e.username,profilephoto:e.profilephoto}})})),o.a.createElement("div",null,o.a.createElement(ba,null,o.a.createElement(pa,{socket:e.socket,id:e.id,history:r,Problems:t,deviceType:a})),o.a.createElement(ba,{style:{marginTop:30,marginBottom:30}},n?o.a.createElement(Qe.a,null):0===t.length?o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:16}},"Maybe Have Lot of Anonymous Complaints"):o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:16}},"End of His Complaints")))},va={fontFamily:"poppins",fontWeight:"bold",color:"grey",fontSize:16},ja=function(e){var t=e.editable,n=e.src,r=e.open,i=e.setModal,s=e.deviceType,c=Object(a.useState)(null),l=Object(N.a)(c,2),u=l[0],m=l[1];return o.a.createElement(a.Fragment,null,o.a.createElement(fa,{src:u,pp:e.pp,onClose:function(){m(null)}}),o.a.createElement(ya.a,{open:r,onClose:function(){i(!1)},style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(L.a,{style:{background:W.a[900]}},o.a.createElement(be.a,{src:n,size:"huge",style:function(e){switch(e){case"com":case"tab":return{maxWidth:600,maxHeight:600};case"mob":return{maxWidth:325,maxHeight:325}}}(s)}),o.a.createElement("input",{type:"file",style:{display:"none"},accept:"image/*",id:"photoUploadInput",onChange:function(e){var t=new FileReader;t.addEventListener("load",(function(){m(t.result),i(!1)})),t.readAsDataURL(e.target.files[0])}}),t?o.a.createElement(I.a,null,o.a.createElement("label",{htmlFor:"photoUploadInput"},o.a.createElement(B.a,{button:!0,style:va},o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/edit-image.png",style:{maxWidth:30,maxHeight:30}})))):"")))},Oa=function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)("pp"),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(!1),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)(!1),y=Object(N.a)(f,2),b=y[0],E=y[1],v=function(e){switch(e){case"com":return{width:700};case"tab":return{width:500};case"mob":return{width:350};default:return{width:500}}},j=W.a[800];return console.log(e.Online),o.a.createElement("div",null,o.a.createElement(ja,{open:r,editable:e.editable,setModal:i,deviceType:e.deviceType,pp:"pp"===u,src:"pp"===u?e.profilephoto:e.backgroundPhoto}),o.a.createElement(L.a,{elevation:10,style:Object(c.a)({},v(e.deviceType),{borderRadius:10,background:W.a[900]})},o.a.createElement(Yn.a,{hidden:b,variant:"rect",width:"100%",style:{color:"white",background:"grey",borderTopLeftRadius:10,borderTopRightRadius:10},height:300}),o.a.createElement(be.a,{hidden:!b,src:e.backgroundPhoto,style:{width:"100%",maxHeight:v(e.deviceType),borderTopLeftRadius:10,borderTopRightRadius:10,cursor:"pointer"},onClick:function(){i(!0),m("bp")},onLoad:function(){E(!0)}}),o.a.createElement(Yn.a,{hidden:h,variant:"circle",width:100,height:100,style:{color:"white",background:"lightgrey",transform:"translateY(-50px) translateX(20px)"}}),o.a.createElement(A.a,{hidden:!h,src:e.profilephoto,style:{width:100,height:100,transform:"translateY(-50px) translateX(20px)",cursor:"pointer"},onClick:function(){i(!0),m("pp")},onLoad:function(){g(!0)}}),o.a.createElement(I.a,{style:{marginLeft:10,marginRight:10}},o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:"bold",fontFamily:"poppins",transform:"translateY(-60px)",color:"white"}},e.username),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Name",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,fontFamily:"poppins"}},e.firstName+" "+e.LastName),e.editable?o.a.createElement(F.a,{style:{float:"right",color:"white",transform:"translateY(-40px)"},onClick:function(){e.openEdit(),e.setType("name")}},o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/edit.png",style:{maxWidth:30,maxHeight:30}})):""),o.a.createElement(z.a,{style:{color:"grey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Gender",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,fontFamily:"poppins"}},e.gender)),o.a.createElement(z.a,{style:{color:"lightgrey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Course",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,fontFamily:"poppins"}},e.course)),o.a.createElement(z.a,{style:{color:"lightgrey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Stream",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,fontFamily:"poppins"}},e.Branch)),o.a.createElement(z.a,{style:{color:"lightgrey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Roll_No",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,fontFamily:"poppins"}},e.rollno)),o.a.createElement(z.a,{style:{color:"lightgrey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Last Online",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,fontFamily:"poppins"}},"Online"!==e.Online.status?$e()(e.Online.lastSeen).fromNow():"Online")),o.a.createElement(z.a,{style:{color:"lightgrey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"College",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,marginBottom:10,fontFamily:"poppins"}},e.college)),o.a.createElement(z.a,{style:{color:"lightgrey",background:j,marginTop:10}}),o.a.createElement(me.a,{disableSticky:!0,style:{fontSize:20,fontWeight:500,color:"grey",fontFamily:"poppins"}},"Year Of Joining College",o.a.createElement(re.a,{style:{color:"white",marginLeft:10,marginBottom:10,fontFamily:"poppins"}},e.yearofjoining)),e.children)))},ka=Object(y.b)((function(e){return{id:e.userReducer.id}}))((function(e){var t=Object(a.useState)([]),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!0),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)(0),p=Object(N.a)(m,2),d=p[0],h=p[1],g=function(){u(!0),function(e,t){var n=new Headers;n.append("Authorization",localStorage.getItem("AnonymityToken#123")),n.append("content-type","application/json");var a=new Request("".concat(D,"/user/SProblems/").concat(e,"/").concat(t),{method:"GET",headers:n});return fetch(a)}(e.userId,d).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=8;break}return e.next=3,t.json();case 3:return n=e.sent,i([].concat(Object(Je.a)(r),Object(Je.a)(n))),u(!1),h(d+10),e.abrupt("return");case 8:u(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u(!1)}))};return o.a.createElement(Fe.a,{onUpdate:function(e,t){t.calculations.bottomVisible&&r.length>d-10&&g()}},o.a.createElement("div",null,o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(Oa,Object.assign({editable:e.editable},e,{deviceType:"com"})),o.a.createElement(Ea,{socket:e.socket,id:e.id,history:e.history,profilephoto:e.profilephoto,username:e.username,deviceType:"comp",complaints:r,isLoading:l})),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(Oa,Object.assign({editable:e.editable},e,{deviceType:"tab"})),o.a.createElement(Ea,{profilephoto:e.profilephoto,id:e.id,history:e.history,username:e.username,deviceType:"tab",complaints:r,isLoading:l})),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(Oa,Object.assign({editable:e.editable},e,{deviceType:"mob"})),o.a.createElement(Ea,{history:e.history,profilephoto:e.profilephoto,id:e.id,username:e.username,deviceType:"mob",complaints:r,isLoading:l}))))})),Sa=function(e){var t=e.problemsCount;return o.a.createElement(ct.a,{container:!0},o.a.createElement(ct.a,{item:!0,sm:3}),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0}),o.a.createElement(ct.a,{item:!0,sm:6},0===e.Problems.length||e.isLoading?e.isError||e.isLoading?e.isLoading?"":o.a.createElement(Ze.a,{status:"error",title:"There's Some Error Fetching Data From The Server"}):o.a.createElement(Ze.a,{status:"info",title:"No Problems Here! Check Again Later..."}):o.a.createElement("div",{style:{marginTop:10,display:"flex",justifyContent:"center"}},o.a.createElement(pa,e)),t>10&&!e.isLoading?o.a.createElement(ba,{style:{marginTop:100,marginBottom:300}},o.a.createElement(wn.a,{count:Math.floor(t/10)+1,page:e.pageNo,onChange:function(t,n){window.scrollTo(0,0),e.setPageNo(n)}})):o.a.createElement("div",{style:{marginBottom:100,marginTop:100}}),e.isLoading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(Qe.a,{style:{width:100,height:100,marginTop:200,color:"black"}})):""),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0}),o.a.createElement(ct.a,{item:!0,sm:3}))},wa=n(998),Ca=function(e){var t=e.problemsCount;return o.a.createElement(ct.a,{container:!0},o.a.createElement(ct.a,{item:!0,sm:5}),o.a.createElement(z.a,{orientation:"vertical",flexItem:!0}),o.a.createElement(ct.a,{item:!0,sm:6},0===e.Problems.length||e.isLoading?e.isError||e.isLoading?e.isLoading?"":o.a.createElement(Ze.a,{status:"error",title:"There's Some Error Fetching Data From The Server"}):o.a.createElement(Ze.a,{status:"info",title:"No Problems Here! Check Again Later..."}):o.a.createElement(pa,e),t>10&&!e.isLoading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(wa.a,{pointing:!0,secondary:!0,siblingRange:0,onPageChange:function(t,n){var a=n.activePage;window.scrollTo(0,0),e.setPageNo(a)},activePage:e.pageNo,totalPages:Math.floor(t/10)+1,boundaryRange:1})):"",e.isLoading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}}," ",o.a.createElement(Qe.a,{style:{width:100,height:100,marginTop:200,color:"black"}})):""))},xa=function(e){var t=e.problemsCount;return o.a.createElement("div",null,0===e.Problems.length||e.isLoading?e.isError||e.isLoading?e.isLoading?"":o.a.createElement(Ze.a,{status:"error",title:"There's Some Error Fetching Data From The Server"}):o.a.createElement(Ze.a,{status:"info",title:"No Problems Here! Check Again Later..."}):o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(pa,e)),t>10&&!e.isLoading?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10,marginBottom:100}},o.a.createElement(wa.a,{size:"tiny",firstItem:null,lastItem:null,secondary:!0,siblingRange:0,onPageChange:function(t,n){var a=n.activePage;window.scrollTo(0,0),e.setPageNo(a)},activePage:e.pageNo,totalPages:Math.floor(t/10)+1,boundaryRange:1})):o.a.createElement(Ae.a,{style:{marginBottom:300}}),e.isLoading?o.a.createElement("div",{style:{display:"flex",margin:"20%",justifyContent:"center"}},o.a.createElement(Qe.a,{style:{width:100,height:100,textAlign:"center",color:"black"}})):"")},Ta=n(970),Pa=n(972),Na=n(999),Fa=n(968),Aa=n(969),Ra=n(971),La=n(973),Ia=n(974),Ba=Object(te.a)({palette:{primary:de.a,secondary:{main:"rgba(255,255,255,0.5)"}}}),za=[{type:"none",name:"Show All"},{type:"public",name:"Public"},{type:"anonymous",name:"Anonymous"}],Ha=[{type:"latest",name:"Latest"},{type:"oldest",name:"Oldest"}],Ma=Object(y.b)((function(e){return{token:e.userReducer.token,id:e.userReducer.id}}))((function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(1),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)([]),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(0),j=Object(N.a)(v,2),O=j[0],k=j[1],S=Object(a.useState)(0),w=Object(N.a)(S,2),C=w[0],x=w[1],T=Object(a.useState)(null),P=Object(N.a)(T,2),A=P[0],R=P[1],L=Object(a.useState)(!1),I=Object(N.a)(L,2),B=I[0],z=I[1],H=function(){var t=Object(le.a)(ce.a.mark((function t(n,a){var o,r,s,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(!0),t.next=4,V(e.token,10*(n-1),a);case 4:if(!(o=t.sent).ok){t.next=13;break}return t.next=8,o.json();case 8:return r=t.sent,s=r.problems,c=r.count,s&&(E(s),x(c),m(!1)),t.abrupt("return");case 13:m(!1),i(!0),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),m(!1),i(!0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n){return t.apply(this,arguments)}}(),M=Object(a.useState)(null),U=Object(N.a)(M,2),W=U[0],D=U[1],Y=Object(a.useState)(!1),G=Object(N.a)(Y,2),q=G[0],_=G[1],J=Object(a.useState)("up"),X=Object(N.a)(J,2),$=X[0],K=X[1],Q=Object(a.useState)({current:"none",prev:"none"}),Z=Object(N.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(a.useState)({current:"latest",prev:"latest"}),oe=Object(N.a)(ae,2),re=oe[0],ie=oe[1];return Object(a.useEffect)((function(){e.socket&&!e.socket._callbacks.$complaint&&e.socket.on("complaint",(function(e){"added"===e.action&&z(!0)})),0===O&&(H(h,{sortBy:re.current,filter:ee.current}),k(1)),ee.current===ee.prev&&re.current===re.prev||(H(1,{sortBy:re.current,filter:ee.current}),g(1),te(Object(c.a)({},ee,{prev:ee.current})),ie(Object(c.a)({},re,{prev:re.current})))})),o.a.createElement("div",null,o.a.createElement(st.a,{open:B,autoHideDuration:6e3,onClose:function(){z(!1)},ContentProps:{style:{fontFamily:"poppins",fontSize:16}},transitionDuration:300,message:"There maybe new complaints",anchorOrigin:{vertical:"bottom",horizontal:"center"},action:o.a.createElement(a.Fragment,null,o.a.createElement(F.a,{style:{color:"white"},onClick:function(){H(1,{sortBy:"latest",filter:"none"}),te(Object(c.a)({},ee,{prev:ee.current})),ie(Object(c.a)({},re,{prev:re.current})),z(!1)}},o.a.createElement(Fa.a,null)),o.a.createElement(F.a,{onClick:function(){z(!1)},style:{color:At.a[600]}},o.a.createElement(Aa.a,null)))}),o.a.createElement(ne.a,{theme:Ba},o.a.createElement(Fe.a,{onUpdate:function(e,t){K(t.calculations.direction)}},o.a.createElement(Nn.a,{anchorEl:W,open:Boolean(W),onClose:function(){D(null),R(null)}},"filter"===A?za.map((function(e){return o.a.createElement(_t.a,{key:e.name,style:{width:200},onClick:function(){te(Object(c.a)({},ee,{current:e.type})),D(null),_(!1)}},o.a.createElement(Na.a,{checked:ee.current===e.type,color:"primary"}),o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))})):Ha.map((function(e){return o.a.createElement(_t.a,{style:{width:200},key:e.name,onClick:function(){ie(Object(c.a)({},re,{current:e.type})),D(null),_(!1)}},o.a.createElement(Na.a,{color:"primary",name:e.type,checked:re.current===e.type}),o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:13}},e.name))}))),o.a.createElement("div",{style:{position:"fixed",right:"2%",bottom:"10%",zIndex:100}},o.a.createElement(Ta.a,{ariaLabel:"filter and sorter",icon:o.a.createElement(Ra.a,{style:{color:"white"}}),open:q,color:"secondary",direction:"up",hidden:"up"!==$&&!q,onClose:function(){_(!1)},onOpen:function(){_(!0)}},o.a.createElement(Pa.a,{icon:o.a.createElement(La.a,null),tooltipTitle:"Filters",tooltipOpen:!0,onClick:function(e){R("filter"),D(e.currentTarget)}}),o.a.createElement(Pa.a,{onClick:function(e){R("sort"),D(e.currentTarget)},tooltipOpen:!0,tooltipTitle:"SortBy",icon:o.a.createElement(Ia.a,null)}))),o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(Sa,Object.assign({deviceType:"comp",Problems:b,id:e.id,pageNo:h,setPageNo:function(e){H(e,{sortBy:re.current,filter:ee.current}),g(e)},problemsCount:C,isError:r,isLoading:u},e))),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(Ca,Object.assign({},e,{deviceType:"tab",Problems:b,id:e.id,pageNo:h,setPageNo:function(e){H(e,{sortBy:re.current,filter:ee.current}),g(e)},problemsCount:C,isError:r,isLoading:u}))),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(xa,Object.assign({},e,{deviceType:"mob",Problems:b,id:e.id,pageNo:h,setPageNo:function(e){H(e,{sortBy:re.current,filter:ee.current}),g(e)},problemsCount:C,isError:r,isLoading:u}))))))})),Ua=Object(te.a)({palette:{primary:de.a}}),Wa=function(e){var t=Object(a.useState)(""),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(N.a)(s,2),l=c[0],u=c[1],p=Object(a.useState)(!1),d=Object(N.a)(p,2),h=(d[0],d[1]);return o.a.createElement(ne.a,{theme:Ua},o.a.createElement(bt.a,{basic:!0,open:e.open,onClose:function(){return e.onClose()}},l?o.a.createElement(Qe.a,{style:{color:"white"}}):o.a.createElement(Pt.a,{hidden:l,variant:"standard",InputProps:{style:{color:"white"}},label:"Enter New ".concat(e.editField),InputLabelProps:{style:{color:"white"}},fullWidth:!0,value:r,onChange:function(e){i(e.target.value)}}),o.a.createElement(ga.a,null,o.a.createElement(Fn.a,{color:"black",onClick:function(){e.onClose(),u(!1)}},"Cancel"),o.a.createElement(Fn.a,{onClick:function(){!function(){u(!0);var t=JSON.stringify(Object(m.a)({},e.editField,r)),n=new Headers;n.append("Authorization",localStorage.getItem("AnonymityToken#123")),n.append("Content-Type","application/json"),fetch("".concat(D,"/update/user"),{method:"PATCH",headers:n,body:t}).then((function(e){if(200==e.status)return window.location.reload();h(!0)})).catch((function(e){u(!1),h(!0)}))}()},color:"orange",disabled:Boolean(0===r.length)},"Update"))))},Da=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={userInfo:{},loading:!0,edit:!1,editType:null},e.childProps={username:"paraskanwar"},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),fetch("".concat(D,"/getMyProfile"),{method:"GET",headers:t}).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,n.json();case 3:t.t1=t.sent,t.t2={loading:!1,userInfo:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this,t=this.state,n=t.editType,a=t.loading,r=t.userInfo,i=t.edit;return o.a.createElement("div",null,i?o.a.createElement(Wa,{editField:n,open:i,onClose:function(){e.setState({edit:!1})}}):"",o.a.createElement(ba,{style:{marginTop:10}},o.a.createElement(re.a,{style:{fontSize:30,fontFamily:"poppins",fontWeight:"bold"}},"My Profile")),a?o.a.createElement(ba,{style:{marginTop:"20%"}},o.a.createElement(Qe.a,{style:{color:"black"}})):o.a.createElement("div",null,o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(ba,{style:{marginTop:10,marginBottom:10}},o.a.createElement(Oa,Object.assign({setType:function(t){e.setState({editType:t})}},r,{openEdit:function(){e.setState({edit:!0})},editable:!0,deviceType:"com"})))),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(ba,{style:{marginTop:10,marginBottom:10}},o.a.createElement(Oa,Object.assign({setType:function(t){e.setState({editType:t})}},r,{openEdit:function(){e.setState({edit:!0})},editable:!0,deviceType:"tab"})))),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(ba,{style:{marginTop:"5%",marginBottom:"20%"}},o.a.createElement(Oa,Object.assign({setType:function(t){e.setState({editType:t})}},r,{openEdit:function(){e.setState({edit:!0})},editable:!0,deviceType:"mob"}))))))}}]),n}(o.a.PureComponent),Ya=Object(y.b)()(Da),Va=Object(te.a)({palette:{primary:{main:"rgba(0,0,0,1)"},secondary:{main:"rgba(0,0,0,1)"}}}),Ga=Object(y.b)()((function(e){var t=Object(a.useState)(null),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!0),c=Object(N.a)(s,2),l=c[0],u=c[1];return Boolean(r)||(console.log("i am inside this"),function(e){var t=new Headers;t.append("Authorization",localStorage.getItem("AnonymityToken#123")),t.append("content-type","application/json");var n=new Request("".concat(D,"/user/profile/").concat(e),{method:"GET",headers:t});return fetch(n)}(e.match.params.id).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=7;break}return e.t0=i,e.next=4,t.json();case 4:e.t1=e.sent,(0,e.t0)(e.t1),u(!1);case 7:u(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u(!1)}))),o.a.createElement("div",null,o.a.createElement("div",{style:{justifyContent:"center",display:"flex",marginTop:10}},o.a.createElement(ne.a,{theme:Va},l?o.a.createElement(Qe.a,null):r?o.a.createElement(ka,Object.assign({history:e.history,socket:e.socket},r,{userId:e.match.params.id})):o.a.createElement(Ze.a,{status:"500",title:"Internal Server Error"}))),o.a.createElement(Ae.a,{style:{margin:100},hidden:!0}))})),qa=(n(857),n(942)),_a=n(867),Ja=function(e,t){var n=new Headers;n.append("Authorization",e),n.append("content-type","application/json");var a=JSON.stringify({topic:t});return fetch("".concat(D,"/notes/forTopic"),{method:"POST",headers:n,body:a})},Xa=function(e){var t=Object(a.useState)(""),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(null),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)([]),p=Object(N.a)(m,2),d=p[0],h=p[1],g=Object(a.useState)([]),f=Object(N.a)(g,2),y=f[0],b=f[1],E=Object(a.useState)(!1),v=Object(N.a)(E,2),j=v[0],O=v[1],k=Object(a.useState)(!1),S=Object(N.a)(k,2),w=S[0],C=S[1],x=Object(a.useState)(!1),T=Object(N.a)(x,2),P=(T[0],T[1]),F=function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,Ja(localStorage.getItem("AnonymityToken#123"),t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,O(!1),b(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),O(!1),b([]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(qa.a,{onClickAway:function(){u(null)},touchEvent:!1},o.a.createElement("input",{placeholder:"Search For Notes",autoComplete:"off",className:"myNotesSearchInputField",id:"myNotesSearchInputField",value:r,onFocus:function(e){u(e.currentTarget)},onChange:function(e){i(e.target.value),function(e){C(!0);var t=new Headers;t.append("content-type","application/json"),t.append("Authorization",localStorage.getItem("AnonymityToken#123")),fetch("".concat(D,"/notes/subjects/").concat(e),{headers:t,method:"GET"}).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,404!==t.status){e.next=4;break}return C(!1),e.abrupt("return",h([]));case 4:if(!t.ok){e.next=10;break}return e.next=7,t.json();case 7:return n=e.sent,h(n),e.abrupt("return",C(!1));case 10:500===t.status&&(P(!0),C(!1)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error parsing"),h([]),C(!1);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}(e.target.value),F(e.target.value)}})),o.a.createElement(_a.a,{open:Boolean(l),anchorEl:l,style:{boxShadow:"0px 0px 10px rgba(0,0,0,0.1)",marginTop:10,zIndex:1300}},o.a.createElement(I.a,{style:{width:300,maxHeight:200,overflowY:"auto",fontFamily:"poppins",fontWeight:"bold",fontSize:13,background:"white"}},o.a.createElement(me.a,{style:{fontWeight:"bold",fontSize:16,background:"rgba(255,255,255,1)"},disableSticky:!0},"Subjects",w?o.a.createElement(Qe.a,{style:{margin:10,height:20,width:20,color:"orange",float:"right"}}):""),0!==d.length||w?d.map((function(t,n){return o.a.createElement(B.a,{className:"comingFromLeftP5",key:t.name,style:{animationDelay:"".concat(.05*(n-1),"s")},button:!0,onClick:function(){u(null),i(t.name),e.handleSubjectChange(t),h([t]),b([])}},t.name,o.a.createElement("div",{style:{fontSize:10,fontWeight:300,marginLeft:10}},"".concat(t.for.course.toUpperCase())))})):0!==r.length?o.a.createElement(B.a,{className:"backAndForth"},"No Result.."):o.a.createElement(B.a,{className:"backAndForth"},"Why Don't You Try Writing Something??")),o.a.createElement(I.a,{style:{width:300,maxHeight:200,overflowY:"auto",fontFamily:"poppins",fontWeight:"bold",fontSize:13,background:"white"}},o.a.createElement(me.a,{style:{fontWeight:"bold",fontSize:16,background:"rgba(255,255,255,1)"},disableSticky:!0},"Topic",j?o.a.createElement(Qe.a,{style:{margin:10,height:20,width:20,color:"orange",float:"right"}}):""),y.map((function(t){return o.a.createElement(B.a,{key:t.topic,button:!0,onClick:function(){u(null),i(t.topic),e.handleTopicChange(t),h([]),b([])}},t.topic.toUpperCase())})))))},$a=(n(858),n(1005)),Ka=n(975),Qa=n(976),Za=n(977),eo=function(e,t){var n=new Headers;return n.append("content-type","application/json"),n.append("Authorization",e),fetch("".concat(D,"/uploaded/notes"),{method:"DELETE",headers:n,body:JSON.stringify({key:t+""})})},to=function(e){var t=Object(a.useState)(null),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(null),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)(null),p=Object(N.a)(m,2),d=p[0],h=p[1],g=Object(a.useState)([]),f=Object(N.a)(g,2),y=f[0],b=f[1],E=Object(a.useState)(!1),v=Object(N.a)(E,2),j=v[0],O=v[1],k=Object(a.useState)(""),S=Object(N.a)(k,2),w=S[0],C=S[1],x=Object(a.useState)(""),T=Object(N.a)(x,2),P=T[0],F=T[1];return o.a.createElement(a.Fragment,null,o.a.createElement(a.Fragment,null,o.a.createElement(qa.a,{onClickAway:function(){i(null)},touchEvent:!1},o.a.createElement("input",{onFocus:function(e){i(e.currentTarget)},value:w,autoComplete:"off",onChange:function(t){!function(e){O(!0);var t=new Headers;t.append("content-type","application/json"),t.append("Authorization",localStorage.getItem("AnonymityToken#123")),setTimeout((function(){fetch("".concat(D,"/postNotes/subjects/").concat(e),{headers:t,method:"GET"}).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,404!==t.status){e.next=4;break}return O(!1),e.abrupt("return",b([]));case 4:if(!t.ok){e.next=10;break}return e.next=7,t.json();case 7:return n=e.sent,b(n),e.abrupt("return",O(!1));case 10:500===t.status&&O(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error parsing"),b([]),O(!1);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}),100)}(t.target.value),C(t.target.value),h(null),b([]),F(""),e.setSandM("","")},placeholder:"Choose Subject",type:"select",className:"MySelectField"})),o.a.createElement(qa.a,{onClickAway:function(){return u(null)},touchEvent:!1},o.a.createElement("input",{disabled:!Boolean(d),autoComplete:"off",onFocus:function(e){u(e.currentTarget)},value:P,placeholder:"Choose Module",type:"select",className:"MySelectField"}))),o.a.createElement(_a.a,{style:{zIndex:1300,boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.05)",margin:10},anchorEl:r,open:Boolean(r)},o.a.createElement(I.a,{style:{background:"white",width:300,maxHeight:200,overflowY:"auto"}},j?o.a.createElement(B.a,null,o.a.createElement(Qe.a,{style:{color:"black",height:10,width:10}})):"",y.length>0?y.map((function(e){return o.a.createElement(B.a,{button:!0,key:e.name,onClick:function(){console.log("hello"),C(e.name),h(e),i(null)}},o.a.createElement(qt.a,{style:{height:10,width:10,marginRight:10}}),e.name)})):0===w.length?o.a.createElement(B.a,{style:{fontWeight:"bold"}},o.a.createElement(Qa.a,{style:{marginRight:20}}),"Try Writing Subject Name.."):j?"":o.a.createElement("div",{style:{margin:20}},"No Results..."))),o.a.createElement(_a.a,{style:{zIndex:1300,boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.05)",margin:10},anchorEl:l,open:Boolean(l)},o.a.createElement(I.a,{style:{background:"white",width:300,maxHeight:200,overflowY:"auto"}},d?function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(d.moduleCount).map((function(t){return o.a.createElement(B.a,{button:!0,key:t,onClick:function(){F(t),e.setSandM(d.name,t)}},o.a.createElement(Za.a,{style:{height:10,width:10,marginRight:10}}),t)})):"")))},no=function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(""),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)({topic:"",forSubject:"",forModule:"",src:""}),d=Object(N.a)(p,2),h=d[0],g=d[1];Object(a.useEffect)((function(){return m("comingFromLeftP5"),function(){console.log("Component UnMounted")}}),[]);var f=Object(a.useState)(!1),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(!1),j=Object(N.a)(v,2),O=j[0],k=j[1],S=""===h.forModule||""===h.forSubject||""===h.src||""===h.topic;return o.a.createElement(a.Fragment,null,o.a.createElement(st.a,{open:b,autoHideDuration:6e3,onClose:function(){E(!1)},anchorOrigin:{horizontal:"center",vertical:"top"},message:"Error Posting Note"}),o.a.createElement($a.a,{active:O,style:{zIndex:1309}},o.a.createElement(Qe.a,{style:{width:100,height:100,color:"black"}})),o.a.createElement(bt.a,{className:u,open:e.open,dimmer:"inverted",onClose:function(){m("fadeAway"),setTimeout((function(){e.onClose()}),300)}},o.a.createElement(bt.a.Header,null,"Add Notes.."),o.a.createElement(bt.a.Content,null,o.a.createElement("div",{style:{padding:10,fontFamily:"poppins"}},"Disclaimer !!! You Can't Add Notes For Course and Branch Other Than Yours"),o.a.createElement(to,{setSandM:function(e,t){g(Object(c.a)({},h,{forModule:t,forSubject:e}))}}),o.a.createElement("input",{placeholder:"Enter The Topic Description...",value:h.topic,onFocus:function(){i(!0)},onBlur:function(){i(!1)},onChange:function(e){g(Object(c.a)({},h,{topic:e.target.value}))},style:{width:"90%",padding:10,borderRadius:10,boxShadow:"0px 0px ".concat(r?10:1,"px rgba(0, 0, 0, 0.05)"),border:"0.5px solid lightgrey",transition:"0.2s ease",outline:"none",fontWeight:"bold",fontSize:13,margin:10}})),o.a.createElement(bt.a.Content,null,o.a.createElement($n.a,{accept:"application/pdf",method:"PUT",headers:{Authorization:localStorage.getItem("AnonymityToken#123"),contentType:"application/json"},name:"pdf",action:"".concat(D,"/upload/notes"),onChange:function(e){"done"===e.file.status&&g(Object(c.a)({},h,{src:e.file.response}))},onRemove:function(){eo(localStorage.getItem("AnonymityToken#123"),h.src.key),g(Object(c.a)({},h,{src:""}))}},o.a.createElement(ie.a,{variant:"outlined"},o.a.createElement(Ka.a,{style:{marginRight:4}}),"Upload Pdf"))),o.a.createElement(bt.a.Actions,null,o.a.createElement(ie.a,{variant:"contained",disableElevation:!0,disabled:S,color:"primary",onClick:function(){k(!0),function(e,t){var n=new Headers;return n.append("content-type","application/json"),n.append("Authorization",e),fetch("".concat(D,"/post/notes"),{method:"POST",headers:n,body:JSON.stringify(t)})}(localStorage.getItem("AnonymityToken#123"),h).then(function(){var t=Object(le.a)(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ok){t.next=4;break}return k(!1),e.onSuccess(),t.abrupt("return",e.onClose());case 4:k(!1),E(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){k(!1),E(!0)}))},style:{marginRight:10,marginBottom:10,background:S?"rgba(0,0,0,0.1)":"rgba(135,206,255,1)"}},"Post Notes"),o.a.createElement(ie.a,{variant:"outlined",style:{marginBottom:10},onClick:function(){eo(localStorage.getItem("AnonymityToken#123"),h.src.key),g(Object(c.a)({},h,{src:""})),m("fadeAway"),setTimeout((function(){e.onClose()}),300)}},"Exit"))))},ao=n(310),oo=n(979),ro=n(980),io=n(981),so=n(978),co=function(e){var t=e.noteDetails,n=Object(a.useState)(t.upVotes),r=Object(N.a)(n,2),i=r[0],s=r[1],c=Object(a.useState)(t.downVotes),l=Object(N.a)(c,2),u=l[0],m=l[1],p=Object(a.useState)(e.isUpVoted),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)(e.isDownVoted),y=Object(N.a)(f,2),b=y[0],E=y[1];return o.a.createElement(bt.a,{open:Boolean(t),onClose:function(){e.onClose()},className:"comingFromUpP5",dimmer:"inverted"},o.a.createElement(An.a,null,o.a.createElement(ba,{style:{justifyContent:"flex-start"}},o.a.createElement(A.a,{src:t.by.profilephoto}),o.a.createElement("div",{style:{fontWeight:"bold",fontFamily:"poppins",margin:10}},t.by.username),o.a.createElement("div",{style:{fontFamily:"poppins",margin:10,fontSize:12}},"Posted This Note..."),o.a.createElement("div",{style:{fontFamily:"poppins",margin:10,marginLeft:0,fontSize:10}},$e()(t.postedOn).fromNow()))),o.a.createElement(bt.a.Content,null,o.a.createElement("iframe",{src:t.src.pdfUrl,width:"100%",height:"500px",style:{border:"none",outline:"none",boxShadow:"none"},title:t.title})),o.a.createElement(bt.a.Content,null,"Upvote",o.a.createElement(F.a,{disableRipple:!0,onClick:function(){g(!h),s(h?i-1:i+1),m(b?u-1:u),E(b?!b:b),lo(localStorage.getItem("AnonymityToken#123"),t._id).then().catch()}},o.a.createElement(In.a,{className:h?"fadeUpToBlue":"fadeUp",style:{animation:"none"}})),"DownVote",o.a.createElement(F.a,{onClick:function(){E(!b),m(b?u-1:u+1),s(h?i-1:i),g(h?!h:h),uo(localStorage.getItem("AnonymityToken#123"),t._id).then().catch()},disableRipple:!0},o.a.createElement(Bn.a,{className:b?"fadeUpToRed":"fadeUp",style:{animation:"none"}})),o.a.createElement(ba,null,o.a.createElement("div",{style:{fontFamily:"poppins",fontSize:12,marginRight:10,animation:"none",fontWeight:"bold"},className:h?"fadeUpToBlue":"fadeUp"},"UpVotes.... ",i),o.a.createElement("div",{style:{fontFamily:"poppins",fontSize:12,animation:"none",fontWeight:"bold"},className:b?"fadeUpToRed":"fadeUp"},"DownVotes.... ",u))),o.a.createElement(bt.a.Actions,null,o.a.createElement(Fn.a,{onClick:function(){e.onClose()}},"Close")))},lo=function(e,t){var n=new Headers;return n.append("Authorization",e),fetch("".concat(D,"/notes/upVote/").concat(t),{method:"GET",headers:n})},uo=function(e,t){var n=new Headers;return n.append("Authorization",e),fetch("".concat(D,"/notes/downVote/").concat(t),{method:"GET",headers:n})},mo=Object(y.b)((function(e){return{id:e.userReducer.id}}))((function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)([]),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)(!0),p=Object(N.a)(m,2),d=p[0],h=p[1],g=Object(a.useState)(0),f=Object(N.a)(g,2),y=f[0],b=f[1],E=Object(a.useState)(null),v=Object(N.a)(E,2),j=v[0],O=v[1],k=Object(a.useState)(1),S=Object(N.a)(k,2),w=S[0],C=S[1],x=function(){var t=Object(le.a)(ce.a.mark((function t(n){var a,o,r,s,c,l;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),(a=new Headers).append("content-type","application/json"),a.append("Authorization",localStorage.getItem("AnonymityToken#123")),o=JSON.stringify(e.subjectAndModule),t.next=7,fetch("".concat(D,"/notes/forModule/").concat(n),{method:"POST",body:o,headers:a});case 7:if(!(r=t.sent).ok){t.next=18;break}return t.next=11,r.json();case 11:return s=t.sent,c=s.result,l=s.count,console.log(c.length),u(c),b(l||y),t.abrupt("return",i(!1));case 18:i(!1);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return d&&(x(0),h(!1)),o.a.createElement(a.Fragment,null,j?o.a.createElement(co,{isUpVoted:j.upVotedBy.find((function(t){return t.user.toString()===e.id})),isDownVoted:j.downVotedBy.find((function(t){return t.user.toString()===e.id})),noteDetails:j,onClose:function(){O(null)}}):"",o.a.createElement(bt.a,{open:Boolean(e.subjectAndModule),onClose:function(){e.onClose()},className:"comingFromRightP5",dimmer:"inverted"},o.a.createElement(ao.a,{scrolling:!0},o.a.createElement(I.a,null,r?o.a.createElement(a.Fragment,null,o.a.createElement(ba,null,o.a.createElement(so.a,{style:{width:100,height:100,marginTop:30},size:"large"})),o.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center",marginTop:40}},"Fetching Notes For You....")):0===l.length?o.a.createElement(Ze.a,{status:"info",title:"No Notes For This Module Currently..."}):l.map((function(e,t){return o.a.createElement(a.Fragment,{key:e._id},o.a.createElement(B.a,{style:{fontWeight:"bold"},button:!0,onClick:function(){O(e)}},o.a.createElement(oo.a,null,o.a.createElement(A.a,{src:e.by.profilephoto})),o.a.createElement(ro.a,null,o.a.createElement("div",{style:{fontWeight:"bold",fontFamily:"poppins"}},"Topic : "," "+e.topic)),o.a.createElement(io.a,null,o.a.createElement(ba,{style:{justifyContent:"flex-end"}},o.a.createElement(In.a,{style:{marginRight:6}}),o.a.createElement("div",null,e.upVotes)))),o.a.createElement(z.a,null))})))),y>10?o.a.createElement(ao.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement(wn.a,{size:"small",page:w,onChange:function(e,t){C(t),x(10*(t-1))},count:parseInt(y/10)+1})):"",o.a.createElement(ga.a,null,o.a.createElement(ie.a,{style:{marginBottom:10},variant:"outlined",color:"secondary",onClick:function(){e.onClose()}},"Close"))))})),po=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t},ho=function(e){var t=Object(a.useState)(null),n=Object(N.a)(t,2),r=n[0],i=n[1];return o.a.createElement(a.Fragment,null,Boolean(r)?o.a.createElement(mo,{subjectAndModule:r,onClose:function(){i(null)}}):"",o.a.createElement(ba,{style:{margin:30}},o.a.createElement("h1",{style:{fontFamily:"poppins",fontWeight:"bold",color:"grey",fontSize:16}},e.subject.name)),o.a.createElement(ba,{style:{margin:30}},o.a.createElement("div",{style:{fontWeight:"bolder",fontFamily:"poppins",fontSize:14}},e.subject.for.course.toUpperCase()+" (".concat(e.subject.for.branch.toUpperCase(),")"))),po(e.subject.moduleCount).map((function(t){return o.a.createElement(ba,{key:t,style:{margin:10}},o.a.createElement(ie.a,{className:"fadeUp",variant:"outlined",style:{padding:10,animationDelay:"".concat(.1*(t-1),"s"),width:300,fontFamily:"poppins",fontSize:13},onClick:function(){i(Object(c.a)({},e.subject,{module:t}))}},"Module ".concat(t)))})),o.a.createElement(ba,{style:{margin:50}}))},go=function(e){return"unknown"===e?{left:"auto",bottom:"auto"}:{position:"fixed",right:"3%",bottom:"12%"}},fo=Object(y.b)((function(e){return{id:e.userReducer.id}}))((function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),l=Object(N.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)("unknown"),d=Object(N.a)(p,2),h=d[0],g=d[1],f=Object(a.useState)(null),y=Object(N.a)(f,2),b=y[0],E=y[1],v=Object(a.useState)(null),j=Object(N.a)(v,2),O=j[0],k=j[1];return o.a.createElement(a.Fragment,null,o.a.createElement(st.a,{autoHideDuration:2e3,onClose:function(){m(!1)},transitionDuration:500,open:u,anchorOrigin:{vertical:"top",horizontal:"center"},message:"Notes Posted...."}),o.a.createElement(ba,{style:{marginBottom:30}},o.a.createElement(Xa,{handleSubjectChange:function(e){g("subject"),E(e)},handleTopicChange:function(e){g("topic"),k(e)}})),"subject"===h?o.a.createElement(ho,{subject:b}):"",o.a.createElement(a.Fragment,null,r?o.a.createElement(no,{open:r,onClose:function(){i(!1)},onSuccess:function(){return m(!0)}}):""),"unknown"===h?o.a.createElement(Ae.a,{horizontal:!0},"Or"):"",o.a.createElement(ba,{style:Object(c.a)({transition:"1s ease"},go(h))},"unknown"===h?o.a.createElement("div",{style:{margin:15,fontFamily:"poppins",fontWeight:"bold"}},"Add Notes..."):"",o.a.createElement(ke.a,{style:{marginLeft:25,background:"white",boxShadow:"0px 0px 20px rgba(0,0,0,0.2)"},onClick:function(){i(!0)}},o.a.createElement("img",{style:{width:30,height:30},src:"https://img.icons8.com/color/50/000000/plus-math.png"}))),O?o.a.createElement(co,{onClose:function(){k(null),g("unknown")},noteDetails:O,isUpVoted:O.upVotedBy.find((function(t){return t.user.toString()===e.id})),isDownVoted:O.downVotedBy.find((function(t){return t.user.toString()===e.id}))}):"")})),yo=function(e){return o.a.createElement(ct.a,{container:!0},o.a.createElement(ct.a,{item:!0,xs:3}),o.a.createElement(ct.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center"}},e.children),o.a.createElement(ct.a,{item:!0,xs:3}))},bo=function(e){return o.a.createElement("div",null,o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",lineHeight:2,fontSize:20,padding:20,marginBottom:100,flexGrow:3}},'This Website Basically Works As a Complaint Management System For the College. you can post your complaints (either Anonymously or vice versa) and If your Complaint Manage To get Enough UpVotes Then That Problem Will Be Visible To Your Staff And They\'ll Take Action if they find that your complaint is Worth Considering(Remember DownVotes Will Also get Counted "-ve") . This Website Also Allow Staff To Post Notices. And Also There is a Separated Section for Notes Where Teachers Can Post Notes in an Organized Manner On The Website So That Any Student Can Access Them.'),o.a.createElement("div",null,o.a.createElement(Ae.a,{horizontal:!0,style:{fontSize:13,marginTop:"50%",fontFamily:"poppins",marginBottom:100,textTransform:"none"}},"By @Paras_Kanwar")))},Eo=function(e){return o.a.createElement("div",null,o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(yo,null,o.a.createElement(bo,null))),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(yo,null,o.a.createElement(bo,null))),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(bo,null)))},vo=function(e){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("hello form has been submitted")}},o.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file",multiple:!0,name:"image",type:"file",onChange:function(e){(new Headers).append("content-type","multipart/form-data");var t=new FormData;t.append("".concat(e.target.name),e.target.files[0]),console.log(t),fetch("".concat(D,"/testing"),{method:"POST",body:t}).then((function(e){console.log("Uploaded Successfully !!")})).catch((function(e){console.log(e.message)}))}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(ie.a,{variant:"contained",color:"primary",component:"span"},"Upload")),o.a.createElement(ie.a,{type:"submit"}," Submit "),o.a.createElement(ie.a,null," hello ")))},jo=Object(te.a)({palette:{primary:Ke.a,secondary:de.a}}),Oo=function(e){Object(k.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={value:0},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.location.pathname.toLowerCase().includes("sensitive")&&this.setState({value:1})}},{key:"render",value:function(){var e=this;return o.a.createElement(ne.a,{theme:jo},o.a.createElement(L.a,{style:{backgroundColor:"rgba(0,0,0,0.01)"},elevation:0},o.a.createElement(mn.a,{onChange:function(t,n){e.setState({value:n}),e.props.history.push("".concat(0==n?"/anonymity/nearby":"/anonymity/nearby/sensitive"))},TabIndicatorProps:{style:{height:2,backgroundColor:"black"}},centered:!0,value:this.state.value},o.a.createElement(pn.a,{color:"primary",textColor:"primary",icon:o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/peace-symbol.png",style:{width:30,height:30}}),label:"insensitive",disableRipple:!0}),o.a.createElement(pn.a,{icon:o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/keep-away-from-children.png",style:{width:30,height:30}}),label:"Sensitive",disableRipple:!0}))))}}]),n}(o.a.Component),ko=Object(y.b)((function(e){return{currentHomeTab:e.HomeReducer}}))(Oo),So=n(985),wo=n(982),Co=n(983),xo=n(984),To=n(986),Po=function(e){return o.a.createElement(a.Fragment,null,o.a.createElement(ba,{style:{marginTop:100}},o.a.createElement("img",{src:"https://img.icons8.com/color/96/000000/id-not-verified.png"})),o.a.createElement("div",{style:{textAlign:"center",marginTop:20,fontWeight:"bold",fontSize:17,marginLeft:15,marginRight:15}},"Sorry You Are Not Authorize To View This Content."))},No=[{by:"Latest",value:{sortBy:{_id:-1},name:"Latest"},icon:o.a.createElement(wo.a,null)},{by:"Oldest",value:{sortBy:{_id:1},name:"Oldest"},icon:o.a.createElement(Ln.a,null)},{by:"High Nude Probability",value:{sortBy:{nudeProb:-1},name:"HighN"},icon:o.a.createElement(Co.a,null)},{by:"Low Nude Probability",value:{sortBy:{nudeProb:1},name:"LowN"},icon:o.a.createElement(xo.a,null)}],Fo=function(e){return o.a.createElement(a.Fragment,null,o.a.createElement(He.a,He.a.onlyComputer,o.a.createElement(Ao,{id:e.id,socket:e.socket,deviceType:"comp",history:e.history,problems:e.problems})),o.a.createElement(He.a,He.a.onlyTablet,o.a.createElement(Ao,{id:e.id,socket:e.socket,deviceType:"tab",history:e.history,problems:e.problems})),o.a.createElement(He.a,He.a.onlyMobile,o.a.createElement(Ao,{id:e.id,deviceType:"mob",socket:e.socket,history:e.history,problems:e.problems})))},Ao=function(e){return e.problems.length>0?o.a.createElement(ba,null,o.a.createElement(pa,{Problems:e.problems,id:e.id,socket:e.socket,history:e.history,deviceType:e.deviceType})):o.a.createElement(a.Fragment,null,o.a.createElement(ba,{style:{marginTop:60}},o.a.createElement("img",{src:"https://img.icons8.com/color/96/000000/nothing-found.png"})),o.a.createElement("div",{style:{fontSize:20,color:"black",fontWeight:"bold",textAlign:"center",fontFamily:"poppins"}},"No Complaints..."))},Ro=Object(y.b)((function(e){return{id:e.userReducer.id}}))((function(e){var t=Object(a.useState)("unknown"),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(N.a)(s,2),l=c[0],u=c[1],m=Object(a.useState)([]),p=Object(N.a)(m,2),d=p[0],h=p[1],g=Object(a.useState)(null),f=Object(N.a)(g,2),y=(f[0],f[1]),b=Object(a.useState)({sortBy:{_id:-1},name:"Latest"}),E=Object(N.a)(b,2),v=E[0],j=E[1],O=Object(a.useState)(null),k=Object(N.a)(O,2),S=(k[0],k[1],Object(a.useState)(0)),w=Object(N.a)(S,2),C=w[0],x=w[1],T=Object(a.useState)(1),P=Object(N.a)(T,2),A=P[0],R=P[1],L=Object(a.useState)(null),z=Object(N.a)(L,2),H=z[0],M=z[1],U=Object(a.useState)(!1),W=Object(N.a)(U,2),D=W[0],Y=W[1];e.socket&&!e.socket._callbacks.$sensitiveComplaints&&e.socket.on("sensitiveComplaints",(function(e){"added"===e.action&&Y(!0)}));var V=function(){var e=Object(le.a)(ce.a.mark((function e(t,n){var a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,Z(t,n);case 4:if(401!==(a=e.sent).status){e.next=10;break}i(!1),u(!1),e.next=17;break;case 10:return i(!0),e.next=13,a.json();case 13:o=e.sent,h(o.problems),x(parseInt(o.count/10+1)),u(!1);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),u(!1),y("Internal Server Error");case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,n){return e.apply(this,arguments)}}();return o.a.createElement(a.Fragment,null,l?o.a.createElement(ba,{style:{marginTop:80}},o.a.createElement(Qe.a,{style:{color:"black"}})):"",!1===r?o.a.createElement(Po,null):"unknown"!==r||l?"":o.a.createElement(a.Fragment,null,o.a.createElement("div",{style:{fontFamily:"poppins",fontWeight:"bold",fontSize:15,textAlign:"center",marginTop:30,padding:10}},"This Section Consists Of Complaints Whose Likelihood of Consisting Nude Content is Higher Than 50% So Click On The Button At Your Own Risk"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:30}},o.a.createElement(ie.a,{variant:"outlined",onClick:function(){V(0)}},"View Complaints Anyway"))),l||!0!==r?"":o.a.createElement(a.Fragment,null,o.a.createElement(_a.a,{open:Boolean(H),anchorEl:H,placement:"top-end"},o.a.createElement(I.a,{component:"nav",style:{boxShadow:"0px 0px 10px rgba(0,0,0,0.1)",width:300,transform:"translateY(-10px)",background:"rgba(255,255,255,1)",borderRadius:10,overflowY:"auto",maxHeight:450}},o.a.createElement(B.a,null,o.a.createElement(ro.a,{style:{color:"black",fontWeight:"bold"},primary:"Sort By",secondary:"Something"})),o.a.createElement(I.a,{component:"nav",disablePadding:!0},No.map((function(e){return o.a.createElement(B.a,{button:!0,onClick:function(t){v.name!==e.value.name&&(j(e.value),V(0,{sortBy:e.value}),R(1),M(null))},key:e.by},o.a.createElement(So.a,null,e.icon),o.a.createElement(ro.a,{primary:e.by}),o.a.createElement(Na.a,{onChange:function(t){j(e.value)},checked:v.name===e.value.name}))}))))),o.a.createElement(ke.a,{style:{background:"white",position:"fixed",right:"2%",bottom:"10%",zIndex:1e3},onClick:function(e){if(!Boolean(H))return M(e.currentTarget);M(null)}},o.a.createElement("img",{style:{width:30,height:30},src:"https://img.icons8.com/color/48/000000/sorting-answers.png"})),o.a.createElement(st.a,{open:D,transitionDuration:500,autoHideDuration:6e3,onClose:function(){Y(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:"There Might Be New Sensitive Complaints",ContentProps:{style:{fontFamily:"poppins",fontSize:16}},action:o.a.createElement(a.Fragment,null,o.a.createElement(F.a,{style:{color:"white"},onClick:function(){V(0),R(1),Y(!1)}},o.a.createElement(To.a,null)),o.a.createElement(F.a,{onClick:function(){return Y(!1)},style:{color:"red"}},o.a.createElement(Aa.a,null)))}),o.a.createElement(Fo,{socket:e.socket,id:e.id,problems:d,history:e.history}),o.a.createElement(ba,{style:{marginTop:100,marginBottom:300}},o.a.createElement(wn.a,{color:"secondary",count:C,page:A,onChange:function(e,t){R(t),V(10*(t-1),{sortBy:v})}}))))})),Lo=function(e){return o.a.createElement(On,Object.assign({},e,{Component:ma}))},Io=function(e){return o.a.createElement(On,Object.assign({},e,{Component:Ma}))},Bo=function(e){return o.a.createElement(On,Object.assign({},e,{Component:Ya}))},zo=function(e){return o.a.createElement(On,Object.assign({},e,{Component:Ga}))},Ho=function(e){return o.a.createElement(On,Object.assign({},e,{Component:Ro}))},Mo=function(e){return o.a.createElement(On,Object.assign({},e,{Component:fo}))},Uo=function(e){return o.a.createElement(On,Object.assign({},e,{Component:St}))},Wo=Object(y.b)((function(e){return{isAuth:e.authReducer}}))((function(){var e=o.a.createElement("div",null,o.a.createElement(b.a,{path:"/anonymity",component:_e}),o.a.createElement(b.a,{path:"/anonymity/Home",component:gn}),o.a.createElement(b.a,{path:"/anonymity/nearby",component:ko}),o.a.createElement(b.c,null,o.a.createElement(b.a,{exact:!0,path:"/anonymity/nearby/sensitive",component:Ho}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/Nearby",component:Io}),o.a.createElement(b.a,{exact:!0,path:"/",component:Gt}),o.a.createElement(b.a,{exact:!0,path:"/signup",component:un}),o.a.createElement(b.a,{exact:!0,path:"/loginA",component:Gt}),o.a.createElement(b.a,{exact:!0,path:"/login",component:Gt}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/Home/MyProblems",component:Lo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/person",component:Bo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/person/:id",component:zo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/Home",component:Lo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/Home/Notes",component:Mo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/About",component:Eo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/Cropper",component:fa}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/imageUpload",component:vo}),o.a.createElement(b.a,{exact:!0,path:"/anonymity/messages",component:Uo}),o.a.createElement(b.a,{path:"",component:fn})));return o.a.createElement(E.a,null,e)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Do=Object(s.c)(f);i.a.render(o.a.createElement(y.a,{store:Do},o.a.createElement(Wo,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[504,1,2]]]);
//# sourceMappingURL=main.8f2a9e8e.chunk.js.map